import{k as g,t as k,l as A,r as m,o as x,e as b,n as B,u as C,g as h,m as E,q as U,i as W,s as D,v as $,c as w,x as q,w as R}from"./@vue-BhOIXUCP.js";function T(e){return E()?(U(e),!0):!1}function p(e){return typeof e=="function"?e():C(e)}const M=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const z=e=>e!=null,S=()=>{};function O(e){return h()}function G(...e){if(e.length!==1)return k(...e);const n=e[0];return typeof n=="function"?A(g(()=>({get:n,set:S}))):m(n)}function Q(e,n=1e4){return g((o,u)=>{let i=p(e),t;const a=()=>setTimeout(()=>{i=p(e),u()},p(n));return T(()=>{clearTimeout(t)}),{get(){return o(),i},set(c){i=c,u(),clearTimeout(t),t=a()}}})}function L(e,n){O()&&x(e,n)}function F(e,n=!0,o){O()?b(e,o):n?e():B(e)}function V(e,n,o){let u;W(o)?u={evaluating:o}:u={};const{lazy:i=!1,evaluating:t=void 0,shallow:a=!0,onError:c=S}=u,l=m(!i),d=a?D(n):m(n);let f=0;return $(async r=>{if(!l.value)return;f++;const s=f;let v=!1;t&&Promise.resolve().then(()=>{t.value=!0});try{const y=await e(_=>{r(()=>{t&&(t.value=!1),v||_()})});s===f&&(d.value=y)}catch(y){c(y)}finally{t&&s===f&&(t.value=!1),v=!0}}),i?w(()=>(l.value=!0,d.value)):d}function I(e){var n;const o=p(e);return(n=o?.$el)!=null?n:o}const N=M?window:void 0,P=M?window.document:void 0;function X(e,n=null){const o=h();let u=()=>{};const i=g((t,a)=>(u=a,{get(){var c,l;return t(),(l=(c=o?.proxy)==null?void 0:c.$refs[e])!=null?l:n},set(){}}));return F(u),q(u),i}function j(){const e=m(!1),n=h();return n&&b(()=>{e.value=!0},n),e}function H(e){const n=j();return w(()=>(n.value,!!e()))}function J(e,n,o={}){const{window:u=N,...i}=o;let t;const a=H(()=>u&&"MutationObserver"in u),c=()=>{t&&(t.disconnect(),t=void 0)},l=w(()=>{const s=p(e),v=(Array.isArray(s)?s:[s]).map(I).filter(z);return new Set(v)}),d=R(()=>l.value,s=>{c(),a.value&&u&&s.size&&(t=new MutationObserver(n),s.forEach(v=>t.observe(v,i)))},{immediate:!0,flush:"post"}),f=()=>t?.takeRecords(),r=()=>{c(),d()};return T(r),{isSupported:a,stop:r,takeRecords:f}}function Y(e=null,n={}){var o,u,i;const{document:t=P,restoreOnUnmount:a=r=>r}=n,c=(o=t?.title)!=null?o:"",l=G((u=e??t?.title)!=null?u:null),d=e&&typeof e=="function";function f(r){if(!("titleTemplate"in n))return r;const s=n.titleTemplate||"%s";return typeof s=="function"?s(r):p(s).replace(/%s/g,r)}return R(l,(r,s)=>{r!==s&&t&&(t.title=f(typeof r=="string"?r:""))},{immediate:!0}),n.observe&&!n.titleTemplate&&t&&!d&&J((i=t.head)==null?void 0:i.querySelector("title"),()=>{t&&t.title!==l.value&&(l.value=f(t.title))},{childList:!0}),L(()=>{if(a){const r=a(c,l.value||"");r!=null&&t&&(t.title=r)}}),l}export{V as c,Q as r,X as t,Y as u};
