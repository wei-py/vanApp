import{m as y,_ as w}from"./makeForm-C_uyyvx9.js";import{m,b as T}from"./backfill-hh-glB-L.js";import{v as c,c as r}from"./Biztype-DPM88l-Q.js";import{w as C,g as x,j as F,c as p,C as u,h as g}from"./index-NPFU1_kq.js";import"./lodash-C-AG1eJN.js";import{m as s}from"./makeUpload-FhoYjxox.js";import{q as d}from"./queryUrl-ggRt1bhs.js";import{a as k}from"./vant-DL9g20lT.js";import{c as e,e as _,Z as v,_ as V,N as n,u as i,F as U}from"./@vue-BhOIXUCP.js";import"./class-rRG2y2aF.js";import"./pinia-CQ-jtR3-.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-XNYRUkAR.js";import"./@vueuse-BaMGbt4d.js";import"./axios-B6xwUs71.js";import"./@x-ui-vue3-bC99Tnvx.js";import"./pinia-plugin-persist-J3Q2VqHx.js";import"./vue3-menus-VHbn-zkx.js";import"./vue3-photo-preview-Dedu722r.js";import"./vxe-table-BBegQXiE.js";import"./xe-utils-BM3aD2L3.js";import"./dayjs-Bof1u0Bp.js";import"./dom-zindex-GlLoxNk1.js";import"./@vant-D2Uub16A.js";const A=[{...m("合同签约"),hidden:e(()=>c()!="ZZD_ORG")},{formType:"input",name:"leaseSigneUrl",label:"线上签约(跳转资方H5)",readonly:!0,hidden:e(()=>c()!="ZZD_ORG"),realValue:"",backfill(t){this.realValue=t.leaseSigneUrl,this.value=""}},{formType:"cell",titleClass:" xCenter",hidden:e(()=>c()!="ZZD_ORG"),inlineForm:[{slot:"title",formType:"button",url:"",text:"复制链接",round:!0,size:"small",type:"primary",class:" !py-1 !bg-[#fff] !text-[#ffab30] !border-0 w-[30%] ",click(){C(x("leaseSigneUrl").realValue)}}]},{...m("电子合同下载"),hidden:e(()=>r())},{formType:"input",name:"leaseSigneUrl",label:"线上签约(跳转资方H5)",hidden:e(()=>r()),isLink:!0,realValue:"",click(){F(this.realValue)},backfill(t){this.realValue=t.leaseSigneUrl,this.realValue&&(this.value="一键下载")}},{formType:"cell",titleClass:" xCenter",hidden:e(()=>r()),inlineForm:[{slot:"title",formType:"button",url:"",text:"复制下载链接",round:!0,size:"small",type:"primary",class:" !py-1 !bg-[#fff] !text-[#ffab30] !border-0 w-[30%] ",click(){k("资方暂未支持此功能, 请联系博通总部商务中心, 获取合同")}}]}],S=[{...m("屋顶方已盖章合同扫描件上传"),hidden:e(()=>r())},{...s(999,100,"*"),name:"orgLegalIdAuthFile",label:"法人代表/负责人身份证明书(盖公章)",hidden:e(()=>r()),required:!0},{...s(999,100,"*"),name:"orgSignatureChop",label:"法人组织预留印鉴",hidden:e(()=>r()),required:!0},{formType:"cell",value:"提示: 盖公章、法人代表名字章、财务专用章。若确无财务专用章可不盖；若无法人代表名字章可手写签名",valueClass:"text-red !text-left",hidden:e(()=>r())},{...s(1,100,"*"),name:"contract",label:"屋顶方已盖章合同扫描件",hidden:e(()=>r()),required:!0},{formType:"cell",value:"提示: 上传 “法人代表/负责人身份证明书”、“法人组织预留印鉴”、“屋顶方已盖章合同扫描件” 及签约现场系列照片成功后，项目详情里的 “合同签约” 环节右侧将显示绿色的 “已签约”",valueClass:"text-red !text-left",hidden:e(()=>r())}],q=[{...m("双方已盖章合同扫描件上传"),hidden:e(()=>r())},{...s(1,100,"*"),name:"signPhoto",label:"现场签字照",hidden:e(()=>r()),required:!0},{...s(1,100,"*"),name:"stampUsedPhoto",label:"现场用印照",hidden:e(()=>r()),required:!0},{...s(1,100,"*"),name:"signOverPhoto",label:"签约完成照",hidden:e(()=>r()),required:!0},{formType:"cell",value:"提示:1, 现场签字照: 法人代表/负责人正脸、持笔或持法人代表章, 与合同签署页同框拍摄; 2, 现场用印照: 法人代表/负责人正脸、持印, 与合同签署页同框拍摄; 3, 签署完成照: 法人代表/负责人正脸, 与合同、身份证、统一社会信用代码证/组织机构代码证（村委）或营业执照（集体经济组织）同框拍摄”",valueClass:"text-red !text-left",hidden:e(()=>r())}],Z=[{formType:"input",name:"",readonly:!0,labelClass:"!w-0",valueClass:"!bg-[#f3f3f3] !pt-0",inputAlign:"center",class:"!bg-[#f3f3f3] !pt-0",inlineForm:[{slot:"input",formType:"button",text:"屋顶租赁合同下载",round:!0,size:"small",realValue:"TENANT",type:"primary",class:" !py-1 !bg-[#ffab30] text-white !border-0 w-[70%]",click(){const t={orderId:p()?.orderId,contractType:this.realValue},a=u.prod.app,l=d(`${a}/order/leaseContract/get-pdf`,t);window.open(l)}}],backfill(t){this.inlineForm[0].disabled=!t.TENANT}},{formType:"input",name:"",readonly:!0,labelClass:"!w-0",valueClass:"!bg-[#f3f3f3] !pt-0",inputAlign:"center",class:"!bg-[#f3f3f3] !pt-0",inlineForm:[{slot:"input",formType:"button",text:"买卖合同下载",realValue:"SELLER",round:!0,size:"small",type:"primary",class:" !py-1 !bg-[#ffab30] text-white !border-0 w-[70%]",click(){const t={orderId:p()?.orderId,contractType:this.realValue},a=u.prod.app,l=d(`${a}/order/leaseContract/get-pdf`,t);window.open(l)}}],backfill(t){this.inlineForm[0].disabled=!t.SELLER}},{formType:"input",name:"",readonly:!0,labelClass:"!w-0",valueClass:"!bg-[#f3f3f3] !pt-0",inputAlign:"center",realValue:"FACTORY",class:"!bg-[#f3f3f3] !pt-0",inlineForm:[{slot:"input",formType:"button",text:"运维合同下载",round:!0,size:"small",type:"primary",class:" !py-1 !bg-[#ffab30] text-white !border-0 w-[70%]",click(){const t={orderId:p()?.orderId,contractType:this.realValue},a=u.prod.app,l=d(`${a}/order/leaseContract/get-pdf`,t);window.open(l)}}],backfill(t){this.inlineForm[0].disabled=!t.FACTORY}}],ae={__name:"contractAward",setup(t){const a=y({contractAward:A,signedContractForm:S,signedSiteForm:q,button:Z}),l=p();_(()=>{console.log(l),h()});async function h(){let f=r()?"order/get-lease-contract":"order/org/get-contract";const{data:b}=await g.get(d(f,l)),o=await g.get("leaseContract/has-get-sign-btn");T(a,{...b,...o.data})}return(f,b)=>{const o=w;return v(),V(U,null,[n(o,{form:i(a).contractAward,class:"pt-3","group-class":"shadowC"},null,8,["form"]),n(o,{form:i(a).signedContractForm,class:"pt-3","group-class":"shadowC"},null,8,["form"]),n(o,{form:i(a).signedSiteForm,class:"pt-3","group-class":"shadowC"},null,8,["form"]),n(o,{form:i(a).button,class:"pt-3","group-class":"!bg-[#f8f8f8]"},null,8,["form"])],64)}}};export{ae as default};
