import{_ as g}from"./vBtn-h-mmgtbW.js";import{m as y,_ as b}from"./makeForm-C_uyyvx9.js";import{m as p,b as k}from"./backfill-hh-glB-L.js";import{m as v}from"./makeDate-DLj2cL6Z.js";import{b as F,m as T}from"./makeSelect-BzGYyrzS.js";import{m as D,a as C}from"./makeUpload-FhoYjxox.js";import{y as S,c as h,h as r,e as q,n as w}from"./index-NPFU1_kq.js";import{l as x}from"./lodash-C-AG1eJN.js";import{r as P}from"./runTime-DAjLGjV1.js";import{q as s}from"./queryUrl-ggRt1bhs.js";import{e as U,Z as X,_ as Y,N as c,u as i,F as B}from"./@vue-BhOIXUCP.js";import"./vant-DL9g20lT.js";import"./@vant-D2Uub16A.js";import"./class-rRG2y2aF.js";import"./dayjs-Bof1u0Bp.js";import"./axios-B6xwUs71.js";import"./pinia-CQ-jtR3-.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-XNYRUkAR.js";import"./@vueuse-BaMGbt4d.js";import"./@x-ui-vue3-bC99Tnvx.js";import"./pinia-plugin-persist-J3Q2VqHx.js";import"./vue3-menus-VHbn-zkx.js";import"./vue3-photo-preview-Dedu722r.js";import"./vxe-table-BBegQXiE.js";import"./xe-utils-BM3aD2L3.js";import"./dom-zindex-GlLoxNk1.js";const I=[p("购售电合同"),{...v({name:"contractPeriod",columnsType:["year"],formType:"YYYY"}),label:"购售电合同年限",required:!0},{formType:"input",label:"购售电地址是否一致",name:"isConsistent",required:!0,value:1,...F(),...T("isConsistent",[{text:"是",value:1},{text:"否",value:0,disabled:!0}])}],N=[p("购售电合同附件"),{...D(999,100),label:"PDF附件",required:!0,name:"contract",backfill(a){x.bind(C,this)(a)},getParam(a){a.contract=a.contract.map(o=>S(o)),a.contract=JSON.stringify(a.contract)}}],pt={__name:"electricityContract",setup(a){let o=y({electricityContractForm:I,contractForm:N});const l=h();U(()=>{P(m)});async function m(){const t="order/get-gs-elec-contract",{data:e}=await r.get(s(t,l));k(o,e)}async function u(){const t=w();return await r.post("order/put-gs-elec-contract",t)}async function f(t){t.taskId="TASK_GSDHTXX",await r.post(s("approval/put-approval/bto/gs-elec-contract",t))}async function d(t){t.taskId="TASK_GSDHTXX",await r.post("approval/do-approval/bto/gs-elec-contract",t)}return q({getData:m,saveData:u,submitData:f,approvalData:d}),(t,e)=>{const n=b,_=g;return X(),Y(B,null,[c(n,{form:i(o).electricityContractForm,class:"pt-3","group-class":"shadowC"},null,8,["form"]),c(n,{form:i(o).contractForm,class:"pt-3","group-class":"shadowC"},null,8,["form"]),c(_)],64)}}};export{pt as default};
