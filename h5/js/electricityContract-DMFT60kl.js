import{_ as g}from"./vBtn-LXvsT-fh.js";import{_ as y}from"./vantForm-CNH6TuWQ.js";import{m as p}from"./makeTitle-CzVkaK9t.js";import{m as b}from"./makeDate-CQnJhoTh.js";import{b as k,m as v}from"./makeSelect-CYTCxxsZ.js";import{m as F,a as T}from"./makeUpload-Du0F1yJj.js";import{E as D,c as C,h as r,e as S,y as h}from"./index-B7VWkQ_2.js";import{l as q}from"./lodash-DhpMPSDc.js";import{m as w}from"./makeForm-BmsmFLmR.js";import{r as X}from"./runTime-DAjLGjV1.js";import{q as s}from"./queryUrl-BTYYWpY7.js";import{b as x}from"./backfill-BoX-74Dj.js";import{e as P,aX as U,al as Y,N as m,u as i,F as B}from"./@vue-ts87NNlE.js";import"./vant-BF4L1TGb.js";import"./@vant-NmgEisJw.js";import"./wait-Dqho1LKt.js";import"./class-COLQ8iHP.js";import"./dayjs-DWD9bsSZ.js";import"./@vue-office-GFDCm3nC.js";import"./vue-demi-BEcyFcst.js";import"./vue-RHKPHaPZ.js";import"./axios-B4uVmeYG.js";import"./pinia-B_HOjTBS.js";import"./vue-router-Bw4qQE88.js";import"./@vueuse-QQdVrKV8.js";import"./xe-utils-DXe260hc.js";import"./@x-ui-vue3-CwLx_scX.js";import"./pinia-plugin-persist-J3Q2VqHx.js";import"./vue3-menus-CnNWMJEM.js";import"./vue3-photo-preview-CkWuweRQ.js";import"./vxe-table-QgdefRjh.js";import"./dom-zindex-GlLoxNk1.js";const I=[p("购售电合同"),{...b({name:"contractPeriod",columnsType:["year"],formType:"YYYY"}),label:"购售电合同年限",required:!0},{formType:"input",label:"购售电地址是否一致",name:"isConsistent",required:!0,value:1,...k(),...v("isConsistent",[{text:"是",value:1},{text:"否",value:0,disabled:!0}])}],N=[p("购售电合同附件"),{...F(999,100),label:"PDF附件",required:!0,name:"contract",backfill(o){q.bind(T,this)(o)},getParam(o){o.contract=o.contract.map(a=>D(a)),o.contract=JSON.stringify(o.contract)}}],_t={__name:"electricityContract",setup(o){let a=w({electricityContractForm:I,contractForm:N});const l=C();P(()=>{X(c)});async function c(){const t="order/get-gs-elec-contract",{data:e}=await r.get(s(t,l));x(a,e)}async function u(){const t=h();return await r.post("order/put-gs-elec-contract",t)}async function f(t){t.taskId="TASK_GSDHTXX",await r.post(s("approval/put-approval/bto/gs-elec-contract",t))}async function d(t){t.taskId="TASK_GSDHTXX",await r.post("approval/do-approval/bto/gs-elec-contract",t)}return S({getData:c,saveData:u,submitData:f,approvalData:d}),(t,e)=>{const n=y,_=g;return U(),Y(B,null,[m(n,{form:i(a).electricityContractForm,class:"pt-3","group-class":"shadowC"},null,8,["form"]),m(n,{form:i(a).contractForm,class:"pt-3","group-class":"shadowC"},null,8,["form"]),m(_)],64)}}};export{_t as default};
