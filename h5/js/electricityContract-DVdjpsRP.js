import{_ as g}from"./vBtn-B1AUVzOK.js";import{m as y,_ as b}from"./makeForm-zWuhmNjJ.js";import{m as p,b as k}from"./backfill-BgFTSTN7.js";import{m as v}from"./makeDate-FXuHvIN1.js";import{b as D,m as F}from"./makeSelect-DifxRlPP.js";import{m as T,a as C}from"./makeUpload-JSFo0Tsd.js";import{D as S,c as h,h as r,e as q,x as w}from"./index-C9aRjUQ6.js";import{l as x}from"./lodash-DhpMPSDc.js";import{r as X}from"./runTime-DAjLGjV1.js";import{q as s}from"./queryUrl-BTYYWpY7.js";import{e as P,aX as U,al as Y,N as c,u as i,F as B}from"./@vue-ts87NNlE.js";import"./vant-BjNCsb4u.js";import"./@vant-NmgEisJw.js";import"./wait-Dqho1LKt.js";import"./class-COLQ8iHP.js";import"./dayjs-DWD9bsSZ.js";import"./@vue-office-GFDCm3nC.js";import"./vue-demi-BEcyFcst.js";import"./vue-RHKPHaPZ.js";import"./axios-B4uVmeYG.js";import"./pinia-B_HOjTBS.js";import"./vue-router-Bw4qQE88.js";import"./@vueuse-QQdVrKV8.js";import"./xe-utils-DXe260hc.js";import"./@x-ui-vue3-CwLx_scX.js";import"./pinia-plugin-persist-J3Q2VqHx.js";import"./vue3-menus-CnNWMJEM.js";import"./vue3-photo-preview-CkWuweRQ.js";import"./vxe-table-QgdefRjh.js";import"./dom-zindex-GlLoxNk1.js";const I=[p("购售电合同"),{...v({name:"contractPeriod",columnsType:["year"],formType:"YYYY"}),label:"购售电合同年限",required:!0},{formType:"input",label:"购售电地址是否一致",name:"isConsistent",required:!0,value:1,...D(),...F("isConsistent",[{text:"是",value:1},{text:"否",value:0,disabled:!0}])}],N=[p("购售电合同附件"),{...T(999,100),label:"PDF附件",required:!0,name:"contract",backfill(a){x.bind(C,this)(a)},getParam(a){a.contract=a.contract.map(o=>S(o)),a.contract=JSON.stringify(a.contract)}}],ft={__name:"electricityContract",setup(a){let o=y({electricityContractForm:I,contractForm:N});const l=h();P(()=>{X(m)});async function m(){const t="order/get-gs-elec-contract",{data:e}=await r.get(s(t,l));k(o,e)}async function u(){const t=w();return await r.post("order/put-gs-elec-contract",t)}async function f(t){t.taskId="TASK_GSDHTXX",await r.post(s("approval/put-approval/bto/gs-elec-contract",t))}async function d(t){t.taskId="TASK_GSDHTXX",await r.post("approval/do-approval/bto/gs-elec-contract",t)}return q({getData:m,saveData:u,submitData:f,approvalData:d}),(t,e)=>{const n=b,_=g;return U(),Y(B,null,[c(n,{form:i(o).electricityContractForm,class:"pt-3","group-class":"shadowC"},null,8,["form"]),c(n,{form:i(o).contractForm,class:"pt-3","group-class":"shadowC"},null,8,["form"]),c(_)],64)}}};export{ft as default};
