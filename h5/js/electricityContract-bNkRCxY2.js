import{_ as g}from"./vBtn-CPNoENPz.js";import{m as y,_ as b}from"./makeForm-BYuXLPle.js";import{m as p,b as k}from"./backfill-BAe46Apz.js";import{m as v}from"./makeDate-ZNveK7oQ.js";import{b as F,m as T}from"./makeSelect-Dj-X-F4a.js";import{m as D,a as C}from"./makeUpload--4DuReni.js";import{B as S,c as h,h as r,e as q,v as w}from"./index-BCLLWcQc.js";import{l as X}from"./lodash-C1iNKp1x.js";import{r as x}from"./runTime-DAjLGjV1.js";import{q as s}from"./queryUrl-CUkA5NKU.js";import{e as B,aX as P,al as U,N as c,u as i,F as Y}from"./@vue-BHA94vdH.js";import"./vant-xiv0EFx3.js";import"./@vant-BMzV8Unt.js";import"./class-rRG2y2aF.js";import"./dayjs-19KvoO9f.js";import"./axios-B6xwUs71.js";import"./pinia-BOLtM30a.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-BQWAt7JZ.js";import"./@vueuse-BYPNFz0v.js";import"./xe-utils-D22uZPtC.js";import"./@x-ui-vue3-DYFNhZJM.js";import"./pinia-plugin-persist-J3Q2VqHx.js";import"./vue3-menus--RpDJ8QK.js";import"./vue3-photo-preview-Byv7Qnko.js";import"./vxe-table-CbQjGgi9.js";import"./dom-zindex-GlLoxNk1.js";const I=[p("购售电合同"),{...v({name:"contractPeriod",columnsType:["year"],formType:"YYYY"}),label:"购售电合同年限",required:!0},{formType:"input",label:"购售电地址是否一致",name:"isConsistent",required:!0,value:1,...F(),...T("isConsistent",[{text:"是",value:1},{text:"否",value:0,disabled:!0}])}],N=[p("购售电合同附件"),{...D(999,100),label:"PDF附件",required:!0,name:"contract",backfill(a){X.bind(C,this)(a)},getParam(a){a.contract=a.contract.map(o=>S(o)),a.contract=JSON.stringify(a.contract)}}],pt={__name:"electricityContract",setup(a){let o=y({electricityContractForm:I,contractForm:N});const l=h();B(()=>{x(m)});async function m(){const t="order/get-gs-elec-contract",{data:e}=await r.get(s(t,l));k(o,e)}async function u(){const t=w();return await r.post("order/put-gs-elec-contract",t)}async function f(t){t.taskId="TASK_GSDHTXX",await r.post(s("approval/put-approval/bto/gs-elec-contract",t))}async function d(t){t.taskId="TASK_GSDHTXX",await r.post("approval/do-approval/bto/gs-elec-contract",t)}return q({getData:m,saveData:u,submitData:f,approvalData:d}),(t,e)=>{const n=b,_=g;return P(),U(Y,null,[c(n,{form:i(o).electricityContractForm,class:"pt-3","group-class":"shadowC"},null,8,["form"]),c(n,{form:i(o).contractForm,class:"pt-3","group-class":"shadowC"},null,8,["form"]),c(_)],64)}}};export{pt as default};
