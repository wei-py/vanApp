import{_ as g}from"./vBtn-CFSnyGjN.js";import{m as y,_ as b}from"./makeForm-LXfxxl4j.js";import{m as p,b as k}from"./backfill-YTqXYfvZ.js";import{m as v}from"./makeDate-BEqrKniQ.js";import{b as F,m as T}from"./makeSelect-C4yghakN.js";import{m as D,a as C}from"./makeUpload-BNh7QOMX.js";import{B as S,c as h,h as r,e as q,v as w}from"./index-D0ldpvYI.js";import{l as X}from"./lodash-D-SkTV7p.js";import{r as x}from"./runTime-DAjLGjV1.js";import{q as s}from"./queryUrl-DaTGvNW7.js";import{e as B,aX as P,al as U,N as c,u as i,F as Y}from"./@vue-ts87NNlE.js";import"./vant-PdAvEskO.js";import"./@vant-NmgEisJw.js";import"./class-COLQ8iHP.js";import"./dayjs-C2mSY6L-.js";import"./@vue-office-D7CPqAIZ.js";import"./vue-demi-BO4xsXkA.js";import"./vue-B7fnMq6U.js";import"./axios-B6xwUs71.js";import"./pinia-B_HOjTBS.js";import"./vue-router-Bw4qQE88.js";import"./@vueuse-DLUPp4BS.js";import"./xe-utils-CfMIR_ol.js";import"./@x-ui-vue3-CwLx_scX.js";import"./pinia-plugin-persist-J3Q2VqHx.js";import"./vue3-menus-CnNWMJEM.js";import"./vue3-photo-preview-jb8ML41u.js";import"./vxe-table-CAWzlaHI.js";import"./dom-zindex-GlLoxNk1.js";const I=[p("购售电合同"),{...v({name:"contractPeriod",columnsType:["year"],formType:"YYYY"}),label:"购售电合同年限",required:!0},{formType:"input",label:"购售电地址是否一致",name:"isConsistent",required:!0,value:1,...F(),...T("isConsistent",[{text:"是",value:1},{text:"否",value:0,disabled:!0}])}],N=[p("购售电合同附件"),{...D(999,100),label:"PDF附件",required:!0,name:"contract",backfill(a){X.bind(C,this)(a)},getParam(a){a.contract=a.contract.map(o=>S(o)),a.contract=JSON.stringify(a.contract)}}],ut={__name:"electricityContract",setup(a){let o=y({electricityContractForm:I,contractForm:N});const l=h();B(()=>{x(m)});async function m(){const t="order/get-gs-elec-contract",{data:e}=await r.get(s(t,l));k(o,e)}async function u(){const t=w();return await r.post("order/put-gs-elec-contract",t)}async function f(t){t.taskId="TASK_GSDHTXX",await r.post(s("approval/put-approval/bto/gs-elec-contract",t))}async function d(t){t.taskId="TASK_GSDHTXX",await r.post("approval/do-approval/bto/gs-elec-contract",t)}return q({getData:m,saveData:u,submitData:f,approvalData:d}),(t,e)=>{const n=b,_=g;return P(),U(Y,null,[c(n,{form:i(o).electricityContractForm,class:"pt-3","group-class":"shadowC"},null,8,["form"]),c(n,{form:i(o).contractForm,class:"pt-3","group-class":"shadowC"},null,8,["form"]),c(_)],64)}}};export{ut as default};
