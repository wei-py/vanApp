import{l as e}from"./lodash-DhpMPSDc.js";import{j as u,V as c,h as i,r as p,i as f,W as d,X as g,Y as h,B as b,U as v,d as F,x as y,R as C,I as R,Z as T,_ as w}from"./vant-BF4L1TGb.js";import{H as x,u as B,M as I}from"./index-B7VWkQ_2.js";import{d as U,o as M,f as P,aS as $}from"./@vue-ts87NNlE.js";const A={input:u,switch:c,cell:i,popup:p,popover:f,cascader:d,calendar:g,pick:h,button:b,upload:v,numberKeyboard:F,radioGroup:y,radio:C,icon:R,date:T,text:w};function E(a){let s=e.get(a,"labelClass","");return s+=" !min-w-[30%]",s=e.uniq(s.split(" ")).join(" "),e.set(a,"labelClass",s),e.has(a,"inputAlign")||(a.inputAlign="right"),a.formType=="input"&&S(a),A[a.formType]||a.formType}function S(a){e.isUndefined(a.type)&&(a.type="textarea"),a.type=="digit"&&!e.isFunction(a.backfill)&&(a.backfill=function(s){this.value=s[this.name]}),e.merge(a,{autosize:!0,rows:"1"})}function j(a){return a.map(s=>({validator(r){const n=s(r);return this.message=n,!e.get(n,"length")},message:"",trigger:"onSubmit"}))}function t(a){if(a.required){const r=a.label;a.rules=[...e.get(a,"rules",[]),n=>n.length||`${r}必填`]}e.forIn(a,async(r,n)=>{n=="formType"&&E(a),n=="inlineForm"&&l(a[n]),n=="rules"&&a.rules.length&&!a.rulesFlag&&(a.rulesFlag=!0,a.rules=[...j(a[n])]),n=="onMounted"&&$(async()=>{await a.onMounted(a)})}),e.isArray(a.menuRight)||(a.menuRight=[]),a.class=e.get(a,"class","");const s=e.get(a,"name","");return a.class+=` ${s}`,a}function l(a){for(let s=0;s<a.length;s++)if(e.isFunction(a[s])){const r=a[s];a[s]=a[s](),a[s].forEach(n=>{t(n)}),P(()=>{a[s]=r})}else a[s]=t(a[s]);return a}function K(a,s=!0){a=e.mapValues(a,n=>l(n).flat());const r=U(a);return s&&(I._=r),M(()=>{x().$reset();const o=B();o.approvalBackfill=()=>{},o.$reset()}),r}export{j as c,A as f,K as m};
