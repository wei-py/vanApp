import{b as u,s as n}from"./index-NPFU1_kq.js";import{l as c}from"./lodash-C-AG1eJN.js";function f(t,l,s="static"){const e={formType:"input",readonly:!0,realValue:"",isLink:!0,click(){const i=u();this.inlineForm[0].show=i.btns.canEdit},inlineForm:[{slot:"extra",name:t+"Pop",formType:"popup",show:!1,round:!0,position:"bottom",class:"h-[auto] !w-full",closeOnClickOverlay:!0,inlineForm:[{slot:"default",formType:"pick",columns:l,confirm(i){n(t,"value",i.selectedOptions[0].text),n(t,"realValue",i.selectedOptions[0].value),n(t,"inlineForm.0.show",!1)},cancel(){n(t,"inlineForm.0.show",!1)}}]}]};return s=="static"?(e.getParam=function(i){i[t]=this.realValue||""},e):(e.makeSelect=function(i,a){this.value=i,this.inlineForm[0].inlineForm[0].columns.length=0,this.inlineForm[0].inlineForm[0].columns.push(...a);const r=(a.value||a).find(o=>o.value==i)?.text;this.realValue=this.value,this.value=r,c.isFunction(this.getParam)?e.getParam=this.getParam:e.getParam=function(o){o[t]=this.realValue||""}},e)}function p(){return{backfill(t){const l=this.inlineForm[0].inlineForm[0].columns.find(e=>e.value==t[this.name]||e.value==this.realValue)?.text||this.value,s=this.inlineForm[0].inlineForm[0].columns.find(e=>e.value==t[this.name]||e.text==l)?.value;this.value=l,this.realValue=t[this.name]||s}}}export{p as b,f as m};
