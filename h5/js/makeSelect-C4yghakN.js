import{b as m,s as o}from"./index-D0ldpvYI.js";import{l as a}from"./lodash-D-SkTV7p.js";function p(i,u,c="static"){const l={formType:"input",readonly:!0,realValue:"",confirm:()=>{},isLink:!0,click(){const e=m();this.inlineForm[0].show=e.btns.canEdit},backfill(e,t=!1){if(this.hidden)return;const r=this.inlineForm[0].inlineForm[0].columns.find(s=>s.value==e[this.name]||s.value==this.realValue)?.text||this.value,n=this.inlineForm[0].inlineForm[0].columns.find(s=>s.value==e[this.name]||s.text==r)?.value;this.value=r,this.realValue=e[this.name]||n,!t&&a.isFunction(this.newBackfill)&&this.newBackfill(e)},inlineForm:[{slot:"extra",name:i+"Pop",formType:"popup",show:!1,round:!0,position:"bottom",class:"h-[auto] !w-full",closeOnClickOverlay:!0,inlineForm:[{slot:"default",formType:"pick",columns:u,confirm(e){o(i,"value",e.selectedOptions[0].text),o(i,"realValue",e.selectedOptions[0].value),o(i,"inlineForm.0.show",!1),o(i,t=>{t.confirm(e.selectedOptions[0])})},cancel(){o(i,"inlineForm.0.show",!1)}}]}]};return c=="static"?(l.getParam=function(e){e[i]=this.realValue||""},l):(l.makeSelect=function(e,t){this.value=e,this.inlineForm[0].inlineForm[0].columns.length=0,this.inlineForm[0].inlineForm[0].columns.push(...t);const r=(t.value||t).find(n=>n.value==e)?.text;this.realValue=this.value,this.value=r,a.isFunction(this.getParam)?l.getParam=this.getParam:l.getParam=function(n){n[i]=this.realValue||""}},l)}function F(){return{}}export{F as b,p as m};
