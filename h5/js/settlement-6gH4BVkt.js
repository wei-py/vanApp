import{B as c}from"./vant-xiv0EFx3.js";import{m as u,_ as d}from"./makeForm-b9Rv_zTa.js";import{m as f,a as _,b as y}from"./backfill-Knvieq5z.js";import{b as v,m as g}from"./makeSelect-VTItfMq-.js";import{c as b,h as a,e as k,D as h,v as x}from"./index-BiU8ePZK.js";import{r as T}from"./runTime-DAjLGjV1.js";import{q as p}from"./queryUrl-CUkA5NKU.js";import{e as w,aX as F,al as q,N as i,u as B,am as C,bA as N,F as V,V as D}from"./@vue-BHA94vdH.js";import"./@vant-BMzV8Unt.js";import"./lodash-C1iNKp1x.js";import"./dayjs-19KvoO9f.js";import"./class-rRG2y2aF.js";import"./pinia-BOLtM30a.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-BQWAt7JZ.js";import"./@vueuse-BYPNFz0v.js";import"./xe-utils-D22uZPtC.js";import"./axios-B6xwUs71.js";import"./@x-ui-vue3-DYFNhZJM.js";import"./pinia-plugin-persist-J3Q2VqHx.js";import"./vue3-menus--RpDJ8QK.js";import"./vue3-photo-preview-Byv7Qnko.js";import"./vxe-table-CbQjGgi9.js";import"./dom-zindex-GlLoxNk1.js";const M=[f("直营结算"),{formType:"input",label:"结算类型",value:1,required:!0,readonly:!0,name:"settlementType",...v(),...g("settlementType",[{text:"直营结算信息",value:1},{text:"供应商并网结算",value:2},{text:"供应商资料结算",value:3}]),onMounted(){this.click=()=>{},this.isLink=!1}},{formType:"input",label:"资方结算总金额",value:"",required:!0,type:"digit",placeholder:"请输入",name:"settlementAmount",..._("元")}],A={class:"xCenter pt-2"},st={__name:"settlement",setup(I){let o=u({settlementForm:M});const r=b();w(()=>{T(s)});async function s(){const t="order/get-grid-settlement",{data:e}=await a.get(p(t,{...r,type:1}));e.settlementType=1,y(o,e)}async function m(){await h();const t=x();if((await a.post("order/put-grid-settlement",t)).code==200)return await a.post(p("approval/put-approval/bto/settle",{setType:"1",orderId:r.orderId}))}return k({getData:s,saveData:m}),(t,e)=>{const n=d,l=c;return F(),q(V,null,[i(n,{form:B(o).settlementForm,class:"pt-3","group-class":"shadowC"},null,8,["form"]),C("div",A,[i(l,{round:"",block:"",type:"warning",onClick:m,size:"small",class:"!w-[100px] !bg-[#ffab30]"},{default:N(()=>[D(" 提交 ")]),_:1})])],64)}}};export{st as default};
