import{B as c}from"./vant-DL9g20lT.js";import{m as u,_ as d}from"./makeForm-C_uyyvx9.js";import{m as f,a as _,b as y}from"./backfill-hh-glB-L.js";import{b as g,m as v}from"./makeSelect-BzGYyrzS.js";import{c as k,h as a,e as b,x,n as h}from"./index-NPFU1_kq.js";import{r as T}from"./runTime-DAjLGjV1.js";import{q as p}from"./queryUrl-ggRt1bhs.js";import{e as w,Z as F,_ as q,N as i,u as B,a0 as C,a8 as N,F as V,V as M}from"./@vue-BhOIXUCP.js";import"./@vant-D2Uub16A.js";import"./lodash-C-AG1eJN.js";import"./dayjs-Bof1u0Bp.js";import"./class-rRG2y2aF.js";import"./pinia-CQ-jtR3-.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-router-XNYRUkAR.js";import"./@vueuse-BaMGbt4d.js";import"./axios-B6xwUs71.js";import"./@x-ui-vue3-bC99Tnvx.js";import"./pinia-plugin-persist-J3Q2VqHx.js";import"./vue3-menus-VHbn-zkx.js";import"./vue3-photo-preview-Dedu722r.js";import"./vxe-table-BBegQXiE.js";import"./xe-utils-BM3aD2L3.js";import"./dom-zindex-GlLoxNk1.js";const D=[f("直营结算"),{formType:"input",label:"结算类型",value:1,required:!0,readonly:!0,name:"settlementType",...g(),...v("settlementType",[{text:"直营结算信息",value:1},{text:"供应商并网结算",value:2},{text:"供应商资料结算",value:3}]),onMounted(){this.click=()=>{},this.isLink=!1}},{formType:"input",label:"资方结算总金额",value:"",required:!0,type:"digit",placeholder:"请输入",name:"settlementAmount",..._("元")}],I={class:"xCenter pt-2"},st={__name:"settlement",setup(S){let o=u({settlementForm:D});const r=k();w(()=>{T(s)});async function s(){const t="order/get-grid-settlement",{data:e}=await a.get(p(t,{...r,type:1}));e.settlementType=1,y(o,e)}async function m(){await x();const t=h();if((await a.post("order/put-grid-settlement",t)).code==200)return await a.post(p("approval/put-approval/bto/settle",{setType:"1",orderId:r.orderId}))}return b({getData:s,saveData:m}),(t,e)=>{const n=d,l=c;return F(),q(V,null,[i(n,{form:B(o).settlementForm,class:"pt-3","group-class":"shadowC"},null,8,["form"]),C("div",I,[i(l,{round:"",block:"",type:"warning",onClick:m,size:"small",class:"!w-[100px] !bg-[#ffab30]"},{default:N(()=>[M(" 提交 ")]),_:1})])],64)}}};export{st as default};
