import{B as c}from"./vant-PdAvEskO.js";import{m as u,_ as d}from"./makeForm-LXfxxl4j.js";import{m as f,a as _,b as y}from"./backfill-YTqXYfvZ.js";import{b as v,m as g}from"./makeSelect-C4yghakN.js";import{c as b,h as a,e as k,D as h,v as x}from"./index-D0ldpvYI.js";import{r as T}from"./runTime-DAjLGjV1.js";import{q as p}from"./queryUrl-DaTGvNW7.js";import{e as w,aX as F,al as q,N as i,u as B,am as C,bA as N,F as V,V as D}from"./@vue-ts87NNlE.js";import"./@vant-NmgEisJw.js";import"./lodash-D-SkTV7p.js";import"./@vue-office-D7CPqAIZ.js";import"./vue-demi-BO4xsXkA.js";import"./vue-B7fnMq6U.js";import"./class-COLQ8iHP.js";import"./pinia-B_HOjTBS.js";import"./vue-router-Bw4qQE88.js";import"./@vueuse-DLUPp4BS.js";import"./xe-utils-CfMIR_ol.js";import"./axios-B6xwUs71.js";import"./@x-ui-vue3-CwLx_scX.js";import"./pinia-plugin-persist-J3Q2VqHx.js";import"./vue3-menus-CnNWMJEM.js";import"./vue3-photo-preview-jb8ML41u.js";import"./vxe-table-CAWzlaHI.js";import"./dom-zindex-GlLoxNk1.js";const M=[f("直营结算"),{formType:"input",label:"结算类型",value:1,required:!0,readonly:!0,name:"settlementType",...v(),...g("settlementType",[{text:"直营结算信息",value:1},{text:"供应商并网结算",value:2},{text:"供应商资料结算",value:3}]),onMounted(){this.click=()=>{},this.isLink=!1}},{formType:"input",label:"资方结算总金额",value:"",required:!0,type:"digit",placeholder:"请输入",name:"settlementAmount",..._("元")}],A={class:"xCenter pt-2"},mt={__name:"settlement",setup(I){let o=u({settlementForm:M});const r=b();w(()=>{T(s)});async function s(){const t="order/get-grid-settlement",{data:e}=await a.get(p(t,{...r,type:1}));e.settlementType=1,y(o,e)}async function m(){await h();const t=x();if((await a.post("order/put-grid-settlement",t)).code==200)return await a.post(p("approval/put-approval/bto/settle",{setType:"1",orderId:r.orderId}))}return k({getData:s,saveData:m}),(t,e)=>{const n=d,l=c;return F(),q(V,null,[i(n,{form:B(o).settlementForm,class:"pt-3","group-class":"shadowC"},null,8,["form"]),C("div",A,[i(l,{round:"",block:"",type:"warning",onClick:m,size:"small",class:"!w-[100px] !bg-[#ffab30]"},{default:N(()=>[D(" 提交 ")]),_:1})])],64)}}};export{mt as default};
