import{B as c}from"./vant-Ckwj66YG.js";import{m as u,_ as d}from"./makeForm-CsZjxp4a.js";import{m as f,a as _,b as y}from"./backfill-CdlEvImR.js";import{b as g,m as v}from"./makeSelect-B5t5onyK.js";import{c as b,h as a,e as k,E as x,x as h}from"./index-zLUezw_f.js";import{r as T}from"./runTime-DAjLGjV1.js";import{q as p}from"./queryUrl-BTYYWpY7.js";import{e as w,aX as F,al as q,N as i,u as B,am as C,bA as N,F as V,V as M}from"./@vue-ts87NNlE.js";import"./@vant-NmgEisJw.js";import"./lodash-DhpMPSDc.js";import"./@vue-office-GFDCm3nC.js";import"./vue-demi-BEcyFcst.js";import"./vue-RHKPHaPZ.js";import"./class-COLQ8iHP.js";import"./pinia-B_HOjTBS.js";import"./vue-router-Bw4qQE88.js";import"./@vueuse-QQdVrKV8.js";import"./xe-utils-DXe260hc.js";import"./axios-B4uVmeYG.js";import"./@x-ui-vue3-CwLx_scX.js";import"./pinia-plugin-persist-J3Q2VqHx.js";import"./vue3-menus-CnNWMJEM.js";import"./vue3-photo-preview-CkWuweRQ.js";import"./vxe-table-QgdefRjh.js";import"./dom-zindex-GlLoxNk1.js";const A=[f("直营结算"),{formType:"input",label:"结算类型",value:1,required:!0,readonly:!0,name:"settlementType",...g(),...v("settlementType",[{text:"直营结算信息",value:1},{text:"供应商并网结算",value:2},{text:"供应商资料结算",value:3}]),onMounted(){this.click=()=>{},this.isLink=!1}},{formType:"input",label:"资方结算总金额",value:"",required:!0,type:"digit",placeholder:"请输入",name:"settlementAmount",..._("元")}],D={class:"xCenter pt-2"},mt={__name:"settlement",setup(E){let o=u({settlementForm:A});const r=b();w(()=>{T(s)});async function s(){const t="order/get-grid-settlement",{data:e}=await a.get(p(t,{...r,type:1}));e.settlementType=1,y(o,e)}async function m(){await x();const t=h();if((await a.post("order/put-grid-settlement",t)).code==200)return await a.post(p("approval/put-approval/bto/settle",{setType:"1",orderId:r.orderId}))}return k({getData:s,saveData:m}),(t,e)=>{const n=d,l=c;return F(),q(V,null,[i(n,{form:B(o).settlementForm,class:"pt-3","group-class":"shadowC"},null,8,["form"]),C("div",D,[i(l,{round:"",block:"",type:"warning",onClick:m,size:"small",class:"!w-[100px] !bg-[#ffab30]"},{default:N(()=>[M(" 提交 ")]),_:1})])],64)}}};export{mt as default};
