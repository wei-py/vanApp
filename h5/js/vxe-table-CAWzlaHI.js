import{X as n}from"./xe-utils-CfMIR_ol.js";import{D as mi}from"./dom-zindex-GlLoxNk1.js";import{w as at,d as zt,D as r,b3 as fo,O as Rt,h as mt,c as ve,n as oe,W as Za,r as Xe,ak as Ot,S as ul,p as _t,e as po,f as ao,o as hi,aa as Ja,g as qr,a as Gr,b as Qa}from"./@vue-ts87NNlE.js";const it="vxe-icon-",m={size:null,zIndex:999,version:0,emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,minHeight:144,resizeConfig:{refreshDelay:250},radioConfig:{strict:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,message:"inline",msgMode:"single"},columnConfig:{maxFixedSize:4},customConfig:{allowFixed:!0,showFooter:!0},sortConfig:{showIcon:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},treeConfig:{rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0},editConfig:{showIcon:!0,showAsterisk:!0},importConfig:{modes:["insert","covering"]},exportConfig:{modes:["current","selected"]},printConfig:{modes:["current","selected"]},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},scrollX:{gt:60},scrollY:{gt:100}},export:{types:{}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,message:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{},icon:{LOADING:it+"spinner roll vxe-loading--default-icon",TABLE_SORT_ASC:it+"caret-up",TABLE_SORT_DESC:it+"caret-down",TABLE_FILTER_NONE:it+"funnel",TABLE_FILTER_MATCH:it+"funnel",TABLE_EDIT:it+"edit",TABLE_TITLE_PREFIX:it+"question-circle-fill",TABLE_TITLE_SUFFIX:it+"question-circle-fill",TABLE_TREE_LOADED:it+"spinner roll",TABLE_TREE_OPEN:it+"caret-right rotate90",TABLE_TREE_CLOSE:it+"caret-right",TABLE_EXPAND_LOADED:it+"spinner roll",TABLE_EXPAND_OPEN:it+"arrow-right rotate90",TABLE_EXPAND_CLOSE:it+"arrow-right",TABLE_CHECKBOX_CHECKED:it+"checkbox-checked",TABLE_CHECKBOX_UNCHECKED:it+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:it+"checkbox-indeterminate",TABLE_RADIO_CHECKED:it+"radio-checked",TABLE_RADIO_UNCHECKED:it+"radio-unchecked",BUTTON_DROPDOWN:it+"arrow-down",BUTTON_LOADING:it+"spinner roll",SELECT_LOADED:it+"spinner roll",SELECT_OPEN:it+"caret-down rotate180",SELECT_CLOSE:it+"caret-down",PAGER_HOME:it+"home-page",PAGER_END:it+"end-page",PAGER_JUMP_PREV:it+"arrow-double-left",PAGER_JUMP_NEXT:it+"arrow-double-right",PAGER_PREV_PAGE:it+"arrow-left",PAGER_NEXT_PAGE:it+"arrow-right",PAGER_JUMP_MORE:it+"ellipsis-h",INPUT_CLEAR:it+"error-circle-fill",INPUT_PWD:it+"eye-fill",INPUT_SHOW_PWD:it+"eye-fill-close",INPUT_PREV_NUM:it+"caret-up",INPUT_NEXT_NUM:it+"caret-down",INPUT_DATE:it+"calendar",INPUT_SEARCH:it+"search",MODAL_ZOOM_IN:it+"square",MODAL_ZOOM_OUT:it+"maximize",MODAL_CLOSE:it+"close",MODAL_INFO:it+"info-circle-fill",MODAL_SUCCESS:it+"success-circle-fill",MODAL_WARNING:it+"warnion-circle-fill",MODAL_ERROR:it+"error-circle-fill",MODAL_QUESTION:it+"question-circle-fill",MODAL_LOADING:it+"spinner roll",TOOLBAR_TOOLS_REFRESH:it+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:it+"repeat roll",TOOLBAR_TOOLS_IMPORT:it+"upload",TOOLBAR_TOOLS_EXPORT:it+"download",TOOLBAR_TOOLS_PRINT:it+"print",TOOLBAR_TOOLS_FULLSCREEN:it+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:it+"minimize",TOOLBAR_TOOLS_CUSTOM:it+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:it+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVED:it+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:it+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVED:it+"fixed-right-fill",FORM_PREFIX:it+"question-circle-fill",FORM_SUFFIX:it+"question-circle-fill",FORM_FOLDING:it+"arrow-up rotate180",FORM_UNFOLDING:it+"arrow-up"},tooltip:{trigger:"hover",theme:"dark",enterDelay:500,leaveDelay:300},pager:{},form:{validConfig:{showMessage:!0,autoPos:!0},tooltipConfig:{enterable:!0},titleAsterisk:!0},input:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},textarea:{},select:{multiCharOverflow:8},button:{},buttonGroup:{},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},checkbox:{},checkboxGroup:{},switch:{},modal:{top:15,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,draggable:!0,storageKey:"VXE_MODAL_POSITION"},list:{scrollY:{enabled:!0,gt:100}},i18n:e=>e};function gi(e,t){return`[vxe-table v4.6.13] ${m.i18n(e,t)}`}function Yr(e){return function(t,s){const c=gi(t,s);return console[e](c),c}}const Xr=Yr("warn"),Jt=Yr("error"),El={},Dl={mixin(e){return n.each(e,(t,s)=>Dl.add(s,t)),Dl},get(e){return El[e]||[]},add(e,t){if(t){let s=El[e];s||(s=El[e]=[]),s.push(t)}return Dl},delete(e,t){const s=El[e];s&&(t?n.remove(s,c=>c===t):delete El[e])}};class ec{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return n.each(t,(s,c)=>{this.add(c,s)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,s){const c=this.store[t];return n.isFunction(s)&&(s={cellFormatMethod:s}),this.store[t]=c?n.merge(c,s):s,this}delete(t){delete this.store[t]}forEach(t){n.objectEach(this.store,t)}}const Ur=new ec;function pt(e){return e&&e.enabled!==!1}function bi(e){return e==null||e===""}function vi(e){const t=e.name,s=n.lastIndexOf(t,"."),c=t.substring(s+1,t.length).toLowerCase();return{filename:t.substring(0,s),type:c}}function en(){return mi.getNext()}function pn(){return mi.getCurrent()}function ll(e){return e&&e.children&&e.children.length>0}function jt(e){return e?n.toValueString(m.translate?m.translate(""+e):e):""}function Yt(e,t){return""+(bi(e)?t?m.emptyCell:"":e)}function qo(e){return e===""||n.eqNull(e)}class ai{constructor(t,s,{renderHeader:c,renderCell:h,renderFooter:g,renderData:p}={}){const x=t.xegrid,i=s.formatter,f=n.isBoolean(s.visible)?s.visible:!0;if(Object.assign(this,{type:s.type,property:s.field,field:s.field,title:s.title,width:s.width,minWidth:s.minWidth,maxWidth:s.maxWidth,resizable:s.resizable,fixed:s.fixed,align:s.align,headerAlign:s.headerAlign,footerAlign:s.footerAlign,showOverflow:s.showOverflow,showHeaderOverflow:s.showHeaderOverflow,showFooterOverflow:s.showFooterOverflow,className:s.className,headerClassName:s.headerClassName,footerClassName:s.footerClassName,formatter:i,sortable:s.sortable,sortBy:s.sortBy,sortType:s.sortType,filters:ea(s.filters),filterMultiple:n.isBoolean(s.filterMultiple)?s.filterMultiple:!0,filterMethod:s.filterMethod,filterResetMethod:s.filterResetMethod,filterRecoverMethod:s.filterRecoverMethod,filterRender:s.filterRender,treeNode:s.treeNode,cellType:s.cellType,cellRender:s.cellRender,editRender:s.editRender,contentRender:s.contentRender,headerExportMethod:s.headerExportMethod,exportMethod:s.exportMethod,footerExportMethod:s.footerExportMethod,titleHelp:s.titleHelp,titlePrefix:s.titlePrefix,titleSuffix:s.titleSuffix,params:s.params,id:s.colId||n.uniqueId("col_"),parentId:null,visible:f,halfVisible:!1,defaultVisible:f,defaultFixed:s.fixed,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderWidth:0,renderHeight:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:c||s.renderHeader,renderCell:h||s.renderCell,renderFooter:g||s.renderFooter,renderData:p,slots:s.slots}),x){const{computeProxyOpts:d}=x.getComputeMaps(),y=d.value;y.beforeColumn&&y.beforeColumn({$grid:x,column:this})}}getTitle(){return jt(this.title||(this.type==="seq"?m.i18n("vxe.table.seqTitle"):""))}getKey(){return this.field||(this.type?`type=${this.type}`:null)}update(t,s){t!=="filters"&&(t==="field"&&(this.property=s),this[t]=s)}}const _s={},Io=n.browse();function En(e,t){return e?n.isFunction(e)?e(t):e:""}function Kr(e){return _s[e]||(_s[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),_s[e]}function Zr(e,t,s){if(e){const c=e.parentNode;if(s.top+=e.offsetTop,s.left+=e.offsetLeft,c&&c!==document.documentElement&&c!==document.body&&(s.top-=c.scrollTop,s.left-=c.scrollLeft),!(t&&(e===t||e.offsetParent===t))&&e.offsetParent)return Zr(e.offsetParent,t,s)}return s}function ci(e){return e&&/^\d+(px)?$/.test(e)}function kl(e){return e&&/^\d+%$/.test(e)}function fn(e,t){return e&&e.className&&e.className.match&&e.className.match(Kr(t))}function Do(e,t){e&&fn(e,t)&&(e.className=e.className.replace(Kr(t),""))}function cn(e,t){e&&!fn(e,t)&&(Do(e,t),e.className=`${e.className} ${t}`)}function wn(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function wl(e){return e?e.offsetHeight:0}function di(e){if(e){const t=getComputedStyle(e),s=n.toNumber(t.paddingTop),c=n.toNumber(t.paddingBottom);return s+c}return 0}function rs(e,t){e&&(e.scrollTop=t)}function cr(e,t){e&&(e.scrollLeft=t)}function xi(e,t){const s=t.type==="html"?e.innerText:e.textContent;e.getAttribute("title")!==s&&e.setAttribute("title",s)}function xt(e,t,s,c){let h,g=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;g&&g.nodeType&&g!==document;){if(s&&fn(g,s)&&(!c||c(g)))h=g;else if(g===t)return{flag:s?!!h:!0,container:t,targetElem:h};g=g.parentNode}return{flag:!1}}function tc(e,t){return Zr(e,t,{left:0,top:0})}function Zo(e){const t=e.getBoundingClientRect(),s=t.top,c=t.left,{scrollTop:h,scrollLeft:g,visibleHeight:p,visibleWidth:x}=wn();return{boundingTop:s,top:h+s,boundingLeft:c,left:g+c,visibleHeight:p,visibleWidth:x}}const dr="scrollIntoViewIfNeeded",ur="scrollIntoView";function Jr(e){e&&(e[dr]?e[dr]():e[ur]&&e[ur]())}function oc(e,t){e&&e.dispatchEvent(new Event(t))}function qs(e){return e&&e.nodeType===1}const Qr=(e,t)=>{const s=[];return e.forEach(c=>{c.parentId=t?t.id:null,c.visible&&(c.children&&c.children.length&&c.children.some(h=>h.visible)?(s.push(c),s.push(...Qr(c.children,c))):s.push(c))}),s},nc=e=>{let t=1;const s=(g,p)=>{if(p&&(g.level=p.level+1,t<g.level&&(t=g.level)),g.children&&g.children.length&&g.children.some(x=>x.visible)){let x=0;g.children.forEach(i=>{i.visible&&(s(i,g),x+=i.colSpan)}),g.colSpan=x}else g.colSpan=1};e.forEach(g=>{g.level=1,s(g)});const c=[];for(let g=0;g<t;g++)c.push([]);return Qr(e).forEach(g=>{g.children&&g.children.length&&g.children.some(p=>p.visible)?g.rowSpan=1:g.rowSpan=t-g.level+1,c[g.level-1].push(g)}),c};function Gs(e,t,s){const{internalData:c}=e;return e.clearScroll().then(()=>{if(t||s)return c.lastScrollLeft=0,c.lastScrollTop=0,e.scrollTo(t,s)})}function fr(e){e&&e._onscroll&&(e.onscroll=null)}function hs(e){e&&e._onscroll&&(e.onscroll=e._onscroll)}function Ys(){return n.uniqueId("row_")}function Pn(e){const{props:t}=e,{computeRowOpts:s}=e.getComputeMaps(),{rowId:c}=t,h=s.value;return c||h.keyField||"_X_ROW_KEY"}function ze(e,t){const s=n.get(t,Pn(e));return n.eqNull(s)?"":encodeURIComponent(s)}const bo=(e,t)=>t?n.isString(t)?e.getColumnByField(t):t:null;function Xs(e){if(e){const t=getComputedStyle(e),s=n.toNumber(t.paddingLeft),c=n.toNumber(t.paddingRight);return s+c}return 0}function Kn(e){if(e){const t=getComputedStyle(e),s=n.toNumber(t.marginLeft),c=n.toNumber(t.marginRight);return e.offsetWidth+s+c}return 0}function vn(e,t){return e.querySelector(".vxe-cell"+t)}function ea(e){return e&&n.isArray(e)?e.map(({label:t,value:s,data:c,resetValue:h,checked:g})=>({label:t,value:s,data:c,resetValue:h,checked:!!g,_checked:!!g})):e}function lc(e){return e.map((t,s)=>s%2===0?Number(t)+1:".").join("")}function Ho(e,t){return n.get(e,t.field)}function an(e,t,s){return n.set(e,t.field,s)}function sc(e){const{$table:t,column:s,cell:c}=e,{props:h}=t,{computeResizableOpts:g}=t.getComputeMaps(),p=g.value,{minWidth:x}=p;if(x){const E=n.isFunction(x)?x(e):x;if(E!=="auto")return Math.max(1,n.toNumber(E))}const{showHeaderOverflow:i}=h,{showHeaderOverflow:f,minWidth:d}=s,y=n.isUndefined(f)||n.isNull(f)?i:f,T=y==="title"||(y===!0||y==="tooltip")||y==="ellipsis",_=n.floor((n.toNumber(getComputedStyle(c).fontSize)||14)*1.6),C=Xs(c)+Xs(vn(c,""));let S=_+C;if(T){const E=Xs(vn(c,"--title>.vxe-cell--checkbox")),R=Kn(vn(c,">.vxe-cell--required-icon")),L=Kn(vn(c,">.vxe-cell--edit-icon")),j=Kn(vn(c,">.vxe-cell-title-prefix-icon")),F=Kn(vn(c,">.vxe-cell-title-suffix-icon")),D=Kn(vn(c,">.vxe-cell--sort")),H=Kn(vn(c,">.vxe-cell--filter"));S+=E+R+L+j+F+H+D}if(d){const{refTableBody:E}=t.getRefMaps(),R=E.value,L=R?R.$el:null;if(L){if(kl(d)){const F=(L.clientWidth-1)/100;return Math.max(S,Math.floor(n.toInteger(d)*F))}else if(ci(d))return Math.max(S,n.toInteger(d))}}return S}function fs(e){return e&&(e.constructor===ai||e instanceof ai)}function ic(e,t,s){return fs(t)?t:zt(new ai(e,t,s))}function ta(e,t,s){Object.keys(t).forEach(c=>{at(()=>t[c],h=>{s.update(c,h),e&&(c==="filters"?(e.setFilter(s,h),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(c)&&e.handleRefreshColumnQueue())})})}function oa(e,t,s,c){const{reactData:h}=e,{staticColumns:g}=h,p=t.parentNode,x=c?c.column:null,i=x?x.children:g;p&&i&&(i.splice(n.arrayIndexOf(p.children,t),0,s),h.staticColumns=g.slice(0))}function na(e,t){const{reactData:s}=e,{staticColumns:c}=s,h=n.findTree(c,g=>g.id===t.id,{children:"children"});h&&h.items.splice(h.index,1),s.staticColumns=c.slice(0)}function pr(e,t){const{internalData:s}=e,{fullColumnIdData:c}=s;if(!t)return null;let h=t.parentId;for(;c[h];){const g=c[h].column;if(h=g.parentId,!h)return g}return t}function la(e,t,s){for(let c=0;c<e.length;c++){const{row:h,col:g,rowspan:p,colspan:x}=e[c];if(g>-1&&h>-1&&p&&x){if(h===t&&g===s)return{rowspan:p,colspan:x};if(t>=h&&t<h+p&&s>=g&&s<g+x)return{rowspan:0,colspan:0}}}}function rc(e){const{props:t,internalData:s}=e;return s.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}function ac(e){return e.clearFilter&&e.clearFilter(),rc(e)}function mr(e,t){const{reactData:s,internalData:c}=e,{refTableBody:h}=e.getRefMaps(),{scrollYLoad:g}=s,{afterFullData:p,scrollYStore:x}=c,i=h.value,f=i?i.$el:null;if(f){const d=f.querySelector(`[rowid="${ze(e,t)}"]`);if(d){const y=f.clientHeight,$=f.scrollTop,W=d.offsetParent,V=d.offsetTop+(W?W.offsetTop:0),T=d.clientHeight;if(V<$||V>$+y)return e.scrollTo(null,V);if(V+T>=y+$)return e.scrollTo(null,$+T)}else if(g)return e.scrollTo(null,(p.indexOf(t)-1)*x.rowHeight)}return Promise.resolve()}function cc(e,t){const{reactData:s,internalData:c}=e,{refTableBody:h}=e.getRefMaps(),{scrollXLoad:g}=s,{visibleColumn:p}=c,x=h.value,i=x?x.$el:null;if(i){const f=i.querySelector(`.${t.id}`);if(f){const d=i.clientWidth,y=i.scrollLeft,$=f.offsetParent,W=f.offsetLeft+($?$.offsetLeft:0),V=f.clientWidth;if(W<y||W>y+d)return e.scrollTo(W);if(W+V>=d+y)return e.scrollTo(y+V)}else if(g){let d=0;for(let y=0;y<p.length&&p[y]!==t;y++)d+=p[y].renderWidth;return e.scrollTo(d)}}return Promise.resolve()}function sl(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function $t(e){return n.isArray(e)?e:[e]}const Ci="modelValue",yi={transfer:!0};function sa(e){switch(e.name){case"input":case"textarea":return"input"}return"update:modelValue"}function ia(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function dc(e,t){return e&&t.valueFormat?n.toStringDate(e,t.valueFormat):e}function uc(e,t,s){const{dateConfig:c={}}=t;return n.toDateString(dc(e,t),c.labelFormat||s)}function hr(e,t){return uc(e,t,m.i18n(`vxe.input.date.labelFormat.${t.type}`))}function ra(e){return`vxe-${e.replace("$","")}`}function Jo({name:e}){return fo(e)}function al({name:e}){return fo(ra(e))}function aa(e,t,s){const{$panel:c}=e;c.changeOption({},t,s)}function cl(e){let{name:t,attrs:s}=e;return t==="input"&&(s=Object.assign({type:"text"},s)),s}function ca(e){const{name:t,immediate:s,props:c}=e;if(!s){if(t==="VxeInput"||t==="$input"){const{type:h}=c||{};return!(!h||h==="text"||h==="number"||h==="integer"||h==="float")}return!(t==="input"||t==="textarea"||t==="$textarea")}return s}function fl(e,t,s,c){return n.assign({immediate:ca(e)},yi,c,e.props,{[Ci]:s})}function gs(e,t,s,c){return n.assign({},yi,c,e.props,{[Ci]:s})}function Qo(e,t,s,c){return n.assign({},yi,c,e.props,{[Ci]:s})}function ys(e,t){return t.$type==="cell"||ca(e)}function Sl(e,t,s){const{placeholder:c}=e;return[r("span",{class:"vxe-cell--label"},c&&bi(s)?[r("span",{class:"vxe-cell--placeholder"},Yt(jt(c),1))]:Yt(s,1))]}function Ei(e,t,s,c){const{events:h}=e,g=sa(e),p=ia(e),x=p===g,i={};return h&&n.objectEach(h,(f,d)=>{i[sl(d)]=function(...y){f(t,...y)}}),s&&(i[sl(g)]=function(f){s(f),x&&c&&c(f),h&&h[g]&&h[g](t,f)}),!x&&c&&(i[sl(p)]=function(...f){c(...f),h&&h[p]&&h[p](t,...f)}),i}function pl(e,t,s,c){const{events:h}=e,g=sa(e),p=ia(e),x={};return n.objectEach(h,(i,f)=>{x[sl(f)]=function(...d){i(t,...d)}}),s&&(x[sl(g)]=function(i){s(i),h&&h[g]&&h[g](t,i)}),c&&(x[sl(p)]=function(...i){c(...i),h&&h[p]&&h[p](t,...i)}),x}function Es(e,t){const{$table:s,row:c,column:h}=t,{name:g}=e,{model:p}=h,x=ys(e,t);return pl(e,t,i=>{x?an(c,h,i):(p.update=!0,p.value=i)},i=>{if(!x&&["VxeInput","VxeTextarea","$input","$textarea"].includes(g)){const f=i.value;p.update=!0,p.value=f,s.updateStatus(t,f)}else s.updateStatus(t)})}function bs(e,t,s){return pl(e,t,c=>{s.data=c},()=>{aa(t,!n.eqNull(s.data),s)})}function dn(e,t){const{$form:s,data:c,property:h}=t;return pl(e,t,g=>{n.set(c,h,g)},()=>{s.updateStatus(t)})}function da(e,t){const{$table:s,row:c,column:h}=t,{model:g}=h;return Ei(e,t,p=>{const x=p.target.value;ys(e,t)?an(c,h,x):(g.update=!0,g.value=x)},p=>{const x=p.target.value;s.updateStatus(t,x)})}function ua(e,t,s){return Ei(e,t,c=>{s.data=c.target.value},()=>{aa(t,!n.eqNull(s.data),s)})}function fa(e,t){const{$form:s,data:c,property:h}=t;return Ei(e,t,g=>{const p=g.target.value;n.set(c,h,p)},()=>{s.updateStatus(t)})}function Us(e,t){const{row:s,column:c}=t,{name:h}=e,g=ys(e,t)?Ho(s,c):c.model.value;return[r(h,Object.assign(Object.assign(Object.assign({class:`vxe-default-${h}`},cl(e)),{value:g}),da(e,t)))]}function gr(e,t){return[r(Jo(e),Object.assign(Object.assign({},fl(e,t,null)),pl(e,t)))]}function as(e,t){const{row:s,column:c}=t,h=Ho(s,c);return[r(Jo(e),Object.assign(Object.assign({},fl(e,t,h)),Es(e,t)))]}function cs(e,t){const{row:s,column:c}=t,h=Ho(s,c);return[r(al(e),Object.assign(Object.assign({},fl(e,t,h)),Es(e,t)))]}function pa(e,t){return[r(fo("vxe-button"),Object.assign(Object.assign({},fl(e,t,null)),pl(e,t)))]}function fc(e,t){return e.children.map(s=>pa(s,t)[0])}function ui(e,t,s){const{optionGroups:c,optionGroupProps:h={}}=e,g=h.options||"options",p=h.label||"label";return c.map((x,i)=>r("optgroup",{key:i,label:x[p]},s(x[g],e,t)))}function vs(e,t,s){const{optionProps:c={}}=t,{row:h,column:g}=s,p=c.label||"label",x=c.value||"value",i=c.disabled||"disabled",f=ys(t,s)?Ho(h,g):g.model.value;return e.map((d,y)=>r("option",{key:y,value:d[x],disabled:d[i],selected:d[x]==f},d[p]))}function pc(e,t){const{column:s}=t,{name:c}=e,h=cl(e);return s.filters.map((g,p)=>r(c,Object.assign(Object.assign(Object.assign({key:p,class:`vxe-default-${c}`},h),{value:g.data}),ua(e,t,g))))}function mc(e,t){const{column:s}=t;return s.filters.map((c,h)=>{const g=c.data;return r(Jo(e),Object.assign(Object.assign({key:h},gs(e,e,g)),bs(e,t,c)))})}function hc(e,t){const{column:s}=t;return s.filters.map((c,h)=>{const g=c.data;return r(al(e),Object.assign(Object.assign({key:h},gs(e,e,g)),bs(e,t,c)))})}function Zn({option:e,row:t,column:s}){const{data:c}=e;return n.get(t,s.property)==c}function br(e,t){return[r("select",Object.assign(Object.assign({class:"vxe-default-select"},cl(e)),da(e,t)),e.optionGroups?ui(e,t,vs):vs(e.options,e,t))]}function vr(e,t){const{row:s,column:c}=t,{options:h,optionProps:g,optionGroups:p,optionGroupProps:x}=e,i=Ho(s,c);return[r(Jo(e),Object.assign(Object.assign({},fl(e,t,i,{options:h,optionProps:g,optionGroups:p,optionGroupProps:x})),Es(e,t)))]}function xr(e,t){const{row:s,column:c}=t,{options:h,optionProps:g,optionGroups:p,optionGroupProps:x}=e,i=Ho(s,c);return[r(al(e),Object.assign(Object.assign({},fl(e,t,i,{options:h,optionProps:g,optionGroups:p,optionGroupProps:x})),Es(e,t)))]}function ps(e,{row:t,column:s}){const{props:c={},options:h,optionGroups:g,optionProps:p={},optionGroupProps:x={}}=e,i=n.get(t,s.property);let f;const d=p.label||"label",y=p.value||"value";return bi(i)?"":n.map(c.multiple?i:[i],g?$=>{const W=x.options||"options";for(let V=0;V<g.length&&(f=n.find(g[V][W],T=>T[y]==$),!f);V++);return f?f[d]:$}:$=>(f=n.find(h,W=>W[y]==$),f?f[d]:$)).join(", ")}function Cr(e,t){const{data:s,property:c}=t,{name:h}=e,g=cl(e),p=n.get(s,c);return[r(h,Object.assign(Object.assign(Object.assign({class:`vxe-default-${h}`},g),{value:g&&h==="input"&&(g.type==="submit"||g.type==="reset")?null:p}),fa(e,t)))]}function Ks(e,t){const{data:s,property:c}=t,h=n.get(s,c);return[r(Jo(e),Object.assign(Object.assign({},Qo(e,t,h)),dn(e,t)))]}function Zs(e,t){const{data:s,property:c}=t,h=n.get(s,c);return[r(al(e),Object.assign(Object.assign({},Qo(e,t,h)),dn(e,t)))]}function ma(e,t){return[r(fo("vxe-button"),Object.assign(Object.assign({},Qo(e,t,null)),pl(e,t)))]}function gc(e,t){return e.children.map(s=>ma(s,t)[0])}function yr(e,t,s){const{data:c,property:h}=s,{optionProps:g={}}=t,p=g.label||"label",x=g.value||"value",i=g.disabled||"disabled",f=n.get(c,h);return e.map((d,y)=>r("option",{key:y,value:d[x],disabled:d[i],selected:d[x]==f},d[p]))}function Js(e){const{row:t,column:s,options:c}=e;return c.original?Ho(t,s):ps(s.editRender||s.cellRender,e)}function Qs(e,t){const{data:s,property:c}=t,h=n.get(s,c);return[r(Jo(e),Object.assign(Object.assign({},Qo(e,t,h)),dn(e,t)))]}function Er(e,t){const{options:s,optionProps:c}=e,{data:h,property:g}=t,p=n.get(h,g);return[r(Jo(e),Object.assign(Object.assign({options:s,optionProps:c},Qo(e,t,p)),dn(e,t)))]}function wr(e,t){const{name:s,options:c,optionProps:h={}}=e,{data:g,property:p}=t,x=h.label||"label",i=h.value||"value",f=h.disabled||"disabled",d=n.get(g,p),y=ra(s);return c?[r(fo(`${y}-group`),Object.assign(Object.assign({},Qo(e,t,d)),dn(e,t)),{default:()=>c.map(($,W)=>r(fo(y),{key:W,label:$[i],content:$[x],disabled:$[f]}))})]:[r(fo(y),Object.assign(Object.assign({},Qo(e,t,d)),dn(e,t)))]}const ds={input:{autofocus:"input",renderEdit:Us,renderDefault:Us,renderFilter:pc,defaultFilterMethod:Zn,renderItemContent:Cr},textarea:{autofocus:"textarea",renderEdit:Us,renderItemContent:Cr},select:{renderEdit:br,renderDefault:br,renderCell(e,t){return Sl(e,t,ps(e,t))},renderFilter(e,t){const{column:s}=t;return s.filters.map((c,h)=>r("select",Object.assign(Object.assign({key:h,class:"vxe-default-select"},cl(e)),ua(e,t,c)),e.optionGroups?ui(e,t,vs):vs(e.options,e,t)))},defaultFilterMethod:Zn,renderItemContent(e,t){return[r("select",Object.assign(Object.assign({class:"vxe-default-select"},cl(e)),fa(e,t)),e.optionGroups?ui(e,t,yr):yr(e.options,e,t))]},exportMethod:Js},VxeInput:{autofocus:".vxe-input--inner",renderEdit:as,renderCell(e,t){const{props:s={}}=e,{row:c,column:h}=t,g=s.digits||m.input.digits;let p=n.get(c,h.property);if(p)switch(s.type){case"date":case"week":case"month":case"year":p=hr(p,s);break;case"float":p=n.toFixed(n.floor(p,g),g);break}return Sl(e,t,p)},renderDefault:as,renderFilter:mc,defaultFilterMethod:Zn,renderItemContent:Ks},VxeTextarea:{autofocus:".vxe-textarea--inner",renderItemContent:Ks},VxeButton:{renderDefault:gr,renderItemContent:Qs},VxeButtonGroup:{renderDefault:gr,renderItemContent(e,t){const{options:s}=e,{data:c,property:h}=t,g=n.get(c,h);return[r(Jo(e),Object.assign(Object.assign({options:s},Qo(e,t,g)),dn(e,t)))]}},VxeSelect:{autofocus:".vxe-input--inner",renderEdit:vr,renderDefault:vr,renderCell(e,t){return Sl(e,t,ps(e,t))},renderFilter(e,t){const{column:s}=t,{options:c,optionProps:h,optionGroups:g,optionGroupProps:p}=e;return s.filters.map((x,i)=>{const f=x.data;return r(Jo(e),Object.assign(Object.assign({key:i},gs(e,t,f,{options:c,optionProps:h,optionGroups:g,optionGroupProps:p})),bs(e,t,x)))})},defaultFilterMethod:Zn,renderItemContent(e,t){const{data:s,property:c}=t,{options:h,optionProps:g,optionGroups:p,optionGroupProps:x}=e,i=n.get(s,c);return[r(Jo(e),Object.assign(Object.assign({},Qo(e,t,i,{options:h,optionProps:g,optionGroups:p,optionGroupProps:x})),dn(e,t)))]},exportMethod:Js},VxeRadio:{autofocus:".vxe-radio--input",renderItemContent:Qs},VxeRadioGroup:{autofocus:".vxe-radio--input",renderItemContent:Er},VxeCheckbox:{autofocus:".vxe-checkbox--input",renderItemContent:Qs},VxeCheckboxGroup:{autofocus:".vxe-checkbox--input",renderItemContent:Er},VxeSwitch:{autofocus:".vxe-switch--button",renderEdit:as,renderDefault:as,renderItemContent:Ks},$input:{autofocus:".vxe-input--inner",renderEdit:cs,renderCell(e,t){const{props:s={}}=e,{row:c,column:h}=t,g=s.digits||m.input.digits;let p=n.get(c,h.property);if(p)switch(s.type){case"date":case"week":case"month":case"year":p=hr(p,s);break;case"float":p=n.toFixed(n.floor(p,g),g);break}return Sl(e,t,p)},renderDefault:cs,renderFilter:hc,defaultFilterMethod:Zn,renderItemContent:Zs},$textarea:{autofocus:".vxe-textarea--inner",renderItemContent:Zs},$button:{renderDefault:pa,renderItemContent:ma},$buttons:{renderDefault:fc,renderItemContent:gc},$select:{autofocus:".vxe-input--inner",renderEdit:xr,renderDefault:xr,renderCell(e,t){return Sl(e,t,ps(e,t))},renderFilter(e,t){const{column:s}=t,{options:c,optionProps:h,optionGroups:g,optionGroupProps:p}=e;return s.filters.map((x,i)=>{const f=x.data;return r(al(e),Object.assign(Object.assign({key:i},gs(e,t,f,{options:c,optionProps:h,optionGroups:g,optionGroupProps:p})),bs(e,t,x)))})},defaultFilterMethod:Zn,renderItemContent(e,t){const{data:s,property:c}=t,{options:h,optionProps:g,optionGroups:p,optionGroupProps:x}=e,i=n.get(s,c);return[r(al(e),Object.assign(Object.assign({},Qo(e,t,i,{options:h,optionProps:g,optionGroups:p,optionGroupProps:x})),dn(e,t)))]},exportMethod:Js},$radio:{autofocus:".vxe-radio--input",renderItemContent:wr},$checkbox:{autofocus:".vxe-checkbox--input",renderItemContent:wr},$switch:{autofocus:".vxe-switch--button",renderEdit:cs,renderDefault:cs,renderItemContent:Zs}},$n={mixin(e){return n.each(e,(t,s)=>$n.add(s,t)),$n},get(e){return ds[e]||null},add(e,t){if(e&&t){const s=ds[e];s?Object.assign(s,t):ds[e]=t}return $n},delete(e){return delete ds[e],$n}};class bc{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return n.each(t,(s,c)=>{this.add(c,s)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,s){const c=this.store[t];return n.isFunction(s)&&(s={commandMethod:s}),this.store[t]=c?n.merge(c,s):s,this}delete(t){delete this.store[t]}forEach(t){n.objectEach(this.store,t)}}const ha=new bc;class vc{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return n.each(t,(s,c)=>{this.add(c,s)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,s){const c=this.store[t];return n.isFunction(s)&&(s={menuMethod:s}),this.store[t]=c?n.merge(c,s):s,this}delete(t){delete this.store[t]}forEach(t){n.objectEach(this.store,t)}}const ga=new vc;class ba{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return n.each(t,(s,c)=>{this.add(c,s)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,s){const c=this.store[t];return this.store[t]=c?n.merge(c,s):s,this}delete(t){delete this.store[t]}forEach(t){n.objectEach(this.store,t)}}const va=new ba,xa=new ba;function wi(e){const t=(e?e.theme:null)||m.theme||"default";if(typeof document<"u"){const s=document.documentElement;s&&s.setAttribute("data-vxe-table-theme",t)}}const Zl=e=>(e&&(e.theme&&wi(e),e.zIndex&&mi.setCurrent(e.zIndex)),n.merge(m,e)),Si=Zl;function Sr(e,t){const s=[];return n.objectEach(e,(c,h)=>{(c===0||c===t)&&s.push(h)}),s}const Or=[];function Ca(e,t){return e&&e.install&&Or.indexOf(e)===-1&&(e.install(ot,t),Or.push(e)),ot}function ya(e,t){return m.i18n(e,t)}function Ea(e,t){return e?n.toValueString(m.translate?m.translate(e,t):e):""}class xc{get zIndex(){return pn()}get nextZIndex(){return en()}get exportTypes(){return Sr(m.export.types,1)}get importTypes(){return Sr(m.export.types,2)}}const wa=new xc,Sa="v4",Oa=Zl,Oi={},ot={v:Sa,version:"4.6.13",setConfig:Zl,globalStore:Oi,interceptor:Dl,renderer:$n,commands:ha,formats:Ur,validators:va,menus:ga,hooks:xa,use:Ca,t:ya,_t:Ea,config:Zl,setup:Oa,globalConfs:wa};wi(Oi);const Il=Rt({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e){const t=mt("$xetable",{}),{reactData:s,internalData:c,getComputeMaps:h}=t,{computeFilterOpts:g}=h(),p=ve(()=>{const{filterStore:S}=e;return S&&S.options.some(E=>E.checked)}),x=(S,E)=>{const{filterStore:R}=e;R.options.forEach(L=>{L._checked=E,L.checked=E}),R.isAllSelected=E,R.isIndeterminate=!1},i=S=>{const{filterStore:E}=e;E.options.forEach(R=>{R.checked=R._checked}),t.confirmFilterEvent(S)},f=(S,E,R)=>{const{filterStore:L}=e;L.options.forEach(j=>{j._checked=!1}),R._checked=E,t.checkFilterOptions(),i(S)},d=S=>{const{filterStore:E}=e;t.handleClearFilter(E.column),t.confirmFilterEvent(S)},y=(S,E,R)=>{R._checked=E,t.checkFilterOptions()},$=(S,E,R)=>{const{filterStore:L}=e;L.multiple?y(S,E,R):f(S,E,R)},W=(S,E)=>{const{filterStore:R}=e;R.multiple?x(S,E):d(S)},V={changeRadioOption:f,changeMultipleOption:y,changeAllOption:W,changeOption:$,confirmFilter:i,resetFilter:d},T=(S,E)=>{const{filterStore:R}=e,{column:L,multiple:j,maxHeight:F}=R,{slots:D}=L,H=D?D.filter:null,ue=Object.assign({},c._currFilterParams,{$panel:V,$table:t});if(H)return[r("div",{class:"vxe-table--filter-template"},t.callSlot(H,ue))];if(E&&E.renderFilter)return[r("div",{class:"vxe-table--filter-template"},$t(E.renderFilter(S,ue)))];const Ce=j?R.isAllSelected:!R.options.some(ne=>ne._checked),ye=j&&R.isIndeterminate;return[r("ul",{class:"vxe-table--filter-header"},[r("li",{class:["vxe-table--filter-option",{"is--checked":Ce,"is--indeterminate":ye}],title:m.i18n(j?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:ne=>{W(ne,!R.isAllSelected)}},(j?[r("span",{class:["vxe-checkbox--icon",ye?m.icon.TABLE_CHECKBOX_INDETERMINATE:Ce?m.icon.TABLE_CHECKBOX_CHECKED:m.icon.TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([r("span",{class:"vxe-checkbox--label"},m.i18n("vxe.table.allFilter"))]))]),r("ul",{class:"vxe-table--filter-body",style:F?{maxHeight:`${F}px`}:{}},R.options.map(ne=>{const re=ne._checked;return r("li",{class:["vxe-table--filter-option",{"is--checked":ne._checked}],title:ne.label,onClick:se=>{$(se,!ne._checked,ne)}},(j?[r("span",{class:["vxe-checkbox--icon",re?m.icon.TABLE_CHECKBOX_CHECKED:m.icon.TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([r("span",{class:"vxe-checkbox--label"},Yt(ne.label,1))]))}))]},_=()=>{const{filterStore:S}=e,{column:E,multiple:R}=S,L=g.value,j=p.value,F=E.filterRender,D=F?ot.renderer.get(F.name):null,H=!j&&!S.isAllSelected&&!S.isIndeterminate;return R&&(!D||D.showFilterFooter!==!1)?[r("div",{class:"vxe-table--filter-footer"},[r("button",{class:{"is--disabled":H},disabled:H,onClick:i},L.confirmButtonText||m.i18n("vxe.table.confirmFilter")),r("button",{onClick:d},L.resetButtonText||m.i18n("vxe.table.resetFilter"))])]:[]};return()=>{const{filterStore:S}=e,{initStore:E}=s,{column:R}=S,L=R?R.filterRender:null,j=L?ot.renderer.get(L.name):null,F=j?j.filterClassName:"",D=Object.assign({},c._currFilterParams,{$panel:V,$table:t});return r("div",{class:["vxe-table--filter-wrapper","filter--prevent-default",En(F,D),{"is--animat":t.props.animat,"is--multiple":S.multiple,"is--active":S.visible}],style:S.style},E.filter&&S.visible?T(L,j).concat(_()):[])}}}),Cc=["setFilter","clearFilter","getCheckedFilters"],yc={setupTable(e){const{props:t,reactData:s,internalData:c}=e,{refTableBody:h,refTableFilter:g}=e.getRefMaps(),{computeFilterOpts:p,computeMouseOpts:x}=e.getComputeMaps(),i={checkFilterOptions(){const{filterStore:d}=s;d.isAllSelected=d.options.every(y=>y._checked),d.isIndeterminate=!d.isAllSelected&&d.options.some(y=>y._checked)},triggerFilterEvent(d,y,$){const{initStore:W,filterStore:V}=s;if(V.column===y&&V.visible)V.visible=!1;else{const{target:T,pageX:_}=d,{visibleWidth:C}=wn(),{filters:S,filterMultiple:E,filterRender:R}=y,L=R?ot.renderer.get(R.name):null,j=y.filterRecoverMethod||(L?L.filterRecoverMethod:null);c._currFilterParams=$,Object.assign(V,{multiple:E,options:S,column:y,style:null}),V.options.forEach(F=>{const{_checked:D,checked:H}=F;F._checked=H,!H&&D!==H&&j&&j({option:F,column:y,$table:e})}),this.checkFilterOptions(),V.visible=!0,W.filter=!0,oe(()=>{const D=h.value.$el,H=g.value,ue=H?H.$el:null;let Ce=0,ye=0,ne=null,re=null;ue&&(Ce=ue.offsetWidth,ye=ue.offsetHeight,ne=ue.querySelector(".vxe-table--filter-header"),re=ue.querySelector(".vxe-table--filter-footer"));const se=Ce/2,J=10,N=D.clientWidth-Ce-J;let I,P;const q={top:`${T.offsetTop+T.offsetParent.offsetTop+T.offsetHeight+8}px`};let Y=null;if(ye>=D.clientHeight&&(Y=Math.max(60,D.clientHeight-(re?re.offsetHeight:0)-(ne?ne.offsetHeight:0))),y.fixed==="left"?I=T.offsetLeft+T.offsetParent.offsetLeft-se:y.fixed==="right"?P=T.offsetParent.offsetWidth-T.offsetLeft+(T.offsetParent.offsetParent.offsetWidth-T.offsetParent.offsetLeft)-y.renderWidth-se:I=T.offsetLeft+T.offsetParent.offsetLeft-se-D.scrollLeft,I){const pe=_+Ce-se+J-C;pe>0&&(I-=pe),q.left=`${Math.min(N,Math.max(J,I))}px`}else if(P){const pe=_+Ce-se+J-C;pe>0&&(P+=pe),q.right=`${Math.max(J,P)}px`}V.style=q,V.maxHeight=Y})}e.dispatchEvent("filter-visible",{column:y,field:y.field,property:y.field,filterList:e.getCheckedFilters(),visible:V.visible},d)},handleClearFilter(d){if(d){const{filters:y,filterRender:$}=d;if(y){const W=$?ot.renderer.get($.name):null,V=d.filterResetMethod||(W?W.filterResetMethod:null);y.forEach(T=>{T._checked=!1,T.checked=!1,V||(T.data=n.clone(T.resetValue,!0))}),V&&V({options:y,column:d,$table:e})}}},confirmFilterEvent(d){const{mouseConfig:y}=t,{filterStore:$,scrollXLoad:W,scrollYLoad:V}=s,T=p.value,_=x.value,{column:C}=$,{field:S}=C,E=[],R=[];C.filters.forEach(F=>{F.checked&&(E.push(F.value),R.push(F.data))});const L=e.getCheckedFilters(),j={$table:e,$event:d,column:C,field:S,property:S,values:E,datas:R,filters:L,filterList:L};T.remote||(e.handleTableData(!0),e.checkSelectionStatus()),y&&_.area&&e.handleFilterEvent&&e.handleFilterEvent(d,j),e.dispatchEvent("filter-change",j,d),e.closeFilter(),e.updateFooter().then(()=>{const{scrollXLoad:F,scrollYLoad:D}=s;if(W||F||V||D)return(W||F)&&e.updateScrollXSpace(),(V||D)&&e.updateScrollYSpace(),e.refreshScroll()}).then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>{setTimeout(()=>e.recalculate(),50)})}};return Object.assign(Object.assign({},{openFilter(d){const y=bo(e,d);if(y&&y.filters){const{elemStore:$}=c,{fixed:W}=y;return e.scrollToColumn(y).then(()=>{const V=$[`${W||"main"}-header-wrapper`]||$["main-header-wrapper"],T=V?V.value:null;if(T){const _=T.querySelector(`.vxe-header--column.${y.id} .vxe-filter--btn`);oc(_,"click")}})}return oe()},setFilter(d,y){const $=bo(e,d);return $&&$.filters&&($.filters=ea(y||[])),oe()},clearFilter(d){const{filterStore:y}=s,{tableFullColumn:$}=c,W=p.value;let V;return d?(V=bo(e,d),V&&i.handleClearFilter(V)):$.forEach(i.handleClearFilter),(!d||V!==y.column)&&Object.assign(y,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),W.remote?oe():e.updateData()},getCheckedFilters(){const{tableFullColumn:d}=c,y=[];return d.forEach($=>{const{field:W,filters:V}=$,T=[],_=[];V&&V.length&&(V.forEach(C=>{C.checked&&(T.push(C.value),_.push(C.data))}),T.length&&y.push({column:$,field:W,property:W,values:T,datas:_}))}),y}}),i)},setupGrid(e){return e.extendTableMethods(Cc)}};let Ol;const ms=zt({modals:[]}),Ec=Rt({setup(){return()=>{const{modals:e}=ms;return r("div",{class:"vxe-dynamics--modal"},e.map(t=>r(fo("vxe-modal"),t)))}}}),kt=Za(Ec);function wc(){Ol||(Ol=document.createElement("div"),Ol.className="vxe-dynamics",document.body.appendChild(Ol),kt.mount(Ol))}const Ti={Panel:Il,install(e){ot.hooks.add("$tableFilter",yc),e.component(Il.name,Il)}},Sc=Ti;kt.component(Il.name,Il);const Fl=Rt({name:"VxeTableMenuPanel",setup(e,t){const s=n.uniqueId(),c=mt("$xetable",{}),{reactData:h}=c,g=Xe(),p={refElem:g},x={xID:s,props:e,context:t,getRefMaps:()=>p},i=()=>{const{ctxMenuStore:f}=h,{computeMenuOpts:d}=c.getComputeMaps(),y=d.value;return r(ul,{to:"body",disabled:!1},[r("div",{ref:g,class:["vxe-table--context-menu-wrapper",y.className,{"is--visible":f.visible}],style:f.style},f.list.map(($,W)=>$.every(V=>V.visible===!1)?Ot():r("ul",{class:"vxe-context-menu--option-wrapper",key:W},$.map((V,T)=>{const _=V.children&&V.children.some(C=>C.visible!==!1);return V.visible===!1?null:r("li",{class:[V.className,{"link--disabled":V.disabled,"link--active":V===f.selected}],key:`${W}_${T}`},[r("a",{class:"vxe-context-menu--link",onClick(C){c.ctxMenuLinkEvent(C,V)},onMouseover(C){c.ctxMenuMouseoverEvent(C,V)},onMouseout(C){c.ctxMenuMouseoutEvent(C,V)}},[r("i",{class:["vxe-context-menu--link-prefix",V.prefixIcon]}),r("span",{class:"vxe-context-menu--link-content"},jt(V.name)),r("i",{class:["vxe-context-menu--link-suffix",_?V.suffixIcon||"suffix--haschild":V.suffixIcon]})]),_?r("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":V===f.selected&&f.showChild}]},V.children.map((C,S)=>C.visible===!1?null:r("li",{class:[C.className,{"link--disabled":C.disabled,"link--active":C===f.selectChild}],key:`${W}_${T}_${S}`},[r("a",{class:"vxe-context-menu--link",onClick(E){c.ctxMenuLinkEvent(E,C)},onMouseover(E){c.ctxMenuMouseoverEvent(E,V,C)},onMouseout(E){c.ctxMenuMouseoutEvent(E,V)}},[r("i",{class:["vxe-context-menu--link-prefix",C.prefixIcon]}),r("span",{class:"vxe-context-menu--link-content"},jt(C.name))])]))):null])}))))])};return x.renderVN=i,x},render(){return this.renderVN()}}),ut={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown"},Tr={" ":"Spacebar",Apps:ut.CONTEXT_MENU,Del:ut.DELETE,Up:ut.ARROW_UP,Down:ut.ARROW_DOWN,Left:ut.ARROW_LEFT,Right:ut.ARROW_RIGHT},Ta=Io.firefox?"DOMMouseScroll":"mousewheel",fi=[],ht=(e,t)=>{const{key:s}=e;return t=t.toLowerCase(),s?t===s.toLowerCase()||!!(Tr[s]&&Tr[s].toLowerCase()===t):!1};function Ko(e){const t=e.type===Ta;fi.forEach(({type:s,cb:c})=>{e.cancelBubble||(s===e.type||t&&s==="mousewheel")&&c(e)})}const gt={on(e,t,s){fi.push({comp:e,type:t,cb:s})},off(e,t){n.remove(fi,s=>s.comp===e&&s.type===t)},trigger:Ko,eqKeypad(e,t){const{key:s}=e;return t.toLowerCase()===s.toLowerCase()}};Io.isDoc&&(Io.msie||(window.addEventListener("copy",Ko,!1),window.addEventListener("cut",Ko,!1),window.addEventListener("paste",Ko,!1)),document.addEventListener("keydown",Ko,!1),document.addEventListener("contextmenu",Ko,!1),window.addEventListener("mousedown",Ko,!1),window.addEventListener("blur",Ko,!1),window.addEventListener("resize",Ko,!1),window.addEventListener(Ta,n.throttle(Ko,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));const Oc=["closeMenu"],Tc={setupTable(e){const{xID:t,props:s,reactData:c,internalData:h}=e,{refElem:g,refTableFilter:p,refTableMenu:x}=e.getRefMaps(),{computeMouseOpts:i,computeIsMenu:f,computeMenuOpts:d}=e.getComputeMaps();let y={},$={};const W=(V,T,_)=>{const{ctxMenuStore:C}=c,S=f.value,E=d.value,R=E[T],L=E.visibleMethod;if(R){const{options:j,disabled:F}=R;F?V.preventDefault():S&&j&&j.length&&(_.options=j,e.preventEvent(V,"event.showMenu",_,()=>{if(!L||L(_)){V.preventDefault(),e.updateZindex();const{scrollTop:D,scrollLeft:H,visibleHeight:ue,visibleWidth:Ce}=wn();let ye=V.clientY+D,ne=V.clientX+H;const re=()=>{h._currMenuParams=_,Object.assign(C,{visible:!0,list:j,selected:null,selectChild:null,showChild:!1,style:{zIndex:h.tZindex,top:`${ye}px`,left:`${ne}px`}}),oe(()=>{const P=x.value.getRefMaps().refElem.value,q=P.clientHeight,Y=P.clientWidth,{boundingTop:pe,boundingLeft:De}=Zo(P),we=pe+q-ue,Pe=De+Y-Ce;we>-10&&(C.style.top=`${Math.max(D+2,ye-q-2)}px`),Pe>-10&&(C.style.left=`${Math.max(H+2,ne-Y-2)}px`)})},{keyboard:se,row:J,column:N}=_;se&&J&&N?e.scrollToRow(J,N).then(()=>{const I=e.getCell(J,N);if(I){const{boundingTop:P,boundingLeft:q}=Zo(I);ye=P+D+Math.floor(I.offsetHeight/2),ne=q+H+Math.floor(I.offsetWidth/2)}re()}):re()}else y.closeMenu()}))}e.closeFilter()};return y={closeMenu(){return Object.assign(c.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),oe()}},$={moveCtxMenu(V,T,_,C,S,E){let R;const L=n.findIndexOf(E,j=>T[_]===j);if(C)S&&ll(T.selected)?T.showChild=!0:(T.showChild=!1,T.selectChild=null);else if(ht(V,ut.ARROW_UP)){for(let j=L-1;j>=0;j--)if(E[j].visible!==!1){R=E[j];break}T[_]=R||E[E.length-1]}else if(ht(V,ut.ARROW_DOWN)){for(let j=L+1;j<E.length;j++)if(E[j].visible!==!1){R=E[j];break}T[_]=R||E[0]}else T[_]&&(ht(V,ut.ENTER)||ht(V,ut.SPACEBAR))&&$.ctxMenuLinkEvent(V,T[_])},handleOpenMenuEvent:W,handleGlobalContextmenuEvent(V){const{mouseConfig:T,menuConfig:_}=s,{editStore:C,ctxMenuStore:S}=c,{visibleColumn:E}=h,R=p.value,L=x.value,j=i.value,F=d.value,D=g.value,{selected:H}=C,ue=["header","body","footer"];if(pt(_)){if(S.visible&&L&&xt(V,L.getRefMaps().refElem.value).flag){V.preventDefault();return}if(h._keyCtx){const Ce="body",ye={type:Ce,$table:e,keyboard:!0,columns:E.slice(0),$event:V};if(T&&j.area){const ne=e.getActiveCellArea();if(ne&&ne.row&&ne.column){ye.row=ne.row,ye.column=ne.column,W(V,Ce,ye);return}}else if(T&&j.selected&&H.row&&H.column){ye.row=H.row,ye.column=H.column,W(V,Ce,ye);return}}for(let Ce=0;Ce<ue.length;Ce++){const ye=ue[Ce],ne=xt(V,D,`vxe-${ye}--column`,se=>se.parentNode.parentNode.parentNode.getAttribute("xid")===t),re={type:ye,$table:e,columns:E.slice(0),$event:V};if(ne.flag){const se=ne.targetElem,J=e.getColumnNode(se),N=J?J.item:null;let I=`${ye}-`;if(N&&Object.assign(re,{column:N,columnIndex:e.getColumnIndex(N),cell:se}),ye==="body"){const q=e.getRowNode(se.parentNode),Y=q?q.item:null;I="",Y&&(re.row=Y,re.rowIndex=e.getRowIndex(Y))}const P=`${I}cell-menu`;W(V,ye,re),e.dispatchEvent(P,re,V);return}else if(xt(V,D,`vxe-table--${ye}-wrapper`,se=>se.getAttribute("xid")===t).flag){F.trigger==="cell"?V.preventDefault():W(V,ye,re);return}}}R&&!xt(V,R.$el).flag&&e.closeFilter(),y.closeMenu()},ctxMenuMouseoverEvent(V,T,_){const C=V.currentTarget,{ctxMenuStore:S}=c;V.preventDefault(),V.stopPropagation(),S.selected=T,S.selectChild=_,_||(S.showChild=ll(T),S.showChild&&oe(()=>{const E=C.nextElementSibling;if(E){const{boundingTop:R,boundingLeft:L,visibleHeight:j,visibleWidth:F}=Zo(C),D=R+C.offsetHeight,H=L+C.offsetWidth;let ue="",Ce="";H+E.offsetWidth>F-10&&(ue="auto",Ce=`${C.offsetWidth}px`);let ye="",ne="";D+E.offsetHeight>j-10&&(ye="auto",ne="0"),E.style.left=ue,E.style.right=Ce,E.style.top=ye,E.style.bottom=ne}}))},ctxMenuMouseoutEvent(V,T){const{ctxMenuStore:_}=c;T.children||(_.selected=null),_.selectChild=null},ctxMenuLinkEvent(V,T){if(!T.disabled&&(T.code||!T.children||!T.children.length)){const _=ot.menus.get(T.code),C=Object.assign({},h._currMenuParams,{menu:T,$table:e,$grid:e.xegrid,$event:V});_&&_.menuMethod&&_.menuMethod(C,V),e.dispatchEvent("menu-click",C,V),y.closeMenu()}}},Object.assign(Object.assign({},y),$)},setupGrid(e){return e.extendTableMethods(Oc)}},Ri={Panel:Fl,install(e){ot.hooks.add("$tableMenu",Tc),e.component(Fl.name,Fl)}},Rc=Ri;kt.component(Fl.name,Fl);const Mc=["insert","insertAt","insertNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"],kc={setupTable(e){const{props:t,reactData:s,internalData:c}=e,{refElem:h}=e.getRefMaps(),{computeMouseOpts:g,computeEditOpts:p,computeCheckboxOpts:x,computeTreeOpts:i}=e.getComputeMaps();let f={},d={};const y=(C,S)=>{const{model:E,editRender:R}=S;R&&(E.value=Ho(C,S),E.update=!1)},$=(C,S)=>{const{model:E,editRender:R}=S;R&&E.update&&(an(C,S,E.value),E.update=!1,E.value=null)},W=()=>{const C=h.value;if(C){const S=C.querySelector(".col--selected");S&&Do(S,"col--selected")}};function V(){const{editStore:C,tableColumn:S}=s,E=p.value,{actived:R}=C,{row:L,column:j}=R;(L||j)&&(E.mode==="row"?S.forEach(F=>$(L,F)):$(L,j))}function T(C,S){const{tableFullTreeData:E,afterFullData:R,fullDataRowIdData:L,fullAllDataRowIdData:j}=c,F=i.value,{rowField:D,parentField:H,mapChildrenField:ue}=F,Ce=F.children||F.childrenField,ye=S?"push":"unshift";C.forEach(ne=>{const re=ne[H],se=ze(e,ne),J=re?n.findTree(E,N=>re===N[D],{children:ue}):null;if(J){const{item:N}=J,I=j[ze(e,N)],P=I?I.level:0;let q=N[Ce],Y=N[ue];n.isArray(q)||(q=N[Ce]=[]),n.isArray(Y)||(Y=N[Ce]=[]),q[ye](ne),Y[ye](ne);const pe={row:ne,rowid:se,seq:-1,index:-1,_index:-1,$index:-1,items:q,parent:N,level:P+1};L[se]=pe,j[se]=pe}else{R[ye](ne),E[ye](ne);const N={row:ne,rowid:se,seq:-1,index:-1,_index:-1,$index:-1,items:E,parent:null,level:0};L[se]=N,j[se]=N}})}const _=(C,S,E)=>{const{treeConfig:R}=t,{mergeList:L,editStore:j}=s,{tableFullTreeData:F,afterFullData:D,tableFullData:H,fullDataRowIdData:ue,fullAllDataRowIdData:Ce}=c,ye=i.value,{transform:ne,rowField:re,mapChildrenField:se}=ye,J=ye.children||ye.childrenField;n.isArray(C)||(C=[C]);const N=zt(e.defineField(C.map(P=>Object.assign(R&&ne?{[se]:[],[J]:[]}:{},P))));if(n.eqNull(S))R&&ne?T(N,!1):(D.unshift(...N),H.unshift(...N),L.forEach(P=>{const{row:q}=P;q>0&&(P.row=q+N.length)}));else if(S===-1)R&&ne?T(N,!0):(D.push(...N),H.push(...N),L.forEach(P=>{const{row:q,rowspan:Y}=P;q+Y>D.length&&(P.rowspan=Y+N.length)}));else if(R&&ne){const P=n.findTree(F,q=>S[re]===q[re],{children:se});if(P){const{parent:q}=P,Y=q?q[se]:F,pe=Ce[ze(e,q)],De=pe?pe.level:0;if(N.forEach((we,Pe)=>{const $e=ze(e,we);q&&(we[ye.parentField]=q[re]);let ae=P.index+Pe;E&&(ae=ae+1),Y.splice(ae,0,we);const k={row:we,rowid:$e,seq:-1,index:-1,_index:-1,$index:-1,items:Y,parent:q,level:De+1};ue[$e]=k,Ce[$e]=k}),q){const we=n.findTree(F,Pe=>S[re]===Pe[re],{children:J});if(we){const Pe=we.items;let $e=we.index;E&&($e=$e+1),Pe.splice($e,0,...N)}}}else T(N,!0)}else{if(R)throw new Error(gi("vxe.error.noTree",["insert"]));let P=-1;if(n.isNumber(S)?S<D.length&&(P=S):P=e.findRowIndexOf(D,S),E&&(P=Math.min(D.length,P+1)),P===-1)throw new Error(Jt("vxe.error.unableInsert"));D.splice(P,0,...N),H.splice(e.findRowIndexOf(H,S),0,...N),L.forEach(q=>{const{row:Y,rowspan:pe}=q;Y>P?q.row=Y+N.length:Y+pe>P&&(q.rowspan=pe+N.length)})}const{insertMaps:I}=j;return N.forEach(P=>{const q=ze(e,P);I[q]=P}),e.cacheRowMap(),e.updateScrollYStatus(),e.handleTableData(R&&ne),R&&ne||e.updateAfterDataIndex(),e.updateFooter(),e.checkSelectionStatus(),s.scrollYLoad&&e.updateScrollYSpace(),oe().then(()=>(e.updateCellAreas(),e.recalculate())).then(()=>({row:N.length?N[N.length-1]:null,rows:N}))};return f={insert(C){return _(C,null)},insertAt(C,S){return _(C,S)},insertNextAt(C,S){return _(C,S,!0)},remove(C){const{treeConfig:S}=t,{mergeList:E,editStore:R,selectCheckboxMaps:L}=s,{tableFullTreeData:j,afterFullData:F,tableFullData:D}=c,H=x.value,ue=i.value,{transform:Ce,mapChildrenField:ye}=ue,ne=ue.children||ue.childrenField,{actived:re,removeMaps:se,insertMaps:J}=R,{checkField:N}=H;let I=[];if(C?n.isArray(C)||(C=[C]):C=D,C.forEach(P=>{if(!e.isInsertByRow(P)){const q=ze(e,P);se[q]=P}}),!N){const P=Object.assign({},L);C.forEach(q=>{const Y=ze(e,q);P[Y]&&delete P[Y]}),s.selectCheckboxMaps=P}return D===C?(C=I=D.slice(0),c.tableFullData=[],c.afterFullData=[],e.clearMergeCells()):S&&Ce?C.forEach(P=>{const q=ze(e,P),Y=n.findTree(j,we=>q===ze(e,we),{children:ye});if(Y){const we=Y.items.splice(Y.index,1);I.push(we[0])}const pe=n.findTree(j,we=>q===ze(e,we),{children:ne});pe&&pe.items.splice(pe.index,1);const De=e.findRowIndexOf(F,P);De>-1&&F.splice(De,1)}):C.forEach(P=>{const q=e.findRowIndexOf(D,P);if(q>-1){const pe=D.splice(q,1);I.push(pe[0])}const Y=e.findRowIndexOf(F,P);Y>-1&&(E.forEach(pe=>{const{row:De,rowspan:we}=pe;De>Y?pe.row=De-1:De+we>Y&&(pe.rowspan=we-1)}),F.splice(Y,1))}),re.row&&e.findRowIndexOf(C,re.row)>-1&&f.clearEdit(),C.forEach(P=>{const q=ze(e,P);J[q]&&delete J[q]}),e.updateFooter(),e.cacheRowMap(),e.handleTableData(S&&Ce),S&&Ce||e.updateAfterDataIndex(),e.checkSelectionStatus(),s.scrollYLoad&&e.updateScrollYSpace(),oe().then(()=>(e.updateCellAreas(),e.recalculate())).then(()=>({row:I.length?I[I.length-1]:null,rows:I}))},removeCheckboxRow(){return f.remove(e.getCheckboxRecords()).then(C=>(e.clearCheckboxRow(),C))},removeRadioRow(){const C=e.getRadioRecord();return f.remove(C||[]).then(S=>(e.clearRadioRow(),S))},removeCurrentRow(){const C=e.getCurrentRecord();return f.remove(C||[]).then(S=>(e.clearCurrentRow(),S))},getRecordset(){return{insertRecords:f.getInsertRecords(),removeRecords:f.getRemoveRecords(),updateRecords:f.getUpdateRecords(),pendingRecords:e.getPendingRecords()}},getInsertRecords(){const{editStore:C}=s,{fullAllDataRowIdData:S}=c,{insertMaps:E}=C,R=[];return n.each(E,(L,j)=>{S[j]&&R.push(L)}),R},getRemoveRecords(){const{editStore:C}=s,{removeMaps:S}=C,E=[];return n.each(S,R=>{E.push(R)}),E},getUpdateRecords(){const{keepSource:C,treeConfig:S}=t,{tableFullData:E}=c,R=i.value;return C?(V(),S?n.filterTree(E,L=>e.isUpdateByRow(L),R):E.filter(L=>e.isUpdateByRow(L))):[]},getActiveRecord(){return this.getEditRecord()},getEditRecord(){const{editStore:C}=s,{afterFullData:S}=c,E=h.value,{args:R,row:L}=C.actived;return R&&e.findRowIndexOf(S,L)>-1&&E.querySelectorAll(".vxe-body--column.col--active").length?Object.assign({},R):null},getSelectedCell(){const{editStore:C}=s,{args:S,column:E}=C.selected;return S&&E?Object.assign({},S):null},clearActived(C){return this.clearEdit(C)},clearEdit(C){const{editStore:S}=s,{actived:E,focused:R}=S,{row:L,column:j}=E;return(L||j)&&(V(),E.args=null,E.row=null,E.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:L,rowIndex:e.getRowIndex(L),$rowIndex:e.getVMRowIndex(L),column:j,columnIndex:e.getColumnIndex(j),$columnIndex:e.getVMColumnIndex(j)},C||null)),m.cellVaildMode==="obsolete"&&e.clearValidate?e.clearValidate():(R.row=null,R.column=null,oe())},clearSelected(){const{editStore:C}=s,{selected:S}=C;return S.row=null,S.column=null,W(),oe()},isActiveByRow(C){return this.isEditByRow(C)},isEditByRow(C){const{editStore:S}=s;return S.actived.row===C},setActiveRow(C){return f.setEditRow(C)},setEditRow(C,S){const{visibleColumn:E}=c;let R=n.find(E,L=>pt(L.editRender));return S&&(R=n.isString(S)?e.getColumnByField(S):S),e.setEditCell(C,R)},setActiveCell(C,S){return f.setEditCell(C,S)},setEditCell(C,S){const{editConfig:E}=t,R=n.isString(S)?e.getColumnByField(S):S;return C&&R&&pt(E)&&pt(R.editRender)?e.scrollToRow(C,R).then(()=>{const L=e.getCell(C,R);return L&&(d.handleActived({row:C,rowIndex:e.getRowIndex(C),column:R,columnIndex:e.getColumnIndex(R),cell:L,$table:e}),c._lastCallTime=Date.now()),oe()}):oe()},setSelectCell(C,S){const{tableData:E}=s,R=p.value,L=n.isString(S)?e.getColumnByField(S):S;if(C&&L&&R.trigger!=="manual"){const j=e.findRowIndexOf(E,C);if(j>-1&&L){const F=e.getCell(C,L),D={row:C,rowIndex:j,column:L,columnIndex:e.getColumnIndex(L),cell:F};e.handleSelected(D,{})}}return oe()}},d={handleActived(C,S){const{editConfig:E,mouseConfig:R}=t,{editStore:L,tableColumn:j}=s,F=p.value,{mode:D}=F,{actived:H,focused:ue}=L,{row:Ce,column:ye}=C,{editRender:ne}=ye,re=C.cell||e.getCell(Ce,ye),se=F.beforeEditMethod||F.activeMethod;if(C.cell=re,re&&pt(E)&&pt(ne)&&!e.hasPendingByRow(Ce)){if(H.row!==Ce||D==="cell"&&H.column!==ye){let J="edit-disabled";if(!se||se(Object.assign(Object.assign({},C),{$table:e,$grid:e.xegrid}))){R&&(f.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),H.column&&f.clearEdit(S),J="edit-activated",ye.renderHeight=re.offsetHeight,H.args=C,H.row=Ce,H.column=ye,D==="row"?j.forEach(I=>y(Ce,I)):y(Ce,ye);const N=F.afterEditMethod;oe(()=>{d.handleFocus(C,S),N&&N(Object.assign(Object.assign({},C),{$table:e,$grid:e.xegrid}))})}e.dispatchEvent(J,{row:Ce,rowIndex:e.getRowIndex(Ce),$rowIndex:e.getVMRowIndex(Ce),column:ye,columnIndex:e.getColumnIndex(ye),$columnIndex:e.getVMColumnIndex(ye)},S),J==="edit-activated"&&e.dispatchEvent("edit-actived",{row:Ce,rowIndex:e.getRowIndex(Ce),$rowIndex:e.getVMRowIndex(Ce),column:ye,columnIndex:e.getColumnIndex(ye),$columnIndex:e.getVMColumnIndex(ye)},S)}else{const{column:J}=H;if(R&&(f.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),J!==ye){const{model:N}=J;N.update&&an(Ce,J,N.value),e.clearValidate&&e.clearValidate(Ce,ye)}ye.renderHeight=re.offsetHeight,H.args=C,H.column=ye,setTimeout(()=>{d.handleFocus(C,S)})}ue.column=null,ue.row=null,e.focus()}return oe()},handleFocus(C){const{row:S,column:E,cell:R}=C,{editRender:L}=E;if(pt(L)){const j=$n.get(L.name);let{autofocus:F,autoselect:D}=L,H;if(!F&&j&&(F=j.autofocus),!D&&j&&(D=j.autoselect),n.isFunction(F)?H=F.call(this,C):F&&(H=R.querySelector(F),H&&H.focus()),H){if(D)H.select();else if(Io.msie){const ue=H.createTextRange();ue.collapse(!1),ue.select()}}else e.scrollToRow(S,E)}},handleSelected(C,S){const{mouseConfig:E}=t,{editStore:R}=s,L=g.value,j=p.value,{actived:F,selected:D}=R,{row:H,column:ue}=C,Ce=E&&L.selected;return Ce&&(D.row!==H||D.column!==ue)&&(F.row!==H||j.mode==="cell"&&F.column!==ue)&&(f.clearEdit(S),f.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),D.args=C,D.row=H,D.column=ue,Ce&&d.addCellSelectedClass(),e.focus(),S&&e.dispatchEvent("cell-selected",C,S)),oe()},addCellSelectedClass(){const{editStore:C}=s,{selected:S}=C,{row:E,column:R}=S;if(W(),E&&R){const L=e.getCell(E,R);L&&cn(L,"col--selected")}}},Object.assign(Object.assign({},f),d)},setupGrid(e){return e.extendTableMethods(Mc)}},Mi={install(){ot.hooks.add("$tableEdit",kc)}},Dc=Mi;function Qt(e){const t=mt("xesize",null),s=ve(()=>e.size||(t?t.value:null));return _t("xesize",s),s}const xo=Rt({name:"VxeButton",props:{type:String,mode:String,className:[String,Function],popupClassName:[String,Function],size:{type:String,default:()=>m.button.size||m.size},name:[String,Number],content:String,placement:String,status:String,title:String,icon:String,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,destroyOnClose:Boolean,transfer:{type:Boolean,default:()=>m.button.transfer}},emits:["click","mouseenter","mouseleave","dropdown-click"],setup(e,t){const{slots:s,emit:c}=t,h=n.uniqueId(),g=Qt(e),p=zt({inited:!1,showPanel:!1,animatVisible:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),x={showTime:null},i=Xe(),f=Xe(),d=Xe(),y={refElem:i},$={xID:h,props:e,context:t,reactData:p,internalData:x,getRefMaps:()=>y},W=mt("$xebuttongroup",null);let V={};const T=ve(()=>{const{type:I}=e;return I?["submit","reset","button"].indexOf(I)>-1:!1}),_=ve(()=>{const{type:I,mode:P}=e;return P==="text"||I==="text"||W&&W.props.mode==="text"?"text":"button"}),C=ve(()=>{const{status:I}=e;return I||(W?W.props.status:"")}),S=ve(()=>{const{round:I}=e;return I||(W?W.props.round:!1)}),E=ve(()=>{const{circle:I}=e;return I||(W?W.props.circle:!1)}),R=()=>{p.panelIndex<pn()&&(p.panelIndex=en())},L=()=>oe().then(()=>{const{transfer:I,placement:P}=e,{panelIndex:q}=p,Y=f.value,pe=d.value;if(pe&&Y){const De=Y.offsetHeight,we=Y.offsetWidth,Pe=pe.offsetHeight,$e=pe.offsetWidth,ae=5,k={zIndex:q},{top:Q,left:ie,boundingTop:fe,visibleHeight:Re,visibleWidth:te}=Zo(Y);let ee="bottom";if(I){let le=ie+we-$e,me=Q+De;P==="top"?(ee="top",me=Q-Pe):P||(fe+De+Pe+ae>Re&&(ee="top",me=Q-Pe),me<ae&&(ee="bottom",me=Q+De)),le+$e+ae>te&&(le-=le+$e+ae-te),le<ae&&(le=ae),Object.assign(k,{left:`${le}px`,right:"auto",top:`${me}px`,minWidth:`${we}px`})}else P==="top"?(ee="top",k.bottom=`${De}px`):P||fe+De+Pe>Re&&fe-De-Pe>ae&&(ee="top",k.bottom=`${De}px`);return p.panelStyle=k,p.panelPlacement=ee,oe()}}),j=I=>{W?W.handleClick({name:e.name},I):V.dispatchEvent("click",{$event:I},I)},F=I=>{I.button===0&&I.stopPropagation()},D=I=>{const P=I.currentTarget,q=d.value,{flag:Y,targetElem:pe}=xt(I,P,"vxe-button");Y&&(q&&(q.dataset.active="N"),p.showPanel=!1,setTimeout(()=>{(!q||q.dataset.active!=="Y")&&(p.animatVisible=!1)},350),V.dispatchEvent("dropdown-click",{name:pe.getAttribute("name"),$event:I},I))},H=()=>{const I=d.value;I&&(I.dataset.active="Y",p.animatVisible=!0,setTimeout(()=>{I.dataset.active==="Y"&&(p.showPanel=!0,R(),L(),setTimeout(()=>{p.showPanel&&L()},50))},20))},ue=I=>{const P=d.value;P&&(P.dataset.active="Y",p.inited||(p.inited=!0),x.showTime=setTimeout(()=>{P.dataset.active==="Y"?H():p.animatVisible=!1},250)),ye(I)},Ce=I=>{re(),ne(I)},ye=I=>{c("mouseenter",{$event:I})},ne=I=>{c("mouseleave",{$event:I})},re=()=>{const I=d.value;clearTimeout(x.showTime),I?(I.dataset.active="N",setTimeout(()=>{I.dataset.active!=="Y"&&(p.showPanel=!1,setTimeout(()=>{I.dataset.active!=="Y"&&(p.animatVisible=!1)},350))},100)):(p.animatVisible=!1,p.showPanel=!1)},se=()=>{re()},J=()=>{const{content:I,icon:P,loading:q}=e,Y=[];return q?Y.push(r("i",{class:["vxe-button--loading-icon",m.icon.BUTTON_LOADING]})):s.icon?Y.push(r("span",{class:"vxe-button--custom-icon"},s.icon({}))):P&&Y.push(r("i",{class:["vxe-button--icon",P]})),s.default?Y.push(r("span",{class:"vxe-button--content"},s.default({}))):I&&Y.push(r("span",{class:"vxe-button--content"},jt(I))),Y};V={dispatchEvent(I,P,q){c(I,Object.assign({$button:$,$event:q},P))},focus(){return f.value.focus(),oe()},blur(){return f.value.blur(),oe()}},Object.assign($,V),po(()=>{gt.on($,"mousewheel",I=>{const P=d.value;p.showPanel&&!xt(I,P).flag&&re()})}),ao(()=>{gt.off($,"mousewheel")});const N=()=>{const{className:I,popupClassName:P,transfer:q,title:Y,type:pe,destroyOnClose:De,name:we,disabled:Pe,loading:$e}=e,{inited:ae,showPanel:k}=p,Q=T.value,ie=_.value,fe=C.value,Re=S.value,te=E.value,ee=g.value;return s.dropdowns?r("div",{ref:i,class:["vxe-button--dropdown",I?n.isFunction(I)?I({$button:$}):I:"",{[`size--${ee}`]:ee,"is--active":k}]},[r("button",{ref:f,class:["vxe-button",`type--${ie}`,{[`size--${ee}`]:ee,[`theme--${fe}`]:fe,"is--round":Re,"is--circle":te,"is--disabled":Pe||$e,"is--loading":$e}],title:Y,name:we,type:Q?pe:"button",disabled:Pe||$e,onMouseenter:ue,onMouseleave:Ce,onClick:j},J().concat([r("i",{class:`vxe-button--dropdown-arrow ${m.icon.BUTTON_DROPDOWN}`})])),r(ul,{to:"body",disabled:q?!ae:!0},[r("div",{ref:d,class:["vxe-button--dropdown-panel",P?n.isFunction(P)?P({$button:$}):P:"",{[`size--${ee}`]:ee,"animat--leave":p.animatVisible,"animat--enter":k}],placement:p.panelPlacement,style:p.panelStyle},ae?[r("div",{class:"vxe-button--dropdown-wrapper",onMousedown:F,onClick:D,onMouseenter:H,onMouseleave:se},De&&!k?[]:s.dropdowns({}))]:[])])]):r("button",{ref:f,class:["vxe-button",`type--${ie}`,I?n.isFunction(I)?I({$button:$}):I:"",{[`size--${ee}`]:ee,[`theme--${fe}`]:fe,"is--round":Re,"is--circle":te,"is--disabled":Pe||$e,"is--loading":$e}],title:Y,name:we,type:Q?pe:"button",disabled:Pe||$e,onClick:j,onMouseenter:ye,onMouseleave:ne},J())};return $.renderVN=N,$},render(){return this.renderVN()}}),ei=Rt({name:"VxeLoading",props:{modelValue:Boolean,icon:String,text:String},setup(e,{slots:t}){const s=ve(()=>e.icon||m.icon.LOADING),c=ve(()=>{const h=m.loadingText;return e.text||(h===null?h:m.i18n("vxe.loading.text"))});return()=>{const h=s.value,g=c.value;return r("div",{class:["vxe-loading",{"is--visible":e.modelValue}]},t.default?[r("div",{class:"vxe-loading--wrapper"},t.default({}))]:[r("div",{class:"vxe-loading--chunk"},[h?r("i",{class:h}):r("div",{class:"vxe-loading--spinner"}),g?r("div",{class:"vxe-loading--text"},`${g}`):null])])}}}),ws=Object.assign(ei,{install(e){e.component(ei.name,ei)}}),Bn=[],Tl=[],Sn=Rt({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:()=>m.modal.top},position:[String,Object],title:String,duration:{type:[Number,String],default:()=>m.modal.duration},message:[Number,String],content:[Number,String],cancelButtonText:{type:String,default:()=>m.modal.cancelButtonText},confirmButtonText:{type:String,default:()=>m.modal.confirmButtonText},lockView:{type:Boolean,default:()=>m.modal.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>m.modal.mask},maskClosable:{type:Boolean,default:()=>m.modal.maskClosable},escClosable:{type:Boolean,default:()=>m.modal.escClosable},resize:Boolean,showHeader:{type:Boolean,default:()=>m.modal.showHeader},showFooter:{type:Boolean,default:()=>m.modal.showFooter},showZoom:Boolean,showClose:{type:Boolean,default:()=>m.modal.showClose},dblclickZoom:{type:Boolean,default:()=>m.modal.dblclickZoom},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>m.modal.minWidth},minHeight:{type:[Number,String],default:()=>m.modal.minHeight},zIndex:Number,marginSize:{type:[Number,String],default:()=>m.modal.marginSize},fullscreen:Boolean,draggable:{type:Boolean,default:()=>m.modal.draggable},remember:{type:Boolean,default:()=>m.modal.remember},destroyOnClose:{type:Boolean,default:()=>m.modal.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>m.modal.showTitleOverflow},transfer:{type:Boolean,default:()=>m.modal.transfer},storage:{type:Boolean,default:()=>m.modal.storage},storageKey:{type:String,default:()=>m.modal.storageKey},animat:{type:Boolean,default:()=>m.modal.animat},size:{type:String,default:()=>m.modal.size||m.size},beforeHideMethod:{type:Function,default:()=>m.modal.beforeHideMethod},slots:Object},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom"],setup(e,t){const{slots:s,emit:c}=t,h=n.uniqueId(),g=Qt(e),p=zt({inited:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,zoomLocat:null,firstOpen:!0}),x=Xe(),i=Xe(),f=Xe(),d=Xe(),y={refElem:x},$={xID:h,props:e,context:t,reactData:p,getRefMaps:()=>y};let W={};const V=ve(()=>e.type==="message"),T=()=>i.value,_=()=>{const{width:te,height:ee}=e,le=T();return le.style.width=`${te?isNaN(te)?te:`${te}px`:""}`,le.style.height=`${ee?isNaN(ee)?ee:`${ee}px`:""}`,oe()},C=()=>{const{zIndex:te}=e,{modalZindex:ee}=p;te?p.modalZindex=te:ee<pn()&&(p.modalZindex=en())},S=()=>oe().then(()=>{const{position:te}=e,ee=n.toNumber(e.marginSize),le=T(),me=document.documentElement.clientWidth||document.body.clientWidth,be=document.documentElement.clientHeight||document.body.clientHeight,he=te==="center",{top:Ve,left:Ge}=n.isString(te)?{top:te,left:te}:Object.assign({},te),Ye=he||Ve==="center",_e=he||Ge==="center";let Fe="",ke="";Ge&&!_e?ke=isNaN(Ge)?Ge:`${Ge}px`:ke=`${Math.max(ee,me/2-le.offsetWidth/2)}px`,Ve&&!Ye?Fe=isNaN(Ve)?Ve:`${Ve}px`:Fe=`${Math.max(ee,be/2-le.offsetHeight/2)}px`,le.style.top=Fe,le.style.left=ke}),E=()=>{oe(()=>{let te=0;Tl.forEach(ee=>{const le=ee.getBox();te+=n.toNumber(ee.props.top),ee.reactData.modalTop=te,te+=le.clientHeight})})},R=()=>{Tl.indexOf($)>-1&&n.remove(Tl,te=>te===$),E()},L=te=>{const{remember:ee,beforeHideMethod:le}=e,{visible:me}=p,be=V.value,he={type:te};return me&&Promise.resolve(le?le(he):null).then(Ve=>{n.isError(Ve)||(be&&R(),p.contentVisible=!1,ee||(p.zoomLocat=null),n.remove(Bn,Ge=>Ge===$),W.dispatchEvent("before-hide",he),setTimeout(()=>{p.visible=!1,c("update:modelValue",!1),W.dispatchEvent("hide",he)},200))}).catch(Ve=>Ve),oe()},j=te=>{const ee="close";W.dispatchEvent(ee,{type:ee},te),L(ee)},F=te=>{const ee="confirm";W.dispatchEvent(ee,{type:ee},te),L(ee)},D=te=>{const ee="cancel";W.dispatchEvent(ee,{type:ee},te),L(ee)},H=te=>{const ee=m.version,le=n.toStringJSON(localStorage.getItem(te)||"");return le&&le._v===ee?le:{_v:ee}},ue=()=>{const{id:te,remember:ee,storage:le,storageKey:me}=e;return!!(te&&ee&&le&&H(me)[te])},Ce=()=>{const{id:te,remember:ee,storage:le,storageKey:me}=e;if(te&&ee&&le){const be=H(me)[te];if(be){const he=T(),[Ve,Ge,Ye,_e,Fe,ke,X,ce]=be.split(",");Ve&&(he.style.left=`${Ve}px`),Ge&&(he.style.top=`${Ge}px`),Ye&&(he.style.width=`${Ye}px`),_e&&(he.style.height=`${_e}px`),Fe&&ke&&(p.zoomLocat={left:Fe,top:ke,width:X,height:ce})}}},ye=()=>{Tl.indexOf($)===-1&&Tl.push($),E()},ne=()=>{const{id:te,remember:ee,storage:le,storageKey:me}=e,{zoomLocat:be}=p;if(te&&ee&&le){const he=T(),Ve=H(me);Ve[te]=[he.style.left,he.style.top,he.style.width,he.style.height].concat(be?[be.left,be.top,be.width,be.height]:[]).map(Ge=>Ge?n.toNumber(Ge):"").join(","),localStorage.setItem(me,n.toJSONString(Ve))}},re=()=>oe().then(()=>{if(!p.zoomLocat){const te=Math.max(0,n.toNumber(e.marginSize)),ee=T(),{visibleHeight:le,visibleWidth:me}=wn();p.zoomLocat={top:ee.offsetTop,left:ee.offsetLeft,width:ee.offsetWidth+(ee.style.width?0:1),height:ee.offsetHeight+(ee.style.height?0:1)},Object.assign(ee.style,{top:`${te}px`,left:`${te}px`,width:`${me-te*2}px`,height:`${le-te*2}px`}),ne()}}),se=()=>{const{duration:te,remember:ee,showFooter:le}=e,{inited:me,visible:be}=p,he=V.value;return me||(p.inited=!0),be||(ee||_(),p.visible=!0,p.contentVisible=!1,C(),Bn.push($),setTimeout(()=>{p.contentVisible=!0,oe(()=>{if(le){const Ye=f.value,_e=d.value,Fe=Ye||_e;Fe&&Fe.focus()}const Ge={type:""};c("update:modelValue",!0),W.dispatchEvent("show",Ge)})},10),he?(ye(),te!==-1&&setTimeout(()=>L("close"),n.toNumber(te))):oe(()=>{const{fullscreen:Ve}=e,{firstOpen:Ge}=p;(!ee||Ge)&&S().then(()=>{setTimeout(()=>S(),20)}),Ge?(p.firstOpen=!1,ue()?Ce():Ve&&oe(()=>re())):Ve&&oe(()=>re())})),oe()},J=te=>{const ee=x.value;e.maskClosable&&te.target===ee&&L("mask")},N=te=>{if(ht(te,ut.ESCAPE)){const le=n.max(Bn,me=>me.reactData.modalZindex);le&&setTimeout(()=>{le===$&&le.props.escClosable&&L("exit")},10)}},I=()=>!!p.zoomLocat,P=()=>oe().then(()=>{const{zoomLocat:te}=p;if(te){const ee=T();p.zoomLocat=null,Object.assign(ee.style,{top:`${te.top}px`,left:`${te.left}px`,width:`${te.width}px`,height:`${te.height}px`}),ne()}}),q=()=>p.zoomLocat?P().then(()=>I()):re().then(()=>I()),Y=te=>{const{zoomLocat:ee}=p,le={type:ee?"revert":"max"};return q().then(()=>{W.dispatchEvent("zoom",le,te)})},pe=()=>{if(!V.value){const ee=T();if(ee)return{top:ee.offsetTop,left:ee.offsetLeft}}return null},De=(te,ee)=>{if(!V.value){const me=T();n.isNumber(te)&&(me.style.top=`${te}px`),n.isNumber(ee)&&(me.style.left=`${ee}px`)}return oe()},we=()=>{const{modalZindex:te}=p;Bn.some(ee=>ee.reactData.visible&&ee.reactData.modalZindex>te)&&C()},Pe=te=>{const{remember:ee,storage:le}=e,{zoomLocat:me}=p,be=n.toNumber(e.marginSize),he=T();if(!me&&te.button===0&&!xt(te,he,"trigger--btn").flag){te.preventDefault();const Ve=document.onmousemove,Ge=document.onmouseup,Ye=te.clientX-he.offsetLeft,_e=te.clientY-he.offsetTop,{visibleHeight:Fe,visibleWidth:ke}=wn();document.onmousemove=X=>{X.preventDefault();const ce=he.offsetWidth,Oe=he.offsetHeight,Se=be,A=ke-ce-be-1,G=be,ge=Fe-Oe-be-1;let Be=X.clientX-Ye,He=X.clientY-_e;Be>A&&(Be=A),Be<Se&&(Be=Se),He>ge&&(He=ge),He<G&&(He=G),he.style.left=`${Be}px`,he.style.top=`${He}px`,he.className=he.className.replace(/\s?is--drag/,"")+" is--drag"},document.onmouseup=()=>{document.onmousemove=Ve,document.onmouseup=Ge,ee&&le&&oe(()=>{ne()}),setTimeout(()=>{he.className=he.className.replace(/\s?is--drag/,"")},50)}}},$e=te=>{te.preventDefault();const{remember:ee,storage:le}=e,{visibleHeight:me,visibleWidth:be}=wn(),he=n.toNumber(e.marginSize),Ge=te.target.getAttribute("type"),Ye=n.toNumber(e.minWidth),_e=n.toNumber(e.minHeight),Fe=be,ke=me,X=T(),ce=document.onmousemove,Oe=document.onmouseup,Se=X.clientWidth,A=X.clientHeight,G=te.clientX,ge=te.clientY,Be=X.offsetTop,He=X.offsetLeft,qe={type:"resize"};document.onmousemove=Qe=>{Qe.preventDefault();let Ze,et,Ke,lt;switch(Ge){case"wl":Ze=G-Qe.clientX,Ke=Ze+Se,He-Ze>he&&Ke>Ye&&(X.style.width=`${Ke<Fe?Ke:Fe}px`,X.style.left=`${He-Ze}px`);break;case"swst":Ze=G-Qe.clientX,et=ge-Qe.clientY,Ke=Ze+Se,lt=et+A,He-Ze>he&&Ke>Ye&&(X.style.width=`${Ke<Fe?Ke:Fe}px`,X.style.left=`${He-Ze}px`),Be-et>he&&lt>_e&&(X.style.height=`${lt<ke?lt:ke}px`,X.style.top=`${Be-et}px`);break;case"swlb":Ze=G-Qe.clientX,et=Qe.clientY-ge,Ke=Ze+Se,lt=et+A,He-Ze>he&&Ke>Ye&&(X.style.width=`${Ke<Fe?Ke:Fe}px`,X.style.left=`${He-Ze}px`),Be+lt+he<me&&lt>_e&&(X.style.height=`${lt<ke?lt:ke}px`);break;case"st":et=ge-Qe.clientY,lt=A+et,Be-et>he&&lt>_e&&(X.style.height=`${lt<ke?lt:ke}px`,X.style.top=`${Be-et}px`);break;case"wr":Ze=Qe.clientX-G,Ke=Ze+Se,He+Ke+he<be&&Ke>Ye&&(X.style.width=`${Ke<Fe?Ke:Fe}px`);break;case"sest":Ze=Qe.clientX-G,et=ge-Qe.clientY,Ke=Ze+Se,lt=et+A,He+Ke+he<be&&Ke>Ye&&(X.style.width=`${Ke<Fe?Ke:Fe}px`),Be-et>he&&lt>_e&&(X.style.height=`${lt<ke?lt:ke}px`,X.style.top=`${Be-et}px`);break;case"selb":Ze=Qe.clientX-G,et=Qe.clientY-ge,Ke=Ze+Se,lt=et+A,He+Ke+he<be&&Ke>Ye&&(X.style.width=`${Ke<Fe?Ke:Fe}px`),Be+lt+he<me&&lt>_e&&(X.style.height=`${lt<ke?lt:ke}px`);break;case"sb":et=Qe.clientY-ge,lt=et+A,Be+lt+he<me&&lt>_e&&(X.style.height=`${lt<ke?lt:ke}px`);break}X.className=X.className.replace(/\s?is--drag/,"")+" is--drag",ee&&le&&ne(),W.dispatchEvent("zoom",qe,Qe)},document.onmouseup=()=>{p.zoomLocat=null,document.onmousemove=ce,document.onmouseup=Oe,setTimeout(()=>{X.className=X.className.replace(/\s?is--drag/,"")},50)}},ae=()=>{const{slots:te={},showClose:ee,showZoom:le,title:me}=e,{zoomLocat:be}=p,he=s.title||te.title,Ve=s.corner||te.corner,Ge=[r("div",{class:"vxe-modal--header-title"},he?$t(he({$modal:$})):me?jt(me):m.i18n("vxe.alert.title"))],Ye=[];return Ve&&Ye.push(r("span",{class:"vxe-modal--corner-wrapper"},$t(Ve({$modal:$})))),le&&Ye.push(r("i",{class:["vxe-modal--zoom-btn","trigger--btn",be?m.icon.MODAL_ZOOM_OUT:m.icon.MODAL_ZOOM_IN],title:m.i18n(`vxe.modal.zoom${be?"Out":"In"}`),onClick:Y})),ee&&Ye.push(r("i",{class:["vxe-modal--close-btn","trigger--btn",m.icon.MODAL_CLOSE],title:m.i18n("vxe.modal.close"),onClick:j})),Ge.push(r("div",{class:"vxe-modal--header-right"},Ye)),Ge},k=()=>{const{slots:te={},showZoom:ee,draggable:le}=e,me=V.value,be=s.header||te.header,he=[];if(e.showHeader){const Ve={};le&&(Ve.onMousedown=Pe),ee&&e.dblclickZoom&&e.type==="modal"&&(Ve.onDblclick=Y),he.push(r("div",Object.assign({class:["vxe-modal--header",{"is--draggable":le,"is--ellipsis":!me&&e.showTitleOverflow}]},Ve),be?!p.inited||e.destroyOnClose&&!p.visible?[]:$t(be({$modal:$})):ae()))}return he},Q=()=>{const{slots:te={},status:ee,message:le}=e,me=e.content||le,be=V.value,he=s.default||te.default,Ve=[];return ee&&Ve.push(r("div",{class:"vxe-modal--status-wrapper"},[r("i",{class:["vxe-modal--status-icon",e.iconStatus||m.icon[`MODAL_${ee}`.toLocaleUpperCase()]]})])),Ve.push(r("div",{class:"vxe-modal--content"},he?!p.inited||e.destroyOnClose&&!p.visible?[]:$t(he({$modal:$})):jt(me))),be||Ve.push(r(ws,{class:"vxe-modal--loading",modelValue:e.loading})),[r("div",{class:"vxe-modal--body"},Ve)]},ie=()=>{const{type:te}=e,ee=[];return te==="confirm"&&ee.push(r(xo,{ref:d,content:e.cancelButtonText||m.i18n("vxe.button.cancel"),onClick:D})),ee.push(r(xo,{ref:f,status:"primary",content:e.confirmButtonText||m.i18n("vxe.button.confirm"),onClick:F})),ee},fe=()=>{const{slots:te={}}=e,ee=V.value,le=s.footer||te.footer,me=[];return e.showFooter&&me.push(r("div",{class:"vxe-modal--footer"},le?!p.inited||e.destroyOnClose&&!p.visible?[]:$t(le({$modal:$})):ie())),!ee&&e.resize&&me.push(r("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map(be=>r("span",{class:`${be}-resize`,type:be,onMousedown:$e})))),me};W={dispatchEvent(te,ee,le){c(te,Object.assign({$modal:$,$event:le},ee))},open:se,close(){return L("close")},getBox:T,getPosition:pe,setPosition:De,isMaximized:I,zoom:q,maximize:re,revert:P},Object.assign($,W),at(()=>e.width,_),at(()=>e.height,_),at(()=>e.modelValue,te=>{te?se():L("model")}),po(()=>{oe(()=>{e.storage&&!e.id&&Jt("vxe.error.reqProp",["modal.id"]),e.modelValue&&se(),_()}),e.escClosable&&gt.on($,"keydown",N)}),ao(()=>{gt.off($,"keydown"),R()});const Re=()=>{const{className:te,type:ee,animat:le,loading:me,status:be,lockScroll:he,lockView:Ve,mask:Ge,resize:Ye}=e,{inited:_e,zoomLocat:Fe,modalTop:ke,contentVisible:X,visible:ce}=p,Oe=g.value;return r(ul,{to:"body",disabled:e.transfer?!_e:!0},[r("div",{ref:x,class:["vxe-modal--wrapper",`type--${ee}`,te||"",{[`size--${Oe}`]:Oe,[`status--${be}`]:be,"is--animat":le,"lock--scroll":he,"lock--view":Ve,"is--resize":Ye,"is--mask":Ge,"is--maximize":Fe,"is--visible":X,"is--active":ce,"is--loading":me}],style:{zIndex:p.modalZindex,top:ke?`${ke}px`:null},onClick:J},[r("div",{ref:i,class:"vxe-modal--box",onMousedown:we},k().concat(Q(),fe()))])])};return $.renderVN=Re,$},render(){return this.renderVN()}});function Ic(e){if(e){const t=new Date;let s=0,c=0,h=0;if(n.isDate(e))s=e.getHours(),c=e.getMinutes(),h=e.getSeconds();else{e=n.toValueString(e);const g=e.match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);g&&(s=n.toNumber(g[1]),c=n.toNumber(g[3]),h=n.toNumber(g[5]))}return t.setHours(s),t.setMinutes(c),t.setSeconds(h),t}return new Date("")}function Rr(e){const t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}function Jn(e){return n.isString(e)?e.replace(/,/g,""):e}function Mr(e,t){return/^-/.test(""+e)?n.toFixed(n.ceil(e,t),t):n.toFixed(n.floor(e,t),t)}const sn=12,Fc=20,Lc=8,un=Rt({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:()=>m.input.clearable},readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:()=>n.eqNull(m.input.placeholder)?m.i18n("vxe.base.pleaseInput"):m.input.placeholder},maxlength:[String,Number],autocomplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>m.input.size||m.size},multiple:Boolean,showWordCount:Boolean,countMethod:Function,min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:()=>m.input.exponential},controls:{type:Boolean,default:()=>m.input.controls},digits:{type:[String,Number],default:()=>m.input.digits},startDate:{type:[String,Number,Date],default:()=>m.input.startDate},endDate:{type:[String,Number,Date],default:()=>m.input.endDate},minDate:[String,Number,Date],maxDate:[String,Number,Date],startWeek:Number,startDay:{type:[String,Number],default:()=>m.input.startDay},labelFormat:{type:String,default:()=>m.input.labelFormat},valueFormat:{type:String,default:()=>m.input.valueFormat},editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>m.input.festivalMethod},disabledMethod:{type:Function,default:()=>m.input.disabledMethod},selectDay:{type:[String,Number],default:()=>m.input.selectDay},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:()=>m.input.transfer}},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup(e,t){const{slots:s,emit:c}=t,h=mt("$xeform",null),g=mt("$xeformiteminfo",null),p=n.uniqueId(),x=Qt(e),i=zt({inited:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,animatVisible:!1,panelStyle:null,panelPlacement:"",isActivated:!1,inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),f=Xe(),d=Xe(),y=Xe(),$=Xe(),W={refElem:f,refInput:d},V={xID:p,props:e,context:t,reactData:i,getRefMaps:()=>W};let T={};const _=(b,K)=>{const{type:de}=e;return de==="time"?Ic(b):n.toStringDate(b,K)},C=ve(()=>{const{type:b}=e;return b==="time"||b==="datetime"}),S=ve(()=>["number","integer","float"].indexOf(e.type)>-1),E=ve(()=>n.getSize(i.inputValue)),R=ve(()=>{const b=E.value;return e.maxlength&&b>n.toNumber(e.maxlength)}),L=ve(()=>C.value||["date","week","month","quarter","year"].indexOf(e.type)>-1),j=ve(()=>e.type==="password"),F=ve(()=>e.type==="search"),D=ve(()=>n.toInteger(e.digits)||1),H=ve(()=>{const{type:b}=e,K=D.value,de=e.step;return b==="integer"?n.toInteger(de)||1:b==="float"?n.toNumber(de)||1/Math.pow(10,K):n.toNumber(de)||1}),ue=ve(()=>{const{type:b}=e,K=S.value,de=L.value,Le=j.value;return e.clearable&&(Le||K||de||b==="text"||b==="search")}),Ce=ve(()=>e.startDate?n.toStringDate(e.startDate):null),ye=ve(()=>e.endDate?n.toStringDate(e.endDate):null),ne=ve(()=>["date","week","month","quarter","year"].includes(e.type)),re=ve(()=>{const{modelValue:b,multiple:K}=e,de=L.value,Le=N.value;return K&&b&&de?n.toValueString(b).split(",").map(Ue=>{const je=_(Ue,Le);return n.isValidDate(je)?je:null}):[]}),se=ve(()=>{const b=re.value,K=N.value;return b.map(de=>n.toDateString(de,K))}),J=ve(()=>{const b=re.value,K=De.value;return b.map(de=>n.toDateString(de,K)).join(", ")}),N=ve(()=>{const{type:b}=e;return b==="time"?"HH:mm:ss":e.valueFormat||(b==="datetime"?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")}),I=ve(()=>{const{modelValue:b}=e,K=L.value,de=N.value;let Le=null;if(b&&K){const Ue=_(b,de);n.isValidDate(Ue)&&(Le=Ue)}return Le}),P=ve(()=>{const b=Ce.value,{selectMonth:K}=i;return K&&b?K<=b:!1}),q=ve(()=>{const b=ye.value,{selectMonth:K}=i;return K&&b?K>=b:!1}),Y=ve(()=>{const{datetimePanelValue:b}=i;return b?n.toDateString(b,"HH:mm:ss"):""}),pe=ve(()=>{const b=I.value,K=C.value;return b&&K?(b.getHours()*3600+b.getMinutes()*60+b.getSeconds())*1e3:0}),De=ve(()=>L.value?e.labelFormat||m.i18n(`vxe.input.date.labelFormat.${e.type}`):null),we=ve(()=>{const{selectMonth:b,currentDate:K}=i,de=[];if(b&&K){const Le=K.getFullYear(),Ue=b.getFullYear(),je=new Date(Ue-Ue%sn,0,1);for(let tt=-4;tt<sn+4;tt++){const o=n.getWhatYear(je,tt,"first"),l=o.getFullYear();de.push({date:o,isCurrent:!0,isPrev:tt<0,isNow:Le===l,isNext:tt>=sn,year:l})}}return de}),Pe=ve(()=>{if(L.value){const{datePanelType:K,selectMonth:de}=i,Le=we.value;let Ue="",je;return de&&(Ue=de.getFullYear(),je=de.getMonth()+1),K==="quarter"?m.i18n("vxe.input.date.quarterLabel",[Ue]):K==="month"?m.i18n("vxe.input.date.monthLabel",[Ue]):K==="year"?Le.length?`${Le[0].year} - ${Le[Le.length-1].year}`:"":m.i18n("vxe.input.date.dayLabel",[Ue,je?m.i18n(`vxe.input.date.m${je}`):"-"])}return""}),$e=ve(()=>{const{startDay:b,startWeek:K}=e;return n.toNumber(n.isNumber(b)||n.isString(b)?b:K)}),ae=ve(()=>{const b=[];if(L.value){let de=$e.value;b.push(de);for(let Le=0;Le<6;Le++)de>=6?de=0:de++,b.push(de)}return b}),k=ve(()=>L.value?ae.value.map(de=>({value:de,label:m.i18n(`vxe.input.date.weeks.w${de}`)})):[]),Q=ve(()=>{if(L.value){const K=k.value;return[{label:m.i18n("vxe.input.date.weeks.w")}].concat(K)}return[]}),ie=ve(()=>{const b=we.value;return n.chunk(b,4)}),fe=ve(()=>{const{selectMonth:b,currentDate:K}=i,de=[];if(b&&K){const Le=K.getFullYear(),Ue=Rr(K),je=n.getWhatYear(b,0,"first"),tt=je.getFullYear();for(let o=-2;o<Lc-2;o++){const l=n.getWhatQuarter(je,o),a=l.getFullYear(),u=Rr(l),v=a<tt;de.push({date:l,isPrev:v,isCurrent:a===tt,isNow:a===Le&&u===Ue,isNext:!v&&a>tt,quarter:u})}}return de}),Re=ve(()=>{const b=fe.value;return n.chunk(b,2)}),te=ve(()=>{const{selectMonth:b,currentDate:K}=i,de=[];if(b&&K){const Le=K.getFullYear(),Ue=K.getMonth(),je=n.getWhatYear(b,0,"first").getFullYear();for(let tt=-4;tt<Fc-4;tt++){const o=n.getWhatYear(b,0,tt),l=o.getFullYear(),a=o.getMonth(),u=l<je;de.push({date:o,isPrev:u,isCurrent:l===je,isNow:l===Le&&a===Ue,isNext:!u&&l>je,month:a})}}return de}),ee=ve(()=>{const b=te.value;return n.chunk(b,4)}),le=ve(()=>{const{selectMonth:b,currentDate:K}=i,de=[];if(b&&K){const Le=pe.value,Ue=ae.value,je=K.getFullYear(),tt=K.getMonth(),o=K.getDate(),l=b.getFullYear(),a=b.getMonth(),u=b.getDay(),v=-Ue.indexOf(u),w=new Date(n.getWhatDay(b,v).getTime()+Le);for(let O=0;O<42;O++){const z=n.getWhatDay(w,O),B=z.getFullYear(),Z=z.getMonth(),U=z.getDate(),xe=z<b;de.push({date:z,isPrev:xe,isCurrent:B===l&&Z===a,isNow:B===je&&Z===tt&&U===o,isNext:!xe&&a!==Z,label:U})}}return de}),me=ve(()=>{const b=le.value;return n.chunk(b,7)}),be=ve(()=>{const b=me.value,K=$e.value;return b.map(de=>{const Le=de[0];return[{date:Le.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:n.getYearWeek(Le.date,K)}].concat(de)})}),he=ve(()=>{const b=[];if(C.value)for(let de=0;de<24;de++)b.push({value:de,label:(""+de).padStart(2,"0")});return b}),Ve=ve(()=>{const b=[];if(C.value)for(let de=0;de<60;de++)b.push({value:de,label:(""+de).padStart(2,"0")});return b}),Ge=ve(()=>Ve.value),Ye=ve(()=>{const{type:b,readonly:K,editable:de,multiple:Le}=e;return K||Le||!de||b==="week"||b==="quarter"}),_e=ve(()=>{const{type:b}=e,{showPwd:K}=i,de=S.value,Le=L.value,Ue=j.value;return Le||de||Ue&&K||b==="number"?"text":b}),Fe=ve(()=>{const{placeholder:b}=e;return b?jt(b):""}),ke=ve(()=>{const{maxlength:b}=e;return S.value&&!n.toNumber(b)?16:b}),X=ve(()=>{const{type:b,immediate:K}=e;return K||!(b==="text"||b==="number"||b==="integer"||b==="float")}),ce=ve(()=>{const{type:b}=e,{inputValue:K}=i;return S.value?b==="integer"?n.toInteger(Jn(K)):n.toNumber(Jn(K)):0}),Oe=ve(()=>{const{min:b}=e,{inputValue:K}=i,de=S.value,Le=ce.value;return(K||K===0)&&de&&b!==null?Le<=n.toNumber(b):!1}),Se=ve(()=>{const{max:b}=e,{inputValue:K}=i,de=S.value,Le=ce.value;return(K||K===0)&&de&&b!==null?Le>=n.toNumber(b):!1}),A=b=>{const{type:K,exponential:de}=e,Le=ke.value,Ue=D.value,je=K==="float"?Mr(b,Ue):n.toValueString(b);return de&&(b===je||n.toValueString(b).toLowerCase()===n.toNumber(je).toExponential())?b:je.slice(0,Le)},G=b=>{const{inputValue:K}=i;T.dispatchEvent(b.type,{value:K},b)},ge=(b,K)=>{i.inputValue=b,c("update:modelValue",b),T.dispatchEvent("input",{value:b},K),n.toValueString(e.modelValue)!==b&&(T.dispatchEvent("change",{value:b},K),h&&g&&h.triggerItemEvent(K,g.itemConfig.field,b))},Be=(b,K)=>{const de=L.value,Le=X.value;i.inputValue=b,de||(Le?ge(b,K):T.dispatchEvent("input",{value:b},K))},He=b=>{const de=b.target.value;Be(de,b)},qe=b=>{X.value||G(b)},Qe=b=>{i.isActivated=!0,L.value&&Rn(b),G(b)},Ze=b=>{const{disabled:K}=e;if(!K){const{inputValue:de}=i;T.dispatchEvent("prefix-click",{value:de},b)}};let et;const Ke=()=>new Promise(b=>{i.visiblePanel=!1,et=window.setTimeout(()=>{i.animatVisible=!1,b()},350)}),lt=(b,K)=>{const{type:de}=e,Le=S.value;L.value&&Ke(),(Le||["text","search","password"].indexOf(de)>-1)&&focus(),T.dispatchEvent("clear",{value:K},b)},yt=b=>{const{disabled:K}=e;if(!K)if(fn(b.currentTarget,"is--clear"))ge("",b),lt(b,"");else{const{inputValue:de}=i;T.dispatchEvent("suffix-click",{value:de},b)}},M=b=>{const{type:K}=e,{valueFormat:de}=e,Le=De.value,Ue=$e.value;let je=null,tt="";if(b&&(je=_(b,de)),n.isValidDate(je)){if(tt=n.toDateString(je,Le,{firstDay:Ue}),Le&&K==="week"&&n.getWhatWeek(je,0,Ue,Ue).getFullYear()<je.getFullYear()){const l=Le.indexOf("yyyy");if(l>-1){const a=Number(tt.substring(l,l+4));a&&!isNaN(a)&&(tt=tt.replace(`${a}`,`${a-1}`))}}}else je=null;i.datePanelValue=je,i.datePanelLabel=tt},wt=()=>{const b=L.value,{inputValue:K}=i;b&&(M(K),i.inputValue=e.multiple?J.value:i.datePanelLabel)},bt=()=>{const{type:b}=e,{inputValue:K}=i,de=L.value,Le=D.value;if(de)wt();else if(b==="float"&&K){const Ue=Mr(K,Le);K!==Ue&&ge(Ue,{type:"init"})}},ft=b=>e.max===null||n.toNumber(b)<=n.toNumber(e.max),st=b=>e.min===null||n.toNumber(b)>=n.toNumber(e.min),Tt=()=>{i.inputValue=e.multiple?J.value:i.datePanelLabel},vt=b=>{const K=n.getWhatMonth(b,0,"first");n.isEqual(K,i.selectMonth)||(i.selectMonth=K)},Dt=b=>{const{modelValue:K,multiple:de}=e,{datetimePanelValue:Le}=i,Ue=C.value,je=N.value,tt=$e.value;if(e.type==="week"){const l=n.toNumber(e.selectDay);b=n.getWhatWeek(b,0,l,tt)}else Ue&&(b.setHours(Le.getHours()),b.setMinutes(Le.getMinutes()),b.setSeconds(Le.getSeconds()));const o=n.toDateString(b,je,{firstDay:tt});if(vt(b),de){const l=se.value;if(Ue){const a=[...re.value],u=[],v=n.findIndexOf(a,w=>n.isDateSame(b,w,"yyyyMMdd"));v===-1?a.push(b):a.splice(v,1),a.forEach(w=>{w&&(w.setHours(Le.getHours()),w.setMinutes(Le.getMinutes()),w.setSeconds(Le.getSeconds()),u.push(w))}),ge(u.map(w=>n.toDateString(w,je)).join(","),{type:"update"})}else l.some(a=>n.isEqual(a,o))?ge(l.filter(a=>!n.isEqual(a,o)).join(","),{type:"update"}):ge(l.concat([o]).join(","),{type:"update"})}else n.isEqual(K,o)||ge(o,{type:"update"})},Ct=()=>{const{type:b,min:K,max:de,exponential:Le}=e,{inputValue:Ue,datetimePanelValue:je}=i,tt=S.value,o=L.value,l=De.value;if(!Ye.value){if(tt){if(Ue){let u=b==="integer"?n.toInteger(Jn(Ue)):n.toNumber(Jn(Ue));if(st(u)?ft(u)||(u=de):u=K,Le){const v=n.toValueString(Ue).toLowerCase();v===n.toNumber(u).toExponential()&&(u=v)}ge(A(u),{type:"check"})}}else if(o)if(Ue){let u=_(Ue,l);if(n.isValidDate(u))if(b==="time")u=n.toDateString(u,l),Ue!==u&&ge(u,{type:"check"}),i.inputValue=u;else{let v=!1;const w=$e.value;if(b==="datetime"){const O=I.value;(Ue!==n.toDateString(O,l)||Ue!==n.toDateString(u,l))&&(v=!0,je.setHours(u.getHours()),je.setMinutes(u.getMinutes()),je.setSeconds(u.getSeconds()))}else v=!0;i.inputValue=n.toDateString(u,l,{firstDay:w}),v&&Dt(u)}else Tt()}else ge("",{type:"check"})}},Mt=b=>{const{inputValue:K}=i;X.value||ge(K,b),Ct(),i.visiblePanel||(i.isActivated=!1),T.dispatchEvent("blur",{value:K},b)},Lt=b=>{const{readonly:K,disabled:de}=e,{showPwd:Le}=i;!de&&!K&&(i.showPwd=!Le),T.dispatchEvent("toggle-visible",{visible:i.showPwd},b)},Bt=b=>{T.dispatchEvent("search-click",{},b)},Kt=(b,K)=>{const{min:de,max:Le,type:Ue}=e,{inputValue:je}=i,tt=H.value,o=Ue==="integer"?n.toInteger(Jn(je)):n.toNumber(Jn(je)),l=b?n.add(o,tt):n.subtract(o,tt);let a;st(l)?ft(l)?a=l:a=Le:a=de,Be(A(a),K)};let qt;const Gt=b=>{const{readonly:K,disabled:de}=e,Le=Oe.value;clearTimeout(qt),!de&&!K&&!Le&&Kt(!1,b),T.dispatchEvent("next-number",{},b)},eo=b=>{qt=window.setTimeout(()=>{Gt(b),eo(b)},60)},Nt=b=>{const{readonly:K,disabled:de}=e,Le=Se.value;clearTimeout(qt),!de&&!K&&!Le&&Kt(!0,b),T.dispatchEvent("prev-number",{},b)},Vt=b=>{const K=ht(b,ut.ARROW_UP),de=ht(b,ut.ARROW_DOWN);(K||de)&&(b.preventDefault(),K?Nt(b):Gt(b))},At=b=>{const{exponential:K,controls:de}=e;if(S.value){const Ue=b.ctrlKey,je=b.shiftKey,tt=b.altKey,o=b.keyCode;!Ue&&!je&&!tt&&(ht(b,ut.SPACEBAR)||(!K||o!==69)&&o>=65&&o<=90||o>=186&&o<=188||o>=191)&&b.preventDefault(),de&&Vt(b)}G(b)},Xt=b=>{G(b)},lo=()=>{clearTimeout(qt)},Ut=b=>{qt=window.setTimeout(()=>{Nt(b),Ut(b)},60)},Co=b=>{if(lo(),b.button===0){const K=fn(b.currentTarget,"is--prev");K?Nt(b):Gt(b),qt=window.setTimeout(()=>{K?Ut(b):eo(b)},500)}},Fo=b=>{if(S.value&&e.controls&&i.isActivated){const de=b.deltaY;de>0?Gt(b):de<0&&Nt(b),b.preventDefault()}G(b)},jo=(b,K)=>{i.selectMonth=n.getWhatMonth(b,K,"first")},On=()=>{const b=n.getWhatDay(Date.now(),0,"first");i.currentDate=b,jo(b,0)},mn=()=>{let{datePanelType:b}=i;b==="month"||b==="quarter"?b="year":b="month",i.datePanelType=b},qn=b=>{const{type:K}=e,{datePanelType:de,selectMonth:Le}=i;P.value||(K==="year"?i.selectMonth=n.getWhatYear(Le,-sn,"first"):K==="month"||K==="quarter"?de==="year"?i.selectMonth=n.getWhatYear(Le,-sn,"first"):i.selectMonth=n.getWhatYear(Le,-1,"first"):de==="year"?i.selectMonth=n.getWhatYear(Le,-sn,"first"):de==="month"?i.selectMonth=n.getWhatYear(Le,-1,"first"):i.selectMonth=n.getWhatMonth(Le,-1,"first"),T.dispatchEvent("date-prev",{type:K},b))},Tn=b=>{On(),e.multiple||(Dt(i.currentDate),Ke()),T.dispatchEvent("date-today",{type:e.type},b)},yo=b=>{const{type:K}=e,{datePanelType:de,selectMonth:Le}=i;q.value||(K==="year"?i.selectMonth=n.getWhatYear(Le,sn,"first"):K==="month"||K==="quarter"?de==="year"?i.selectMonth=n.getWhatYear(Le,sn,"first"):i.selectMonth=n.getWhatYear(Le,1,"first"):de==="year"?i.selectMonth=n.getWhatYear(Le,sn,"first"):de==="month"?i.selectMonth=n.getWhatYear(Le,1,"first"):i.selectMonth=n.getWhatMonth(Le,1,"first"),T.dispatchEvent("date-next",{type:K},b))},to=b=>{const{disabledMethod:K}=e,{datePanelType:de}=i;return K&&K({type:de,viewType:de,date:b.date,$input:V})},Lo=b=>{const{type:K,multiple:de}=e,{datePanelType:Le}=i;K==="month"?Le==="year"?(i.datePanelType="month",vt(b)):(Dt(b),de||Ke()):K==="year"?(Dt(b),de||Ke()):K==="quarter"?Le==="year"?(i.datePanelType="quarter",vt(b)):(Dt(b),de||Ke()):Le==="month"?(i.datePanelType=K==="week"?K:"day",vt(b)):Le==="year"?(i.datePanelType="month",vt(b)):(Dt(b),K==="datetime"||de||Ke())},No=b=>{to(b)||Lo(b.date)},zo=b=>{to({date:b})||(le.value.some(de=>n.isDateSame(de.date,b,"yyyyMMdd"))||vt(b),M(b))},tn=b=>{to({date:b})||(we.value.some(de=>n.isDateSame(de.date,b,"yyyy"))||vt(b),M(b))},Go=b=>{to({date:b})||(fe.value.some(de=>n.isDateSame(de.date,b,"yyyyq"))||vt(b),M(b))},Po=b=>{to({date:b})||(te.value.some(de=>n.isDateSame(de.date,b,"yyyyMM"))||vt(b),M(b))},co=b=>{if(!to(b)){const{datePanelType:K}=i;K==="month"?Po(b.date):K==="quarter"?Go(b.date):K==="year"?tn(b.date):zo(b.date)}},Vo=b=>{if(b){const K=b.offsetHeight,de=b.parentNode;de.scrollTop=b.offsetTop-K*4}},hn=b=>{i.datetimePanelValue=new Date(i.datetimePanelValue.getTime()),Vo(b.currentTarget)},Yo=(b,K)=>{i.datetimePanelValue.setHours(K.value),hn(b)},Xo=()=>{const{multiple:b}=e,{datetimePanelValue:K}=i,de=I.value,Le=C.value;if(Le){const Ue=N.value;if(b){const je=se.value;if(Le){const tt=[...re.value],o=[];tt.forEach(l=>{l&&(l.setHours(K.getHours()),l.setMinutes(K.getMinutes()),l.setSeconds(K.getSeconds()),o.push(l))}),ge(o.map(l=>n.toDateString(l,Ue)).join(","),{type:"update"})}else ge(je.join(","),{type:"update"})}else Dt(de||i.currentDate)}Ke()},Ao=(b,K)=>{i.datetimePanelValue.setMinutes(K.value),hn(b)},gn=(b,K)=>{i.datetimePanelValue.setSeconds(K.value),hn(b)},Eo=b=>{const{isActivated:K,datePanelValue:de,datePanelType:Le}=i;if(K){b.preventDefault();const Ue=ht(b,ut.ARROW_LEFT),je=ht(b,ut.ARROW_UP),tt=ht(b,ut.ARROW_RIGHT),o=ht(b,ut.ARROW_DOWN);if(Le==="year"){let l=n.getWhatYear(de||Date.now(),0,"first");Ue?l=n.getWhatYear(l,-1):je?l=n.getWhatYear(l,-4):tt?l=n.getWhatYear(l,1):o&&(l=n.getWhatYear(l,4)),tn(l)}else if(Le==="quarter"){let l=n.getWhatQuarter(de||Date.now(),0,"first");Ue?l=n.getWhatQuarter(l,-1):je?l=n.getWhatQuarter(l,-2):tt?l=n.getWhatQuarter(l,1):o&&(l=n.getWhatQuarter(l,2)),Go(l)}else if(Le==="month"){let l=n.getWhatMonth(de||Date.now(),0,"first");Ue?l=n.getWhatMonth(l,-1):je?l=n.getWhatMonth(l,-4):tt?l=n.getWhatMonth(l,1):o&&(l=n.getWhatMonth(l,4)),Po(l)}else{let l=de||n.getWhatDay(Date.now(),0,"first");const a=$e.value;Ue?l=n.getWhatDay(l,-1):je?l=n.getWhatWeek(l,-1,a):tt?l=n.getWhatDay(l,1):o&&(l=n.getWhatWeek(l,1,a)),zo(l)}}},Zt=b=>{const{isActivated:K}=i;if(K){const de=ht(b,ut.PAGE_UP);b.preventDefault(),de?qn(b):yo(b)}},on=()=>{const{type:b}=e,K=C.value,de=I.value;["year","quarter","month","week"].indexOf(b)>-1?i.datePanelType=b:i.datePanelType="day",i.currentDate=n.getWhatDay(Date.now(),0,"first"),de?(jo(de,0),M(de)):On(),K&&(i.datetimePanelValue=i.datePanelValue||n.getWhatDay(Date.now(),0,"first"),oe(()=>{const Le=$.value;n.arrayEach(Le.querySelectorAll("li.is--selected"),Vo)}))},It=()=>{i.panelIndex<pn()&&(i.panelIndex=en())},so=()=>oe().then(()=>{const{transfer:b,placement:K}=e,{panelIndex:de}=i,Le=d.value,Ue=y.value;if(Le&&Ue){const je=Le.offsetHeight,tt=Le.offsetWidth,o=Ue.offsetHeight,l=Ue.offsetWidth,a=5,u={zIndex:de},{boundingTop:v,boundingLeft:w,visibleHeight:O,visibleWidth:z}=Zo(Le);let B="bottom";if(console.log(Zo(Le)),b){let Z=w,U=v+je;K==="top"?(B="top",U=v-o):K||(U+o+a>O&&(B="top",U=v-o),U<a&&(B="bottom",U=v+je)),Z+l+a>z&&(Z-=Z+l+a-z),Z<a&&(Z=a),Object.assign(u,{left:`${Z}px`,top:`${U}px`,minWidth:`${tt}px`})}else K==="top"?(B="top",u.bottom=`${je}px`):K||v+je+o>O&&v-je-o>a&&(B="top",u.bottom=`${je}px`);return i.panelStyle=u,i.panelPlacement=B,oe()}}),Wo=()=>{const{disabled:b}=e,{visiblePanel:K}=i,de=L.value;return!b&&!K?(i.inited||(i.inited=!0),clearTimeout(et),i.isActivated=!0,i.animatVisible=!0,de&&on(),setTimeout(()=>{i.visiblePanel=!0},10),It(),so()):oe()},Rn=b=>{const{readonly:K}=e;K||(b.preventDefault(),Wo())},ml=b=>{G(b)},Ql=b=>{const{disabled:K}=e,{visiblePanel:de,isActivated:Le}=i,Ue=L.value,je=f.value,tt=y.value;!K&&Le&&(i.isActivated=xt(b,je).flag||xt(b,tt).flag,i.isActivated||(Ue?de&&(Ke(),Ct()):Ct()))},ks=b=>{const{clearable:K,disabled:de}=e,{visiblePanel:Le}=i,Ue=L.value;if(!de){const je=ht(b,ut.TAB),tt=ht(b,ut.DELETE),o=ht(b,ut.ESCAPE),l=ht(b,ut.ENTER),a=ht(b,ut.ARROW_LEFT),u=ht(b,ut.ARROW_UP),v=ht(b,ut.ARROW_RIGHT),w=ht(b,ut.ARROW_DOWN),O=ht(b,ut.PAGE_UP),z=ht(b,ut.PAGE_DOWN),B=a||u||v||w;let Z=i.isActivated;je?(Z&&Ct(),Z=!1,i.isActivated=Z):B?Ue&&Z&&(Le?Eo(b):(u||w)&&Rn(b)):l?Ue&&(Le?i.datePanelValue?Lo(i.datePanelValue):Ke():Z&&Rn(b)):(O||z)&&Ue&&Z&&Zt(b),je||o?Le&&Ke():tt&&K&&Z&&lt(b,null)}},es=b=>{const{disabled:K}=e,{visiblePanel:de}=i;if(!K&&de){const Le=y.value;xt(b,Le).flag?so():(Ke(),Ct())}},Gn=()=>{const{isActivated:b,visiblePanel:K}=i;K?(Ke(),Ct()):b&&Ct()},nn=(b,K)=>{const{festivalMethod:de}=e;if(de){const{datePanelType:Le}=i,Ue=de({type:Le,viewType:Le,date:b.date,$input:V}),je=Ue?n.isString(Ue)?{label:Ue}:Ue:{},tt=je.extra?n.isString(je.extra)?{label:je.extra}:je.extra:null,o=[r("span",{class:["vxe-input--date-label",{"is-notice":je.notice}]},tt&&tt.label?[r("span",K),r("span",{class:["vxe-input--date-label--extra",tt.important?"is-important":"",tt.className],style:tt.style},n.toValueString(tt.label))]:K)],l=je.label;if(l){const a=n.toValueString(l).split(",");o.push(r("span",{class:["vxe-input--date-festival",je.important?"is-important":"",je.className],style:je.style},[a.length>1?r("span",{class:["vxe-input--date-festival--overlap",`overlap--${a.length}`]},a.map(u=>r("span",u.substring(0,3)))):r("span",{class:"vxe-input--date-festival--label"},a[0].substring(0,3))]))}return o}return K},Ds=()=>{const{multiple:b}=e,{datePanelType:K,datePanelValue:de}=i,Le=I.value,Ue=k.value,je=me.value,tt=re.value,o="yyyyMMdd";return[r("table",{class:`vxe-input--date-${K}-view`,cellspacing:0,cellpadding:0,border:0},[r("thead",[r("tr",Ue.map(l=>r("th",l.label)))]),r("tbody",je.map(l=>r("tr",l.map(a=>r("td",{class:{"is--prev":a.isPrev,"is--current":a.isCurrent,"is--now":a.isNow,"is--next":a.isNext,"is--disabled":to(a),"is--selected":b?tt.some(u=>n.isDateSame(u,a.date,o)):n.isDateSame(Le,a.date,o),"is--hover":n.isDateSame(de,a.date,o)},onClick:()=>No(a),onMouseenter:()=>co(a)},nn(a,a.label))))))])]},ts=()=>{const{multiple:b}=e,{datePanelType:K,datePanelValue:de}=i,Le=I.value,Ue=Q.value,je=be.value,tt=re.value,o="yyyyMMdd";return[r("table",{class:`vxe-input--date-${K}-view`,cellspacing:0,cellpadding:0,border:0},[r("thead",[r("tr",Ue.map(l=>r("th",l.label)))]),r("tbody",je.map(l=>{const a=b?l.some(v=>tt.some(w=>n.isDateSame(w,v.date,o))):l.some(v=>n.isDateSame(Le,v.date,o)),u=l.some(v=>n.isDateSame(de,v.date,o));return r("tr",l.map(v=>r("td",{class:{"is--prev":v.isPrev,"is--current":v.isCurrent,"is--now":v.isNow,"is--next":v.isNext,"is--disabled":to(v),"is--selected":a,"is--hover":u},onClick:()=>No(v),onMouseenter:()=>co(v)},nn(v,v.label))))}))])]},Is=()=>{const{multiple:b}=e,{datePanelType:K,datePanelValue:de}=i,Le=I.value,Ue=ee.value,je=re.value,tt="yyyyMM";return[r("table",{class:`vxe-input--date-${K}-view`,cellspacing:0,cellpadding:0,border:0},[r("tbody",Ue.map(o=>r("tr",o.map(l=>r("td",{class:{"is--prev":l.isPrev,"is--current":l.isCurrent,"is--now":l.isNow,"is--next":l.isNext,"is--disabled":to(l),"is--selected":b?je.some(a=>n.isDateSame(a,l.date,tt)):n.isDateSame(Le,l.date,tt),"is--hover":n.isDateSame(de,l.date,tt)},onClick:()=>No(l),onMouseenter:()=>co(l)},nn(l,m.i18n(`vxe.input.date.months.m${l.month}`)))))))])]},Fs=()=>{const{multiple:b}=e,{datePanelType:K,datePanelValue:de}=i,Le=I.value,Ue=Re.value,je=re.value,tt="yyyyq";return[r("table",{class:`vxe-input--date-${K}-view`,cellspacing:0,cellpadding:0,border:0},[r("tbody",Ue.map(o=>r("tr",o.map(l=>r("td",{class:{"is--prev":l.isPrev,"is--current":l.isCurrent,"is--now":l.isNow,"is--next":l.isNext,"is--disabled":to(l),"is--selected":b?je.some(a=>n.isDateSame(a,l.date,tt)):n.isDateSame(Le,l.date,tt),"is--hover":n.isDateSame(de,l.date,tt)},onClick:()=>No(l),onMouseenter:()=>co(l)},nn(l,m.i18n(`vxe.input.date.quarters.q${l.quarter}`)))))))])]},Ls=()=>{const{multiple:b}=e,{datePanelType:K,datePanelValue:de}=i,Le=I.value,Ue=ie.value,je=re.value,tt="yyyy";return[r("table",{class:`vxe-input--date-${K}-view`,cellspacing:0,cellpadding:0,border:0},[r("tbody",Ue.map(o=>r("tr",o.map(l=>r("td",{class:{"is--prev":l.isPrev,"is--current":l.isCurrent,"is--now":l.isNow,"is--next":l.isNext,"is--disabled":to(l),"is--selected":b?je.some(a=>n.isDateSame(a,l.date,tt)):n.isDateSame(Le,l.date,tt),"is--hover":n.isDateSame(de,l.date,tt)},onClick:()=>No(l),onMouseenter:()=>co(l)},nn(l,l.year))))))])]},Ns=()=>{const{datePanelType:b}=i;switch(b){case"week":return ts();case"month":return Is();case"quarter":return Fs();case"year":return Ls()}return Ds()},os=()=>{const{multiple:b}=e,{datePanelType:K}=i,de=P.value,Le=q.value,Ue=Pe.value;return[r("div",{class:"vxe-input--date-picker-header"},[r("div",{class:"vxe-input--date-picker-type-wrapper"},[K==="year"?r("span",{class:"vxe-input--date-picker-label"},Ue):r("span",{class:"vxe-input--date-picker-btn",onClick:mn},Ue)]),r("div",{class:"vxe-input--date-picker-btn-wrapper"},[r("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":de}],onClick:qn},[r("i",{class:"vxe-icon-caret-left"})]),r("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:Tn},[r("i",{class:"vxe-icon-dot"})]),r("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":Le}],onClick:yo},[r("i",{class:"vxe-icon-caret-right"})]),b&&ne.value?r("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-confirm-btn"},[r("button",{class:"vxe-input--date-picker-confirm",type:"button",onClick:Xo},m.i18n("vxe.button.confirm"))]):null])]),r("div",{class:"vxe-input--date-picker-body"},Ns())]},ns=()=>{const{datetimePanelValue:b}=i,K=Y.value,de=he.value,Le=Ve.value,Ue=Ge.value;return[r("div",{class:"vxe-input--time-picker-header"},[r("span",{class:"vxe-input--time-picker-title"},K),r("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:Xo},m.i18n("vxe.button.confirm"))]),r("div",{ref:$,class:"vxe-input--time-picker-body"},[r("ul",{class:"vxe-input--time-picker-hour-list"},de.map((je,tt)=>r("li",{key:tt,class:{"is--selected":b&&b.getHours()===je.value},onClick:o=>Yo(o,je)},je.label))),r("ul",{class:"vxe-input--time-picker-minute-list"},Le.map((je,tt)=>r("li",{key:tt,class:{"is--selected":b&&b.getMinutes()===je.value},onClick:o=>Ao(o,je)},je.label))),r("ul",{class:"vxe-input--time-picker-second-list"},Ue.map((je,tt)=>r("li",{key:tt,class:{"is--selected":b&&b.getSeconds()===je.value},onClick:o=>gn(o,je)},je.label)))])]},Ps=()=>{const{type:b,transfer:K}=e,{inited:de,animatVisible:Le,visiblePanel:Ue,panelPlacement:je,panelStyle:tt}=i,o=x.value,l=L.value,a=[];return l?(b==="datetime"?a.push(r("div",{class:"vxe-input--panel-layout-wrapper"},[r("div",{class:"vxe-input--panel-left-wrapper"},os()),r("div",{class:"vxe-input--panel-right-wrapper"},ns())])):b==="time"?a.push(r("div",{class:"vxe-input--panel-wrapper"},ns())):a.push(r("div",{class:"vxe-input--panel-wrapper"},os())),r(ul,{to:"body",disabled:K?!de:!0},[r("div",{ref:y,class:["vxe-table--ignore-clear vxe-input--panel",`type--${b}`,{[`size--${o}`]:o,"is--transfer":K,"animat--leave":Le,"animat--enter":Ue}],placement:je,style:tt},a)])):null},Vs=()=>{const b=Se.value,K=Oe.value;return r("span",{class:"vxe-input--number-suffix"},[r("span",{class:["vxe-input--number-prev is--prev",{"is--disabled":b}],onMousedown:Co,onMouseup:lo,onMouseleave:lo},[r("i",{class:["vxe-input--number-prev-icon",m.icon.INPUT_PREV_NUM]})]),r("span",{class:["vxe-input--number-next is--next",{"is--disabled":K}],onMousedown:Co,onMouseup:lo,onMouseleave:lo},[r("i",{class:["vxe-input--number-next-icon",m.icon.INPUT_NEXT_NUM]})])])},As=()=>r("span",{class:"vxe-input--date-picker-suffix",onClick:Rn},[r("i",{class:["vxe-input--date-picker-icon",m.icon.INPUT_DATE]})]),Yn=()=>r("span",{class:"vxe-input--search-suffix",onClick:Bt},[r("i",{class:["vxe-input--search-icon",m.icon.INPUT_SEARCH]})]),hl=()=>{const{showPwd:b}=i;return r("span",{class:"vxe-input--password-suffix",onClick:Lt},[r("i",{class:["vxe-input--password-icon",b?m.icon.INPUT_SHOW_PWD:m.icon.INPUT_PWD]})])},ls=()=>{const{prefixIcon:b}=e,K=s.prefix,de=[];return K?de.push(r("span",{class:"vxe-input--prefix-icon"},K({}))):b&&de.push(r("i",{class:["vxe-input--prefix-icon",b]})),de.length?r("span",{class:"vxe-input--prefix",onClick:Ze},de):null},$s=()=>{const{disabled:b,suffixIcon:K}=e,{inputValue:de}=i,Le=s.suffix,Ue=ue.value,je=[];return Le?je.push(r("span",{class:"vxe-input--suffix-icon"},Le({}))):K&&je.push(r("i",{class:["vxe-input--suffix-icon",K]})),Ue&&je.push(r("i",{class:["vxe-input--clear-icon",m.icon.INPUT_CLEAR]})),je.length?r("span",{class:["vxe-input--suffix",{"is--clear":Ue&&!b&&!(de===""||n.eqNull(de))}],onClick:yt},je):null},gl=()=>{const{controls:b}=e,K=S.value,de=L.value,Le=j.value,Ue=F.value;let je;return Le?je=hl():K?b&&(je=Vs()):de?je=As():Ue&&(je=Yn()),je?r("span",{class:"vxe-input--extra-suffix"},[je]):null};T={dispatchEvent(b,K,de){c(b,Object.assign({$input:V,$event:de},K))},focus(){const b=d.value;return i.isActivated=!0,b.focus(),oe()},blur(){return d.value.blur(),i.isActivated=!1,oe()},select(){return d.value.select(),i.isActivated=!1,oe()},showPanel:Wo,hidePanel:Ke,updatePlacement:so},Object.assign(V,T),at(()=>e.modelValue,b=>{i.inputValue=b,wt()}),at(()=>e.type,()=>{Object.assign(i,{inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),bt()}),at(De,()=>{L.value&&(M(i.datePanelValue),i.inputValue=e.multiple?J.value:i.datePanelLabel)}),oe(()=>{gt.on(V,"mousewheel",es),gt.on(V,"mousedown",Ql),gt.on(V,"keydown",ks),gt.on(V,"blur",Gn)}),ao(()=>{lo(),gt.off(V,"mousewheel"),gt.off(V,"mousedown"),gt.off(V,"keydown"),gt.off(V,"blur")}),bt();const bl=()=>{const{className:b,controls:K,type:de,align:Le,showWordCount:Ue,countMethod:je,name:tt,disabled:o,readonly:l,autocomplete:a}=e,{inputValue:u,visiblePanel:v,isActivated:w}=i,O=x.value,z=R.value,B=E.value,Z=L.value,U=Ye.value,xe=ke.value,Ie=_e.value,Te=Fe.value,Ne=[],Me=ls(),Ae=$s();Me&&Ne.push(Me),Ne.push(r("input",{ref:d,class:"vxe-input--inner",value:u,name:tt,type:Ie,placeholder:Te,maxlength:xe,readonly:U,disabled:o,autocomplete:a,onKeydown:At,onKeyup:Xt,onWheel:Fo,onClick:ml,onInput:He,onChange:qe,onFocus:Qe,onBlur:Mt})),Ae&&Ne.push(Ae),Ne.push(gl()),Z&&Ne.push(Ps());let Ee=!1;return Ue&&["text","search"].includes(de)&&(Ee=!0,Ne.push(r("span",{class:["vxe-input--count",{"is--error":z}]},je?`${je({value:u})}`:`${B}${xe?`/${xe}`:""}`))),r("div",{ref:f,class:["vxe-input",`type--${de}`,b,{[`size--${O}`]:O,[`is--${Le}`]:Le,"is--controls":K,"is--prefix":!!Me,"is--suffix":!!Ae,"is--readonly":l,"is--visivle":v,"is--count":Ee,"is--disabled":o,"is--active":w}]},Ne)};return V.renderVN=bl,V},render(){return this.renderVN()}}),ko=Rt({name:"VxeCheckbox",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:Boolean,size:{type:String,default:()=>m.checkbox.size||m.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:s,emit:c}=t,h=mt("$xeform",null),g=mt("$xeformiteminfo",null),x={xID:n.uniqueId(),props:e,context:t};let i={};const f=Qt(e),d=mt("$xecheckboxgroup",null),y=ve(()=>d?n.includes(d.props.modelValue,e.label):e.modelValue===e.checkedValue),$=ve(()=>{if(e.disabled)return!0;if(d){const{props:T}=d,{computeIsMaximize:_}=d.getComputeMaps(),C=_.value,S=y.value;return T.disabled||C&&!S}return!1}),W=T=>{const{checkedValue:_,uncheckedValue:C}=e;if(!$.value){const E=T.target.checked,R=E?_:C,L={checked:E,value:R,label:e.label};d?d.handleChecked(L,T):(c("update:modelValue",R),i.dispatchEvent("change",L,T),h&&g&&h.triggerItemEvent(T,g.itemConfig.field,R))}};i={dispatchEvent(T,_,C){c(T,Object.assign({$checkbox:x,$event:C},_))}},Object.assign(x,i);const V=()=>{const T=f.value,_=$.value,C=y.value,S=e.indeterminate;return r("label",{class:["vxe-checkbox",{[`size--${T}`]:T,"is--indeterminate":S,"is--disabled":_,"is--checked":C}],title:e.title},[r("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:_,checked:C,onChange:W}),r("span",{class:["vxe-checkbox--icon",S?"vxe-icon-checkbox-indeterminate":C?"vxe-icon-checkbox-checked":"vxe-icon-checkbox-unchecked"]}),r("span",{class:"vxe-checkbox--label"},s.default?s.default({}):jt(e.content))])};return x.renderVN=V,x},render(){return this.renderVN()}});function xn(e){return e.visible!==!1}function Nc(){return n.uniqueId("opt_")}const zn=Rt({name:"VxeSelect",props:{modelValue:null,clearable:Boolean,placeholder:{type:String,default:()=>n.eqNull(m.select.placeholder)?m.i18n("vxe.base.pleaseSelect"):m.select.placeholder},loading:Boolean,disabled:Boolean,multiple:Boolean,multiCharOverflow:{type:[Number,String],default:()=>m.select.multiCharOverflow},prefixIcon:String,placement:String,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,optionConfig:Object,className:[String,Function],popupClassName:[String,Function],max:{type:[String,Number],default:null},size:{type:String,default:()=>m.select.size||m.size},filterable:Boolean,filterMethod:Function,remote:Boolean,remoteMethod:Function,emptyText:String,optionId:{type:String,default:()=>m.select.optionId},optionKey:Boolean,transfer:{type:Boolean,default:()=>m.select.transfer}},emits:["update:modelValue","change","clear","blur","focus"],setup(e,t){const{slots:s,emit:c}=t,h=mt("$xeform",null),g=mt("$xeformiteminfo",null),p=n.uniqueId(),x=Qt(e),i=zt({inited:!1,staticOptions:[],fullGroupList:[],fullOptionList:[],visibleGroupList:[],visibleOptionList:[],remoteValueList:[],panelIndex:0,panelStyle:{},panelPlacement:null,currentOption:null,currentValue:null,visiblePanel:!1,animatVisible:!1,isActivated:!1,searchValue:"",searchLoading:!1}),f=Xe(),d=Xe(),y=Xe(),$=Xe(),W=Xe(),V={refElem:f},T={xID:p,props:e,context:t,reactData:i,getRefMaps:()=>V};let _={};const C=ve(()=>e.optionProps||{}),S=ve(()=>e.optionGroupProps||{}),E=ve(()=>C.value.label||"label"),R=ve(()=>C.value.value||"value"),L=ve(()=>S.value.label||"label"),j=ve(()=>S.value.options||"options"),F=ve(()=>{const{modelValue:A,multiple:G,max:ge}=e;return G&&ge?(A?A.length:0)>=n.toNumber(ge):!1}),D=ve(()=>Object.assign({},m.select.optionConfig,e.optionConfig)),H=ve(()=>i.fullGroupList.some(A=>A.options&&A.options.length)),ue=ve(()=>n.toNumber(e.multiCharOverflow)),Ce=(A,G)=>A&&(n.isString(A)&&(A=s[A]||null),n.isFunction(A))?$t(A(G)):[],ye=A=>{const{fullOptionList:G,fullGroupList:ge}=i,Be=H.value,He=R.value;if(Be)for(let qe=0;qe<ge.length;qe++){const Qe=ge[qe];if(Qe.options)for(let Ze=0;Ze<Qe.options.length;Ze++){const et=Qe.options[Ze];if(A===et[He])return et}}return G.find(qe=>A===qe[He])},ne=A=>{const{remoteValueList:G}=i,ge=E.value,Be=G.find(qe=>A===qe.key),He=Be?Be.result:null;return n.toValueString(He?He[ge]:A)},re=A=>{const G=E.value,ge=ye(A);return n.toValueString(ge?ge[G]:A)},se=ve(()=>{const{modelValue:A,multiple:G,remote:ge}=e,Be=ue.value;if(A&&G){const He=n.isArray(A)?A:[A];return ge?He.map(qe=>ne(qe)).join(", "):He.map(qe=>{const Qe=re(qe);return Be>0&&Qe.length>Be?`${Qe.substring(0,Be)}...`:Qe}).join(", ")}return ge?ne(A):re(A)}),J=()=>D.value.keyField||e.optionId||"_X_OPTION_KEY",N=A=>{const G=A[J()];return G?encodeURIComponent(G):""},I=()=>{const{filterable:A,filterMethod:G}=e,{fullOptionList:ge,fullGroupList:Be,searchValue:He}=i,qe=H.value,Qe=L.value,Ze=E.value;return qe?A&&G?i.visibleGroupList=Be.filter(et=>xn(et)&&G({group:et,option:null,searchValue:He})):A?i.visibleGroupList=Be.filter(et=>xn(et)&&(!He||`${et[Qe]}`.indexOf(He)>-1)):i.visibleGroupList=Be.filter(xn):A&&G?i.visibleOptionList=ge.filter(et=>xn(et)&&G({group:null,option:et,searchValue:He})):A?i.visibleOptionList=ge.filter(et=>xn(et)&&(!He||`${et[Ze]}`.indexOf(He)>-1)):i.visibleOptionList=ge.filter(xn),oe()},P=()=>{const{fullOptionList:A,fullGroupList:G}=i,ge=j.value,Be=J(),He=qe=>{N(qe)||(qe[Be]=Nc())};G.length?G.forEach(qe=>{He(qe),qe[ge]&&qe[ge].forEach(He)}):A.length&&A.forEach(He),I()},q=A=>{const G=R.value;A&&(i.currentOption=A,i.currentValue=A[G])},Y=(A,G)=>oe().then(()=>{if(A){const ge=$.value,He=W.value.querySelector(`[optid='${N(A)}']`);if(ge&&He){const qe=ge.offsetHeight,Qe=5;G?He.offsetTop+He.offsetHeight-ge.scrollTop>qe&&(ge.scrollTop=He.offsetTop+He.offsetHeight-qe):(He.offsetTop+Qe<ge.scrollTop||He.offsetTop+Qe>ge.scrollTop+ge.clientHeight)&&(ge.scrollTop=He.offsetTop-Qe)}}}),pe=()=>{i.panelIndex<pn()&&(i.panelIndex=en())},De=()=>oe().then(()=>{const{transfer:A,placement:G}=e,{panelIndex:ge}=i,Be=f.value,He=W.value;if(He&&Be){const qe=Be.offsetHeight,Qe=Be.offsetWidth,Ze=He.offsetHeight,et=He.offsetWidth,Ke=5,lt={zIndex:ge},{boundingTop:yt,boundingLeft:M,visibleHeight:wt,visibleWidth:bt}=Zo(Be);let ft="bottom";if(A){let st=M,Tt=yt+qe;G==="top"?(ft="top",Tt=yt-Ze):G||(Tt+Ze+Ke>wt&&(ft="top",Tt=yt-Ze),Tt<Ke&&(ft="bottom",Tt=yt+qe)),st+et+Ke>bt&&(st-=st+et+Ke-bt),st<Ke&&(st=Ke),Object.assign(lt,{left:`${st}px`,top:`${Tt}px`,minWidth:`${Qe}px`})}else G==="top"?(ft="top",lt.bottom=`${qe}px`):G||yt+qe+Ze>wt&&yt-qe-Ze>Ke&&(ft="top",lt.bottom=`${qe}px`);return i.panelStyle=lt,i.panelPlacement=ft,oe()}});let we;const Pe=()=>{const{loading:A,disabled:G,filterable:ge}=e;!A&&!G&&(clearTimeout(we),i.inited||(i.inited=!0),i.isActivated=!0,i.animatVisible=!0,ge&&I(),setTimeout(()=>{const{modelValue:Be,multiple:He}=e,qe=ye(He&&Be?Be[0]:Be);i.visiblePanel=!0,qe&&(q(qe),Y(qe)),me()},10),pe(),De())},$e=()=>{i.searchValue="",i.searchLoading=!1,i.visiblePanel=!1,we=window.setTimeout(()=>{i.animatVisible=!1},350)},ae=(A,G)=>{G!==e.modelValue&&(c("update:modelValue",G),_.dispatchEvent("change",{value:G},A),h&&g&&h.triggerItemEvent(A,g.itemConfig.field,G))},k=(A,G)=>{i.remoteValueList=[],ae(A,G),_.dispatchEvent("clear",{value:G},A)},Q=(A,G)=>{k(G,null),$e()},ie=(A,G,ge)=>{const{modelValue:Be,multiple:He}=e,{remoteValueList:qe}=i;if(He){let Qe;Be?Be.indexOf(G)===-1?Qe=Be.concat([G]):Qe=Be.filter(et=>et!==G):Qe=[G];const Ze=qe.find(et=>et.key===G);Ze?Ze.result=ge:qe.push({key:G,result:ge}),ae(A,Qe)}else i.remoteValueList=[{key:G,result:ge}],ae(A,G),$e()},fe=A=>{const{disabled:G}=e,{visiblePanel:ge}=i;if(!G&&ge){const Be=W.value;xt(A,Be).flag?De():$e()}},Re=A=>{const{disabled:G}=e,{visiblePanel:ge}=i;if(!G){const Be=f.value,He=W.value;i.isActivated=xt(A,Be).flag||xt(A,He).flag,ge&&!i.isActivated&&$e()}},te=(A,G)=>{const{visibleOptionList:ge,visibleGroupList:Be}=i,He=H.value,qe=R.value,Qe=j.value;let Ze,et,Ke,lt;if(He)for(let yt=0;yt<Be.length;yt++){const M=Be[yt],wt=M[Qe],bt=M.disabled;if(wt)for(let ft=0;ft<wt.length;ft++){const st=wt[ft],Tt=xn(st),vt=bt||st.disabled;if(!Ze&&!vt&&(Ze=st),lt&&Tt&&!vt&&(Ke=st,!G))return{offsetOption:Ke};if(A===st[qe]){if(lt=st,G)return{offsetOption:et}}else Tt&&!vt&&(et=st)}}else for(let yt=0;yt<ge.length;yt++){const M=ge[yt],wt=M.disabled;if(!Ze&&!wt&&(Ze=M),lt&&!wt&&(Ke=M,!G))return{offsetOption:Ke};if(A===M[qe]){if(lt=M,G)return{offsetOption:et}}else wt||(et=M)}return{firstOption:Ze}},ee=A=>{const{clearable:G,disabled:ge}=e,{visiblePanel:Be,currentValue:He,currentOption:qe}=i;if(!ge){const Qe=ht(A,ut.TAB),Ze=ht(A,ut.ENTER),et=ht(A,ut.ESCAPE),Ke=ht(A,ut.ARROW_UP),lt=ht(A,ut.ARROW_DOWN),yt=ht(A,ut.DELETE),M=ht(A,ut.SPACEBAR);if(Qe&&(i.isActivated=!1),Be)if(et||Qe)$e();else if(Ze)A.preventDefault(),A.stopPropagation(),ie(A,He,qe);else if(Ke||lt){A.preventDefault();let{firstOption:wt,offsetOption:bt}=te(He,Ke);!bt&&!ye(He)&&(bt=wt),q(bt),Y(bt,lt)}else M&&A.preventDefault();else(Ke||lt||Ze||M)&&i.isActivated&&(A.preventDefault(),Pe());i.isActivated&&yt&&G&&k(A,null)}},le=()=>{$e()},me=()=>{e.filterable&&oe(()=>{const A=y.value;A&&A.focus()})},be=A=>{e.disabled||(i.isActivated=!0),_.dispatchEvent("focus",{},A)},he=A=>{i.isActivated=!1,_.dispatchEvent("blur",{},A)},Ve=A=>{i.searchValue=A},Ge=()=>{i.isActivated=!0},Ye=A=>{const{$event:G}=A;ht(G,ut.ENTER)&&(G.preventDefault(),G.stopPropagation())},_e=n.debounce(function(){const{remote:A,remoteMethod:G}=e,{searchValue:ge}=i;A&&G?(i.searchLoading=!0,Promise.resolve(G({searchValue:ge})).then(()=>oe()).catch(()=>oe()).finally(()=>{i.searchLoading=!1,I()})):I()},350,{trailing:!0}),Fe=A=>{const{$event:G}=A;G.preventDefault(),i.visiblePanel?$e():Pe()},ke=(A,G,ge)=>!!(G.disabled||ge&&ge.disabled||F.value&&!A),X=(A,G)=>{const{optionKey:ge,modelValue:Be,multiple:He}=e,{currentValue:qe}=i,Qe=D.value,Ze=E.value,et=R.value,Ke=H.value,{useKey:lt}=Qe,yt=s.option;return A.map((M,wt)=>{const{slots:bt,className:ft}=M,st=M[et],Tt=He?Be&&Be.indexOf(st)>-1:Be===st,vt=!Ke||xn(M),Dt=ke(Tt,M,G),Ct=N(M),Mt=bt?bt.default:null,Lt={option:M,group:null,$select:T};return vt?r("div",{key:lt||ge?Ct:wt,class:["vxe-select-option",ft?n.isFunction(ft)?ft(Lt):ft:"",{"is--disabled":Dt,"is--selected":Tt,"is--hover":qe===st}],optid:Ct,onMousedown:Bt=>{Bt.button===0&&Bt.stopPropagation()},onClick:Bt=>{Dt||ie(Bt,st,M)},onMouseenter:()=>{Dt||q(M)}},yt?Ce(yt,Lt):Mt?Ce(Mt,Lt):Yt(jt(M[Ze]))):null})},ce=()=>{const{optionKey:A}=e,{visibleGroupList:G}=i,ge=D.value,Be=L.value,He=j.value,{useKey:qe}=ge,Qe=s.option;return G.map((Ze,et)=>{const{slots:Ke,className:lt}=Ze,yt=N(Ze),M=Ze.disabled,wt=Ke?Ke.default:null,bt={option:Ze,group:Ze,$select:T};return r("div",{key:qe||A?yt:et,class:["vxe-optgroup",lt?n.isFunction(lt)?lt(bt):lt:"",{"is--disabled":M}],optid:yt},[r("div",{class:"vxe-optgroup--title"},Qe?Ce(Qe,bt):wt?Ce(wt,bt):jt(Ze[Be])),r("div",{class:"vxe-optgroup--wrapper"},X(Ze[He]||[],Ze))])})},Oe=()=>{const{visibleGroupList:A,visibleOptionList:G,searchLoading:ge}=i,Be=H.value;if(ge)return[r("div",{class:"vxe-select--search-loading"},[r("i",{class:["vxe-select--search-icon",m.icon.SELECT_LOADED]}),r("span",{class:"vxe-select--search-text"},m.i18n("vxe.select.loadingText"))])];if(Be){if(A.length)return ce()}else if(G.length)return X(G);return[r("div",{class:"vxe-select--empty-placeholder"},e.emptyText||m.i18n("vxe.select.emptyText"))]};_={dispatchEvent(A,G,ge){c(A,Object.assign({$select:T,$event:ge},G))},isPanelVisible(){return i.visiblePanel},togglePanel(){return i.visiblePanel?$e():Pe(),oe()},hidePanel(){return i.visiblePanel&&$e(),oe()},showPanel(){return i.visiblePanel||Pe(),oe()},refreshOption:I,focus(){const A=d.value;return i.isActivated=!0,A.blur(),oe()},blur(){return d.value.blur(),i.isActivated=!1,oe()}},Object.assign(T,_),at(()=>i.staticOptions,A=>{A.some(G=>G.options&&G.options.length)?(i.fullOptionList=[],i.fullGroupList=A):(i.fullGroupList=[],i.fullOptionList=A||[]),P()}),at(()=>e.options,A=>{i.fullGroupList=[],i.fullOptionList=A||[],P()}),at(()=>e.optionGroups,A=>{i.fullOptionList=[],i.fullGroupList=A||[],P()}),po(()=>{oe(()=>{const{options:A,optionGroups:G}=e;G?i.fullGroupList=G:A&&(i.fullOptionList=A),P()}),gt.on(T,"mousewheel",fe),gt.on(T,"mousedown",Re),gt.on(T,"keydown",ee),gt.on(T,"blur",le)}),ao(()=>{gt.off(T,"mousewheel"),gt.off(T,"mousedown"),gt.off(T,"keydown"),gt.off(T,"blur")});const Se=()=>{const{className:A,popupClassName:G,transfer:ge,disabled:Be,loading:He,filterable:qe}=e,{inited:Qe,isActivated:Ze,visiblePanel:et}=i,Ke=x.value,lt=se.value,yt=s.default,M=s.header,wt=s.footer,bt=s.prefix;return r("div",{ref:f,class:["vxe-select",A?n.isFunction(A)?A({$select:T}):A:"",{[`size--${Ke}`]:Ke,"is--visivle":et,"is--disabled":Be,"is--filter":qe,"is--loading":He,"is--active":Ze}]},[r("div",{class:"vxe-select-slots",ref:"hideOption"},yt?yt({}):[]),r(un,{ref:d,clearable:e.clearable,placeholder:e.placeholder,readonly:!0,disabled:Be,type:"text",prefixIcon:e.prefixIcon,suffixIcon:He?m.icon.SELECT_LOADED:et?m.icon.SELECT_OPEN:m.icon.SELECT_CLOSE,modelValue:lt,onClear:Q,onClick:Fe,onFocus:be,onBlur:he,onSuffixClick:Fe},bt?{prefix:()=>bt({})}:{}),r(ul,{to:"body",disabled:ge?!Qe:!0},[r("div",{ref:W,class:["vxe-table--ignore-clear vxe-select--panel",G?n.isFunction(G)?G({$select:T}):G:"",{[`size--${Ke}`]:Ke,"is--transfer":ge,"animat--leave":!He&&i.animatVisible,"animat--enter":!He&&et}],placement:i.panelPlacement,style:i.panelStyle},Qe?[qe?r("div",{class:"vxe-select--panel-search"},[r(un,{ref:y,class:"vxe-select-search--input",modelValue:i.searchValue,clearable:!0,placeholder:m.i18n("vxe.select.search"),prefixIcon:m.icon.INPUT_SEARCH,"onUpdate:modelValue":Ve,onFocus:Ge,onKeydown:Ye,onChange:_e,onSearch:_e})]):Ot(),r("div",{class:"vxe-select--panel-wrapper"},[M?r("div",{class:"vxe-select--panel-header"},M({})):Ot(),r("div",{class:"vxe-select--panel-body"},[r("div",{ref:$,class:"vxe-select-option--wrapper"},Oe())]),wt?r("div",{class:"vxe-select--panel-footer"},wt({})):Ot()])]:[])])])};return T.renderVN=Se,_t("$xeselect",T),T},render(){return this.renderVN()}}),Ll=Rt({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=mt("$xetable",{}),{computeExportOpts:s,computePrintOpts:c}=t.getComputeMaps(),h=zt({isAll:!1,isIndeterminate:!1,loading:!1}),g=Xe(),p=Xe(),x=Xe(),i=ve(()=>{const{storeData:F}=e;return F.columns.every(D=>D.checked)}),f=ve(()=>{const{defaultOptions:F}=e;return["html","xml","xlsx","pdf"].indexOf(F.type)>-1}),d=ve(()=>{const{storeData:F,defaultOptions:D}=e;return!D.original&&D.mode==="current"&&(F.isPrint||["html","xlsx"].indexOf(D.type)>-1)}),y=ve(()=>{const{defaultOptions:F}=e;return!F.original&&["xlsx"].indexOf(F.type)>-1}),$=F=>{const{storeData:D}=e,H=n.findTree(D.columns,ue=>ue===F);if(H&&H.parent){const{parent:ue}=H;ue.children&&ue.children.length&&(ue.checked=ue.children.every(Ce=>Ce.checked),ue.halfChecked=!ue.checked&&ue.children.some(Ce=>Ce.checked||Ce.halfChecked),$(ue))}},W=()=>{const{storeData:F}=e,D=F.columns;h.isAll=D.every(H=>H.disabled||H.checked),h.isIndeterminate=!h.isAll&&D.some(H=>!H.disabled&&(H.checked||H.halfChecked))},V=F=>{const D=!F.checked;n.eachTree([F],H=>{H.checked=D,H.halfChecked=!1}),$(F),W()},T=()=>{const{storeData:F}=e,D=!h.isAll;n.eachTree(F.columns,H=>{H.disabled||(H.checked=D,H.halfChecked=!1)}),h.isAll=D,W()},_=()=>{oe(()=>{const F=p.value,D=x.value,H=g.value,ue=F||D||H;ue&&ue.focus()}),W()},C=()=>{const{storeData:F,defaultOptions:D}=e,{hasMerge:H,columns:ue}=F,Ce=i.value,ye=d.value,ne=n.searchTree(ue,re=>re.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},D,{columns:ne,isMerge:H&&ye&&Ce?D.isMerge:!1})},S=()=>{const{storeData:F}=e,D=c.value;F.visible=!1,t.print(Object.assign({},D,C()))},E=()=>{const{storeData:F}=e,D=s.value;h.loading=!0,t.exportData(Object.assign({},D,C())).then(()=>{h.loading=!1,F.visible=!1}).catch(()=>{h.loading=!1})},R=()=>{const{storeData:F}=e;F.visible=!1},L=()=>{const{storeData:F}=e;F.isPrint?S():E()};return()=>{const{defaultOptions:F,storeData:D}=e,{isAll:H,isIndeterminate:ue}=h,{hasTree:Ce,hasMerge:ye,isPrint:ne,hasColgroup:re}=D,{isHeader:se}=F,J=[],N=i.value,I=f.value,P=d.value,q=y.value;return n.eachTree(D.columns,Y=>{const pe=Yt(Y.getTitle(),1),De=Y.children&&Y.children.length,we=Y.checked,Pe=Y.halfChecked;J.push(r("li",{class:["vxe-export--panel-column-option",`level--${Y.level}`,{"is--group":De,"is--checked":we,"is--indeterminate":Pe,"is--disabled":Y.disabled}],title:pe,onClick:()=>{Y.disabled||V(Y)}},[r("span",{class:["vxe-checkbox--icon",Pe?m.icon.TABLE_CHECKBOX_INDETERMINATE:we?m.icon.TABLE_CHECKBOX_CHECKED:m.icon.TABLE_CHECKBOX_UNCHECKED]}),r("span",{class:"vxe-checkbox--label"},pe)]))}),r(Sn,{modelValue:D.visible,title:m.i18n(ne?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:h.loading,"onUpdate:modelValue"(Y){D.visible=Y},onShow:_},{default:()=>r("div",{class:"vxe-export--panel"},[r("table",{cellspacing:0,cellpadding:0,border:0},[r("tbody",[[ne?Ot():r("tr",[r("td",m.i18n("vxe.export.expName")),r("td",[r(un,{ref:p,modelValue:F.filename,type:"text",clearable:!0,placeholder:m.i18n("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(Y){F.filename=Y}})])]),ne?Ot():r("tr",[r("td",m.i18n("vxe.export.expType")),r("td",[r(zn,{modelValue:F.type,options:D.typeList.map(Y=>({value:Y.value,label:m.i18n(Y.label)})),"onUpdate:modelValue"(Y){F.type=Y}})])]),ne||I?r("tr",[r("td",m.i18n("vxe.export.expSheetName")),r("td",[r(un,{ref:x,modelValue:F.sheetName,type:"text",clearable:!0,placeholder:m.i18n("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(Y){F.sheetName=Y}})])]):Ot(),r("tr",[r("td",m.i18n("vxe.export.expMode")),r("td",[r(zn,{modelValue:F.mode,options:D.modeList.map(Y=>({value:Y.value,label:m.i18n(Y.label)})),"onUpdate:modelValue"(Y){F.mode=Y}})])]),r("tr",[r("td",[m.i18n("vxe.export.expColumn")]),r("td",[r("div",{class:"vxe-export--panel-column"},[r("ul",{class:"vxe-export--panel-column-header"},[r("li",{class:["vxe-export--panel-column-option",{"is--checked":H,"is--indeterminate":ue}],title:m.i18n("vxe.table.allTitle"),onClick:T},[r("span",{class:["vxe-checkbox--icon",ue?m.icon.TABLE_CHECKBOX_INDETERMINATE:H?m.icon.TABLE_CHECKBOX_CHECKED:m.icon.TABLE_CHECKBOX_UNCHECKED]}),r("span",{class:"vxe-checkbox--label"},m.i18n("vxe.export.expCurrentColumn"))])]),r("ul",{class:"vxe-export--panel-column-body"},J)])])]),r("tr",[r("td",m.i18n("vxe.export.expOpts")),r("td",[r("div",{class:"vxe-export--panel-option-row"},[r(ko,{modelValue:F.isHeader,title:m.i18n("vxe.export.expHeaderTitle"),content:m.i18n("vxe.export.expOptHeader"),"onUpdate:modelValue"(Y){F.isHeader=Y}}),r(ko,{modelValue:F.isFooter,disabled:!D.hasFooter,title:m.i18n("vxe.export.expFooterTitle"),content:m.i18n("vxe.export.expOptFooter"),"onUpdate:modelValue"(Y){F.isFooter=Y}}),r(ko,{modelValue:F.original,title:m.i18n("vxe.export.expOriginalTitle"),content:m.i18n("vxe.export.expOptOriginal"),"onUpdate:modelValue"(Y){F.original=Y}})]),r("div",{class:"vxe-export--panel-option-row"},[r(ko,{modelValue:se&&re&&P?F.isColgroup:!1,title:m.i18n("vxe.export.expColgroupTitle"),disabled:!se||!re||!P,content:m.i18n("vxe.export.expOptColgroup"),"onUpdate:modelValue"(Y){F.isColgroup=Y}}),r(ko,{modelValue:ye&&P&&N?F.isMerge:!1,title:m.i18n("vxe.export.expMergeTitle"),disabled:!ye||!P||!N,content:m.i18n("vxe.export.expOptMerge"),"onUpdate:modelValue"(Y){F.isMerge=Y}}),ne?Ot():r(ko,{modelValue:q?F.useStyle:!1,disabled:!q,title:m.i18n("vxe.export.expUseStyleTitle"),content:m.i18n("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(Y){F.useStyle=Y}}),r(ko,{modelValue:Ce?F.isAllExpand:!1,disabled:!Ce,title:m.i18n("vxe.export.expAllExpandTitle"),content:m.i18n("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(Y){F.isAllExpand=Y}})])])])]])]),r("div",{class:"vxe-export--panel-btns"},[r(xo,{content:m.i18n("vxe.export.expCancel"),onClick:R}),r(xo,{ref:g,status:"primary",content:m.i18n(ne?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:L})])])})}}}),Wn=Rt({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,name:String,strict:{type:Boolean,default:()=>m.radio.strict},size:{type:String,default:()=>m.radio.size||m.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:s,emit:c}=t,h=mt("$xeform",null),g=mt("$xeformiteminfo",null),x={xID:n.uniqueId(),props:e,context:t},i=Qt(e),f=mt("$xeradiogroup",null);let d={};const y=ve(()=>e.disabled||f&&f.props.disabled),$=ve(()=>f?f.name:e.name),W=ve(()=>f?f.props.strict:e.strict),V=ve(()=>{const{modelValue:E,label:R}=e;return f?f.props.modelValue===R:E===R}),T=(E,R)=>{f?f.handleChecked({label:E},R):(c("update:modelValue",E),d.dispatchEvent("change",{label:E},R),h&&g&&h.triggerItemEvent(R,g.itemConfig.field,E))},_=E=>{y.value||T(e.label,E)},C=E=>{const R=y.value,L=W.value;!R&&!L&&e.label===(f?f.props.modelValue:e.modelValue)&&T(null,E)};d={dispatchEvent(E,R,L){c(E,Object.assign({$radio:x,$event:L},R))}},Object.assign(x,d);const S=()=>{const E=i.value,R=y.value,L=$.value,j=V.value;return r("label",{class:["vxe-radio",{[`size--${E}`]:E,"is--checked":j,"is--disabled":R}],title:e.title},[r("input",{class:"vxe-radio--input",type:"radio",name:L,checked:j,disabled:R,onChange:_,onClick:C}),r("span",{class:["vxe-radio--icon",j?"vxe-icon-radio-checked":"vxe-icon-radio-unchecked"]}),r("span",{class:"vxe-radio--label"},s.default?s.default({}):jt(e.content))])};return x.renderVN=S,x},render(){return this.renderVN()}}),il=Rt({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,strict:{type:Boolean,default:()=>m.radioButton.strict},size:{type:String,default:()=>m.radioButton.size||m.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:s,emit:c}=t,h=mt("$xeform",null),g=mt("$xeformiteminfo",null),p=n.uniqueId(),x=Qt(e),i={xID:p,props:e,context:t};let f={};const d=mt("$xeradiogroup",null),y=ve(()=>e.disabled||d&&d.props.disabled),$=ve(()=>d?d.name:null),W=ve(()=>d?d.props.strict:e.strict),V=ve(()=>{const{modelValue:E,label:R}=e;return d?d.props.modelValue===R:E===R});f={dispatchEvent(E,R,L){c(E,Object.assign({$radioButton:i,$event:L},R))}},Object.assign(i,f);const T=(E,R)=>{d?d.handleChecked({label:E},R):(c("update:modelValue",E),f.dispatchEvent("change",{label:E},R),h&&g&&h.triggerItemEvent(R,g.itemConfig.field,E))},_=E=>{y.value||T(e.label,E)},C=E=>{const R=y.value,L=W.value;!R&&!L&&e.label===(d?d.props.modelValue:e.modelValue)&&T(null,E)},S=()=>{const E=x.value,R=y.value,L=$.value,j=V.value;return r("label",{class:["vxe-radio","vxe-radio-button",{[`size--${E}`]:E,"is--disabled":R}],title:e.title},[r("input",{class:"vxe-radio--input",type:"radio",name:L,checked:j,disabled:R,onChange:_,onClick:C}),r("span",{class:"vxe-radio--label"},s.default?s.default({}):jt(e.content))])};return Object.assign(i,{renderVN:S,dispatchEvent}),S}}),_n=Rt({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:Boolean,type:String,options:Array,optionProps:Object,strict:{type:Boolean,default:()=>m.radioGroup.strict},size:{type:String,default:()=>m.radioGroup.size||m.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:s,emit:c}=t,h=mt("$xeform",null),g=mt("$xeformiteminfo",null),x={xID:n.uniqueId(),props:e,context:t,name:n.uniqueId("xegroup_")},i=ve(()=>e.optionProps||{}),f=ve(()=>i.value.label||"label"),d=ve(()=>i.value.value||"value"),y=ve(()=>i.value.disabled||"disabled");let $={};Qt(e);const W={handleChecked(T,_){c("update:modelValue",T.label),$.dispatchEvent("change",T),h&&g&&h.triggerItemEvent(_,g.itemConfig.field,T.label)}};$={dispatchEvent(T,_,C){c(T,Object.assign({$radioGroup:x,$event:C},_))}};const V=()=>{const{options:T,type:_}=e,C=s.default,S=d.value,E=f.value,R=y.value,L=_==="button"?il:Wn;return r("div",{class:"vxe-radio-group"},C?C({}):T?T.map(j=>r(L,{label:j[S],content:j[E],disabled:j[R]})):[])};return Object.assign(x,W,{renderVN:V,dispatchEvent}),_t("$xeradiogroup",x),V}}),Nl=Rt({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=mt("$xetable",{}),{computeImportOpts:s}=t.getComputeMaps(),c=zt({loading:!1}),h=Xe(),g=ve(()=>{const{storeData:V}=e;return`${V.filename}.${V.type}`}),p=ve(()=>{const{storeData:V}=e;return V.file&&V.type}),x=ve(()=>{const{storeData:V}=e,{type:T,typeList:_}=V;if(T){const C=n.find(_,S=>T===S.value);return C?m.i18n(C.label):"*.*"}return`*.${_.map(C=>C.value).join(", *.")}`}),i=()=>{const{storeData:V}=e;Object.assign(V,{filename:"",sheetName:"",type:""})},f=()=>{const{storeData:V,defaultOptions:T}=e;t.readFile(T).then(_=>{const{file:C}=_;Object.assign(V,vi(C),{file:C})}).catch(_=>_)},d=()=>{oe(()=>{const V=h.value;V&&V.focus()})},y=()=>{const{storeData:V}=e;V.visible=!1},$=()=>{const{storeData:V,defaultOptions:T}=e,_=s.value;c.loading=!0,t.importByFile(V.file,Object.assign({},_,T)).then(()=>{c.loading=!1,V.visible=!1}).catch(()=>{c.loading=!1})};return()=>{const{defaultOptions:V,storeData:T}=e,_=g.value,C=p.value,S=x.value;return r(Sn,{modelValue:T.visible,title:m.i18n("vxe.import.impTitle"),className:"vxe-table-import-popup-wrapper",width:440,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:c.loading,"onUpdate:modelValue"(E){T.visible=E},onShow:d},{default:()=>r("div",{class:"vxe-export--panel"},[r("table",{cellspacing:0,cellpadding:0,border:0},[r("tbody",[r("tr",[r("td",m.i18n("vxe.import.impFile")),r("td",[C?r("div",{class:"vxe-import-selected--file",title:_},[r("span",_),r("i",{class:m.icon.INPUT_CLEAR,onClick:i})]):r("button",{ref:h,class:"vxe-import-select--file",onClick:f},m.i18n("vxe.import.impSelect"))])]),r("tr",[r("td",m.i18n("vxe.import.impType")),r("td",S)]),r("tr",[r("td",m.i18n("vxe.import.impOpts")),r("td",[r(_n,{modelValue:V.mode,"onUpdate:modelValue"(E){V.mode=E}},{default:()=>T.modeList.map(E=>r(Wn,{label:E.value,content:m.i18n(E.label)}))})])])])]),r("div",{class:"vxe-export--panel-btns"},[r(xo,{content:m.i18n("vxe.import.impCancel"),onClick:y}),r(xo,{status:"primary",disabled:!C,content:m.i18n("vxe.import.impConfirm"),onClick:$})])])})}}});let Qn,Cn,vo;const Pc='body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function kr(){const e=document.createElement("iframe");return e.className="vxe-table--print-frame",e}function ki(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}function Ra(e,t){const{style:s}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${Pc}</style>`,s?`<style>${s}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}const xs=e=>{const t=Object.assign({},e);return Qn||(Qn=document.createElement("form"),Cn=document.createElement("input"),Qn.className="vxe-table--file-form",Cn.name="file",Cn.type="file",Qn.appendChild(Cn),document.body.appendChild(Qn)),new Promise((s,c)=>{const h=t.types||[],g=!h.length||h.some(p=>p==="*");Cn.multiple=!!t.multiple,Cn.accept=g?"":`.${h.join(", .")}`,Cn.onchange=p=>{const{files:x}=p.target,i=x[0];let f="";if(!g)for(let d=0;d<x.length;d++){const{type:y}=vi(x[d]);if(!n.includes(h,y)){f=y;break}}f?(t.message!==!1&&ot.modal.message({content:m.i18n("vxe.error.notType",[f]),status:"error"}),c({status:!1,files:x,file:i})):s({status:!0,files:x,file:i})},Qn.reset(),Cn.click()})};function Ma(){if(vo){if(vo.parentNode){try{vo.contentDocument.write("")}catch{}vo.parentNode.removeChild(vo)}vo=null}}function Dr(){vo.parentNode||document.body.appendChild(vo)}function Vc(){requestAnimationFrame(Ma)}function pi(e,t,s=""){const{beforePrintMethod:c}=t;c&&(s=c({content:s,options:t,$table:e})||""),s=Ra(t,s);const h=ki(s,t);Io.msie?(Ma(),vo=kr(),Dr(),vo.contentDocument.write(s),vo.contentDocument.execCommand("print")):(vo||(vo=kr(),vo.onload=g=>{g.target.src&&(g.target.contentWindow.onafterprint=Vc,g.target.contentWindow.print())}),Dr(),vo.src=URL.createObjectURL(h))}const Cs=e=>{const{filename:t,type:s,content:c}=e,h=`${t}.${s}`;if(window.Blob){const g=c instanceof Blob?c:ki(n.toValueString(c),e);if(navigator.msSaveBlob)navigator.msSaveBlob(g,h);else{const p=URL.createObjectURL(g),x=document.createElement("a");x.target="_blank",x.download=h,x.href=p,document.body.appendChild(x),x.click(),requestAnimationFrame(()=>{x.parentNode&&x.parentNode.removeChild(x),URL.revokeObjectURL(p)})}return Promise.resolve()}return Promise.reject(new Error(gi("vxe.error.notExp")))};let el;const Ac="\uFEFF",Vn=`\r
`;function Ir(e){return e.property||["seq","checkbox","radio"].indexOf(e.type)>-1}const ka=e=>{const t=[];return e.forEach(s=>{s.childNodes&&s.childNodes.length?(t.push(s),t.push(...ka(s.childNodes))):t.push(s)}),t},$c=e=>{let t=1;const s=(g,p)=>{if(p&&(g._level=p._level+1,t<g._level&&(t=g._level)),g.childNodes&&g.childNodes.length){let x=0;g.childNodes.forEach(i=>{s(i,g),x+=i._colSpan}),g._colSpan=x}else g._colSpan=1};e.forEach(g=>{g._level=1,s(g)});const c=[];for(let g=0;g<t;g++)c.push([]);return ka(e).forEach(g=>{g.childNodes&&g.childNodes.length?g._rowSpan=1:g._rowSpan=t-g._level+1,c[g._level-1].push(g)}),c};function Bc(e){return e===!0?"full":e||"default"}function tl(e){return e==="TRUE"||e==="true"||e===!0}function us(e,t){const{footerFilterMethod:s}=e;return s?t.filter((c,h)=>s({items:c,$rowIndex:h})):t}function Hc(e,t){if(t){if(e.type==="seq")return`	${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`	${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`	${t}`;break}}return t}function ol(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function Mo(e,t){return e.getElementsByTagName(t)}function Fr(e){return`#${e}@${n.uniqueId()}`}function Da(e,t){return e.replace(/#\d+@\d+/g,s=>n.hasOwnProp(t,s)?t[s]:s)}function Lr(e,t){return Da(e,t).replace(/^"+$/g,c=>'"'.repeat(Math.ceil(c.length/2)))}function Ia(e,t,s){const c=t.split(Vn),h=[];let g=[];if(c.length){const p={},x=Date.now();c.forEach(i=>{if(i){const f={};i=i.replace(/("")|(\n)/g,(y,$)=>{const W=Fr(x);return p[W]=$?'"':`
`,W}).replace(/"(.*?)"/g,(y,$)=>{const W=Fr(x);return p[W]=Da($,p),W});const d=i.split(s);g.length?(d.forEach((y,$)=>{$<g.length&&(f[g[$]]=Lr(y.trim(),p))}),h.push(f)):g=d.map(y=>Lr(y.trim(),p))}})}return{fields:g,rows:h}}function jc(e,t){return Ia(e,t,",")}function zc(e,t){return Ia(e,t,"	")}function Wc(e,t){const c=new DOMParser().parseFromString(t,"text/html"),h=Mo(c,"body"),g=[],p=[];if(h.length){const x=Mo(h[0],"table");if(x.length){const i=Mo(x[0],"thead");if(i.length){n.arrayEach(Mo(i[0],"tr"),d=>{n.arrayEach(Mo(d,"th"),y=>{p.push(y.textContent)})});const f=Mo(x[0],"tbody");f.length&&n.arrayEach(Mo(f[0],"tr"),d=>{const y={};n.arrayEach(Mo(d,"td"),($,W)=>{p[W]&&(y[p[W]]=$.textContent||"")}),g.push(y)})}}}return{fields:p,rows:g}}function _c(e,t){const c=new DOMParser().parseFromString(t,"application/xml"),h=Mo(c,"Worksheet"),g=[],p=[];if(h.length){const x=Mo(h[0],"Table");if(x.length){const i=Mo(x[0],"Row");i.length&&(n.arrayEach(Mo(i[0],"Cell"),f=>{p.push(f.textContent)}),n.arrayEach(i,(f,d)=>{if(d){const y={},$=Mo(f,"Cell");n.arrayEach($,(W,V)=>{p[V]&&(y[p[V]]=W.textContent)}),g.push(y)}}))}}return{fields:p,rows:g}}function Nr(e){n.eachTree(e,t=>{delete t._level,delete t._colSpan,delete t._rowSpan,delete t._children,delete t.childNodes},{children:"children"})}function qc(e,t){const s=[];return e.forEach(c=>{const h=c.property;h&&s.push(h)}),t.some(c=>s.indexOf(c)>-1)}const Gc=["exportData","importByFile","importData","saveFile","readFile","print","openImport","openExport","openPrint"],Yc={setupTable(e){const{props:t,reactData:s,internalData:c}=e,{computeTreeOpts:h,computePrintOpts:g,computeExportOpts:p,computeImportOpts:x,computeCustomOpts:i,computeSeqOpts:f,computeRadioOpts:d,computeCheckboxOpts:y,computeColumnOpts:$}=e.getComputeMaps(),W=mt("$xegrid",null),V=N=>{const I=h.value,P=I.children||I.childrenField;return N[P]&&N[P].length},T=(N,I,P,q)=>{const pe=f.value.seqMethod||P.seqMethod;return pe?pe({row:N,rowIndex:e.getRowIndex(N),$rowIndex:I,column:P,columnIndex:e.getColumnIndex(P),$columnIndex:q}):e.getRowSeq(N)};function _(N,I){const P=$.value,q=I.headerExportMethod||P.headerExportMethod;return q?q({column:I,options:N,$table:e}):(N.original?I.property:I.getTitle())||""}const C=N=>n.isBoolean(N)?N?"TRUE":"FALSE":N,S=(N,I,P)=>{const{isAllExpand:q,mode:Y}=N,{treeConfig:pe}=t,De=d.value,we=y.value,Pe=h.value,$e=$.value;if(el||(el=document.createElement("div")),pe){const ae=Pe.children||Pe.childrenField,k=[],Q=new Map;return n.eachTree(P,(ie,fe,Re,te,ee,le)=>{const me=ie._row||ie,be=ee&&ee._row?ee._row:ee;if(q||!be||Q.has(be)&&e.isTreeExpandByRow(be)){const he=V(me),Ve={_row:me,_level:le.length-1,_hasChild:he,_expand:he&&e.isTreeExpandByRow(me)};I.forEach((Ge,Ye)=>{let _e="";const Fe=Ge.editRender||Ge.cellRender;let ke=Ge.exportMethod;if(!ke&&Fe&&Fe.name){const X=ot.renderer.get(Fe.name);X&&(ke=X.exportMethod)}if(ke||(ke=$e.exportMethod),ke)_e=ke({$table:e,row:me,column:Ge,options:N});else switch(Ge.type){case"seq":_e=Y==="all"?te.map((X,ce)=>ce%2===0?Number(X)+1:".").join(""):T(me,fe,Ge,Ye);break;case"checkbox":_e=C(e.isCheckedByCheckboxRow(me)),Ve._checkboxLabel=we.labelField?n.get(me,we.labelField):"",Ve._checkboxDisabled=we.checkMethod&&!we.checkMethod({row:me});break;case"radio":_e=C(e.isCheckedByRadioRow(me)),Ve._radioLabel=De.labelField?n.get(me,De.labelField):"",Ve._radioDisabled=De.checkMethod&&!De.checkMethod({row:me});break;default:if(N.original)_e=Ho(me,Ge);else if(_e=e.getCellLabel(me,Ge),Ge.type==="html")el.innerHTML=_e,_e=el.innerText.trim();else{const X=e.getCell(me,Ge);X&&(_e=X.innerText.trim())}}Ve[Ge.id]=n.toValueString(_e)}),Q.set(me,1),k.push(Object.assign(Ve,me))}},{children:ae}),k}return P.map((ae,k)=>{const Q={_row:ae};return I.forEach((ie,fe)=>{let Re="";const te=ie.editRender||ie.cellRender;let ee=ie.exportMethod;if(!ee&&te&&te.name){const le=ot.renderer.get(te.name);le&&(ee=le.exportMethod)}if(ee)Re=ee({$table:e,row:ae,column:ie,options:N});else switch(ie.type){case"seq":Re=Y==="all"?k+1:T(ae,k,ie,fe);break;case"checkbox":Re=C(e.isCheckedByCheckboxRow(ae)),Q._checkboxLabel=we.labelField?n.get(ae,we.labelField):"",Q._checkboxDisabled=we.checkMethod&&!we.checkMethod({row:ae});break;case"radio":Re=C(e.isCheckedByRadioRow(ae)),Q._radioLabel=De.labelField?n.get(ae,De.labelField):"",Q._radioDisabled=De.checkMethod&&!De.checkMethod({row:ae});break;default:if(N.original)Re=Ho(ae,ie);else if(Re=e.getCellLabel(ae,ie),ie.type==="html")el.innerHTML=Re,Re=el.innerText.trim();else{const le=e.getCell(ae,ie);le&&(Re=le.innerText.trim())}}Q[ie.id]=n.toValueString(Re)}),Q})},E=N=>{const{columns:I,dataFilterMethod:P}=N;let q=N.data;return P&&(q=q.filter((Y,pe)=>P({row:Y,$rowIndex:pe}))),S(N,I,q)},R=(N,I,P)=>{const q=$.value,Y=P.editRender||P.cellRender;let pe=P.footerExportMethod;if(!pe&&Y&&Y.name){const Pe=ot.renderer.get(Y.name);Pe&&(pe=Pe.footerExportMethod)}pe||(pe=q.footerExportMethod);const De=e.getVTColumnIndex(P);return pe?pe({$table:e,items:I,itemIndex:De,row:I,_columnIndex:De,column:P,options:N}):n.toValueString(I[De])},L=(N,I,P)=>{let q=Ac;if(N.isHeader&&(q+=I.map(Y=>ol(_(N,Y))).join(",")+Vn),P.forEach(Y=>{q+=I.map(pe=>ol(Hc(pe,Y[pe.id]))).join(",")+Vn}),N.isFooter){const{footerTableData:Y}=s;us(N,Y).forEach(De=>{q+=I.map(we=>ol(R(N,De,we))).join(",")+Vn})}return q},j=(N,I,P)=>{let q="";if(N.isHeader&&(q+=I.map(Y=>ol(_(N,Y))).join("	")+Vn),P.forEach(Y=>{q+=I.map(pe=>ol(Y[pe.id])).join("	")+Vn}),N.isFooter){const{footerTableData:Y}=s;us(N,Y).forEach(De=>{q+=I.map(we=>ol(R(N,De,we))).join(",")+Vn})}return q},F=(N,I,P)=>{const q=N[I],Y=n.isUndefined(q)||n.isNull(q)?P:q;let Pe=Y==="title"||(Y===!0||Y==="tooltip")||Y==="ellipsis";const{scrollXLoad:$e,scrollYLoad:ae}=s;return($e||ae)&&!Pe&&(Pe=!0),Pe},D=(N,I,P)=>{const{id:q,border:Y,treeConfig:pe,headerAlign:De,align:we,footerAlign:Pe,showOverflow:$e,showHeaderOverflow:ae}=t,{isAllSelected:k,isIndeterminate:Q,mergeList:ie}=s,fe=h.value,{print:Re,isHeader:te,isFooter:ee,isColgroup:le,isMerge:me,colgroups:be,original:he}=N,Ve="check-all",Ye=[`<table class="${["vxe-table",`border--${Bc(Y)}`,Re?"is--print":"",te?"is--header":""].filter(Fe=>Fe).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${I.map(Fe=>`<col style="width:${Fe.renderWidth}px">`).join("")}</colgroup>`];if(te&&(Ye.push("<thead>"),le&&!he?be.forEach(Fe=>{Ye.push(`<tr>${Fe.map(ke=>{const X=ke.headerAlign||ke.align||De||we,ce=F(ke,"showHeaderOverflow",ae)?["col--ellipsis"]:[],Oe=_(N,ke);let Se=0,A=0;n.eachTree([ke],ge=>{(!ge.childNodes||!ke.childNodes.length)&&A++,Se+=ge.renderWidth},{children:"childNodes"});const G=Se-A;return X&&ce.push(`col--${X}`),ke.type==="checkbox"?`<th class="${ce.join(" ")}" colspan="${ke._colSpan}" rowspan="${ke._rowSpan}"><div ${Re?"":`style="width: ${G}px"`}><input type="checkbox" class="${Ve}" ${k?"checked":""}><span>${Oe}</span></div></th>`:`<th class="${ce.join(" ")}" colspan="${ke._colSpan}" rowspan="${ke._rowSpan}" title="${Oe}"><div ${Re?"":`style="width: ${G}px"`}><span>${Yt(Oe,!0)}</span></div></th>`}).join("")}</tr>`)}):Ye.push(`<tr>${I.map(Fe=>{const ke=Fe.headerAlign||Fe.align||De||we,X=F(Fe,"showHeaderOverflow",ae)?["col--ellipsis"]:[],ce=_(N,Fe);return ke&&X.push(`col--${ke}`),Fe.type==="checkbox"?`<th class="${X.join(" ")}"><div ${Re?"":`style="width: ${Fe.renderWidth}px"`}><input type="checkbox" class="${Ve}" ${k?"checked":""}><span>${ce}</span></div></th>`:`<th class="${X.join(" ")}" title="${ce}"><div ${Re?"":`style="width: ${Fe.renderWidth}px"`}><span>${Yt(ce,!0)}</span></div></th>`}).join("")}</tr>`),Ye.push("</thead>")),P.length&&(Ye.push("<tbody>"),pe?P.forEach(Fe=>{Ye.push("<tr>"+I.map(ke=>{const X=ke.align||we,ce=F(ke,"showOverflow",$e)?["col--ellipsis"]:[],Oe=Fe[ke.id];if(X&&ce.push(`col--${X}`),ke.treeNode){let Se="";return Fe._hasChild&&(Se=`<i class="${Fe._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),ce.push("vxe-table--tree-node"),ke.type==="radio"?`<td class="${ce.join(" ")}" title="${Oe}"><div ${Re?"":`style="width: ${ke.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Fe._level*fe.indent}px"><div class="vxe-table--tree-icon-wrapper">${Se}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${q}" ${Fe._radioDisabled?"disabled ":""}${tl(Oe)?"checked":""}><span>${Fe._radioLabel}</span></div></div></div></td>`:ke.type==="checkbox"?`<td class="${ce.join(" ")}" title="${Oe}"><div ${Re?"":`style="width: ${ke.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Fe._level*fe.indent}px"><div class="vxe-table--tree-icon-wrapper">${Se}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${Fe._checkboxDisabled?"disabled ":""}${tl(Oe)?"checked":""}><span>${Fe._checkboxLabel}</span></div></div></div></td>`:`<td class="${ce.join(" ")}" title="${Oe}"><div ${Re?"":`style="width: ${ke.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Fe._level*fe.indent}px"><div class="vxe-table--tree-icon-wrapper">${Se}</div><div class="vxe-table--tree-cell">${Oe}</div></div></div></td>`}return ke.type==="radio"?`<td class="${ce.join(" ")}"><div ${Re?"":`style="width: ${ke.renderWidth}px"`}><input type="radio" name="radio_${q}" ${Fe._radioDisabled?"disabled ":""}${tl(Oe)?"checked":""}><span>${Fe._radioLabel}</span></div></td>`:ke.type==="checkbox"?`<td class="${ce.join(" ")}"><div ${Re?"":`style="width: ${ke.renderWidth}px"`}><input type="checkbox" ${Fe._checkboxDisabled?"disabled ":""}${tl(Oe)?"checked":""}><span>${Fe._checkboxLabel}</span></div></td>`:`<td class="${ce.join(" ")}" title="${Oe}"><div ${Re?"":`style="width: ${ke.renderWidth}px"`}>${Yt(Oe,!0)}</div></td>`}).join("")+"</tr>")}):P.forEach(Fe=>{Ye.push("<tr>"+I.map(ke=>{const X=ke.align||we,ce=F(ke,"showOverflow",$e)?["col--ellipsis"]:[],Oe=Fe[ke.id];let Se=1,A=1;if(me&&ie.length){const G=e.getVTRowIndex(Fe._row),ge=e.getVTColumnIndex(ke),Be=la(ie,G,ge);if(Be){const{rowspan:He,colspan:qe}=Be;if(!He||!qe)return"";He>1&&(Se=He),qe>1&&(A=qe)}}return X&&ce.push(`col--${X}`),ke.type==="radio"?`<td class="${ce.join(" ")}" rowspan="${Se}" colspan="${A}"><div ${Re?"":`style="width: ${ke.renderWidth}px"`}><input type="radio" name="radio_${q}" ${Fe._radioDisabled?"disabled ":""}${tl(Oe)?"checked":""}><span>${Fe._radioLabel}</span></div></td>`:ke.type==="checkbox"?`<td class="${ce.join(" ")}" rowspan="${Se}" colspan="${A}"><div ${Re?"":`style="width: ${ke.renderWidth}px"`}><input type="checkbox" ${Fe._checkboxDisabled?"disabled ":""}${tl(Oe)?"checked":""}><span>${Fe._checkboxLabel}</span></div></td>`:`<td class="${ce.join(" ")}" rowspan="${Se}" colspan="${A}" title="${Oe}"><div ${Re?"":`style="width: ${ke.renderWidth}px"`}>${Yt(Oe,!0)}</div></td>`}).join("")+"</tr>")}),Ye.push("</tbody>")),ee){const{footerTableData:Fe}=s,ke=us(N,Fe);ke.length&&(Ye.push("<tfoot>"),ke.forEach(X=>{Ye.push(`<tr>${I.map(ce=>{const Oe=ce.footerAlign||ce.align||Pe||we,Se=F(ce,"showOverflow",$e)?["col--ellipsis"]:[],A=R(N,X,ce);return Oe&&Se.push(`col--${Oe}`),`<td class="${Se.join(" ")}" title="${A}"><div ${Re?"":`style="width: ${ce.renderWidth}px"`}>${Yt(A,!0)}</div></td>`}).join("")}</tr>`)}),Ye.push("</tfoot>"))}const _e=!k&&Q?`<script>(function(){var a=document.querySelector(".${Ve}");if(a){a.indeterminate=true}})()<\/script>`:"";return Ye.push("</table>",_e),Re?Ye.join(""):Ra(N,Ye.join(""))},H=(N,I,P)=>{let q=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${N.sheetName}">`,"<Table>",I.map(Y=>`<Column ss:Width="${Y.renderWidth}"/>`).join("")].join("");if(N.isHeader&&(q+=`<Row>${I.map(Y=>`<Cell><Data ss:Type="String">${_(N,Y)}</Data></Cell>`).join("")}</Row>`),P.forEach(Y=>{q+="<Row>"+I.map(pe=>`<Cell><Data ss:Type="String">${Y[pe.id]}</Data></Cell>`).join("")+"</Row>"}),N.isFooter){const{footerTableData:Y}=s;us(N,Y).forEach(De=>{q+=`<Row>${I.map(we=>`<Cell><Data ss:Type="String">${R(N,De,we)}</Data></Cell>`).join("")}</Row>`})}return`${q}</Table></Worksheet></Workbook>`},ue=(N,I,P)=>{if(I.length)switch(N.type){case"csv":return L(N,I,P);case"txt":return j(N,I,P);case"html":return D(N,I,P);case"xml":return H(N,I,P)}return""},Ce=(N,I)=>{const{filename:P,type:q,download:Y}=N;if(!Y){const pe=ki(I,N);return Promise.resolve({type:q,content:I,blob:pe})}Cs({filename:P,type:q,content:I}).then(()=>{N.message!==!1&&ot.modal.message({content:m.i18n("vxe.table.expSuccess"),status:"success"})})},ye=N=>{const{remote:I,columns:P,colgroups:q,exportMethod:Y,afterExportMethod:pe}=N;return new Promise(De=>{if(I){const we={options:N,$table:e,$grid:W};De(Y?Y(we):we)}else{const we=E(N);De(e.preventEvent(null,"event.export",{options:N,columns:P,colgroups:q,datas:we},()=>Ce(N,ue(N,P,we))))}}).then(De=>(Nr(P),N.print||pe&&pe({status:!0,options:N,$table:e,$grid:W}),Object.assign({status:!0},De))).catch(()=>{Nr(P),N.print||pe&&pe({status:!1,options:N,$table:e,$grid:W});const De={status:!1};return Promise.reject(De)})},ne=(N,I)=>{const{tableFullColumn:P,_importResolve:q,_importReject:Y}=c;let pe={fields:[],rows:[]};switch(I.type){case"csv":pe=jc(P,N);break;case"txt":pe=zc(P,N);break;case"html":pe=Wc(P,N);break;case"xml":pe=_c(P,N);break}const{fields:De,rows:we}=pe;qc(P,De)?e.createData(we).then($e=>{let ae;return I.mode==="insert"?ae=e.insert($e):ae=e.reloadData($e),I.message!==!1&&ot.modal.message({content:m.i18n("vxe.table.impSuccess",[we.length]),status:"success"}),ae.then(()=>{q&&q({status:!0})})}):I.message!==!1&&(ot.modal.message({content:m.i18n("vxe.error.impFields"),status:"error"}),Y&&Y({status:!1}))},re=(N,I)=>{const{importMethod:P,afterImportMethod:q}=I,{type:Y,filename:pe}=vi(N);if(!P&&!n.includes(ot.globalConfs.importTypes,Y)){I.message!==!1&&ot.modal.message({content:m.i18n("vxe.error.notType",[Y]),status:"error"});const we={status:!1};return Promise.reject(we)}return new Promise((we,Pe)=>{const $e=k=>{we(k),c._importResolve=null,c._importReject=null},ae=k=>{Pe(k),c._importResolve=null,c._importReject=null};if(c._importResolve=$e,c._importReject=ae,window.FileReader){const k=Object.assign({mode:"insert"},I,{type:Y,filename:pe});if(k.remote)P?Promise.resolve(P({file:N,options:k,$table:e})).then(()=>{$e({status:!0})}).catch(()=>{$e({status:!0})}):$e({status:!0});else{const{tableFullColumn:Q}=c;e.preventEvent(null,"event.import",{file:N,options:k,columns:Q},()=>{const ie=new FileReader;ie.onerror=()=>{Jt("vxe.error.notType",[Y]),ae({status:!1})},ie.onload=fe=>{ne(fe.target.result,k)},ie.readAsText(N,k.encoding||"UTF-8")})}}else $e({status:!0})}).then(()=>{q&&q({status:!0,options:I,$table:e})}).catch(we=>(q&&q({status:!1,options:I,$table:e}),Promise.reject(we)))},se=(N,I)=>{const{treeConfig:P,showHeader:q,showFooter:Y}=t,{initStore:pe,mergeList:De,isGroup:we,footerTableData:Pe,exportStore:$e,exportParams:ae}=s,{collectColumn:k}=c,Q=P,ie=i.value,fe=e.getCheckboxRecords(),Re=!!Pe.length,te=!Q&&De.length,ee=Object.assign({message:!0,isHeader:q,isFooter:Y},N),le=ee.types||ot.globalConfs.exportTypes,me=ee.modes,be=ie.checkMethod,he=k.slice(0),{columns:Ve}=ee,Ge=le.map(_e=>({value:_e,label:`vxe.export.types.${_e}`})),Ye=me.map(_e=>({value:_e,label:`vxe.export.modes.${_e}`}));return n.eachTree(he,(_e,Fe,ke,X,ce)=>{(_e.children&&_e.children.length||Ir(_e))&&(_e.checked=Ve?Ve.some(Se=>{if(fs(Se))return _e===Se;if(n.isString(Se))return _e.field===Se;{const A=Se.id||Se.colId,G=Se.type,ge=Se.property||Se.field;if(A)return _e.id===A;if(ge&&G)return _e.property===ge&&_e.type===G;if(ge)return _e.property===ge;if(G)return _e.type===G}return!1}):_e.visible,_e.halfChecked=!1,_e.disabled=ce&&ce.disabled||(be?!be({column:_e}):!1))}),Object.assign($e,{columns:he,typeList:Ge,modeList:Ye,hasFooter:Re,hasMerge:te,hasTree:Q,isPrint:I,hasColgroup:we,visible:!0}),Object.assign(ae,{mode:fe.length?"selected":"current"},ee),me.indexOf(ae.mode)===-1&&(ae.mode=me[0]),le.indexOf(ae.type)===-1&&(ae.type=le[0]),pe.export=!0,oe()},J={exportData(N){const{treeConfig:I}=t,{isGroup:P,tableGroupColumn:q}=s,{tableFullColumn:Y,afterFullData:pe}=c,De=p.value,we=h.value,Pe=Object.assign({isHeader:!0,isFooter:!0,isColgroup:!0,download:!0,type:"csv",mode:"current"},De,{print:!1},N),{type:$e,mode:ae,columns:k,original:Q,beforeExportMethod:ie}=Pe;let fe=[];const Re=k&&k.length?k:null;let te=Pe.columnFilterMethod;!Re&&!te&&(te=Q?({column:le})=>le.property:({column:le})=>Ir(le)),Re?(Pe._isCustomColumn=!0,fe=n.searchTree(n.mapTree(Re,le=>{let me;if(le){if(fs(le))me=le;else if(n.isString(le))me=e.getColumnByField(le);else{const be=le.id||le.colId,he=le.type,Ve=le.property||le.field;be?me=e.getColumnById(be):Ve&&he?me=Y.find(Ge=>Ge.property===Ve&&Ge.type===he):Ve?me=e.getColumnByField(Ve):he&&(me=Y.find(Ge=>Ge.type===he))}return me||{}}},{children:"childNodes",mapChildren:"_children"}),(le,me)=>fs(le)&&(!te||te({column:le,$columnIndex:me})),{children:"_children",mapChildren:"childNodes",original:!0})):fe=n.searchTree(P?q:Y,(le,me)=>le.visible&&(!te||te({column:le,$columnIndex:me})),{children:"children",mapChildren:"childNodes",original:!0});const ee=[];if(n.eachTree(fe,le=>{le.children&&le.children.length||ee.push(le)},{children:"childNodes"}),Pe.columns=ee,Pe.colgroups=$c(fe),Pe.filename||(Pe.filename=m.i18n(Pe.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[n.toDateString(Date.now(),"yyyyMMddHHmmss")])),Pe.sheetName||(Pe.sheetName=document.title),!Pe.exportMethod&&!n.includes(ot.globalConfs.exportTypes,$e)){const le={status:!1};return Promise.reject(le)}if(Pe.print||ie&&ie({options:Pe,$table:e,$grid:W}),!Pe.data){if(Pe.data=pe,ae==="selected"){const le=e.getCheckboxRecords();["html","pdf"].indexOf($e)>-1&&I?Pe.data=n.searchTree(e.getTableData().fullData,me=>e.findRowIndexOf(le,me)>-1,Object.assign({},we,{data:"_row"})):Pe.data=le}else if(ae==="all"&&W&&!Pe.remote){const{reactData:le}=W,{computeProxyOpts:me}=W.getComputeMaps(),be=me.value,{beforeQueryAll:he,afterQueryAll:Ve,ajax:Ge={},props:Ye={}}=be,_e=Ge.queryAll;if(_e){const Fe={$table:e,$grid:W,sort:le.sortData,filters:le.filterData,form:le.formData,target:_e,options:Pe};return Promise.resolve((he||_e)(Fe)).catch(ke=>ke).then(ke=>(Pe.data=(Ye.list?n.get(ke,Ye.list):ke)||[],Ve&&Ve(Fe),ye(Pe)))}}}return ye(Pe)},importByFile(N,I){const P=Object.assign({},I),{beforeImportMethod:q}=P;return q&&q({options:P,$table:e}),re(N,P)},importData(N){const I=x.value,P=Object.assign({types:ot.globalConfs.importTypes},I,N),{beforeImportMethod:q,afterImportMethod:Y}=P;return q&&q({options:P,$table:e}),xs(P).catch(pe=>(Y&&Y({status:!1,options:P,$table:e}),Promise.reject(pe))).then(pe=>{const{file:De}=pe;return re(De,P)})},saveFile(N){return Cs(N)},readFile(N){return xs(N)},print(N){const I=g.value,P=Object.assign({original:!1},I,N,{type:"html",download:!1,remote:!1,print:!0});return P.sheetName||(P.sheetName=document.title),new Promise(q=>{P.content?q(pi(e,P,P.content)):q(J.exportData(P).then(({content:Y})=>pi(e,P,Y)))})},openImport(N){const{treeConfig:I,importConfig:P}=t,{initStore:q,importStore:Y,importParams:pe}=s,De=x.value,we=Object.assign({mode:"insert",message:!0,types:ot.globalConfs.importTypes},N,De),{types:Pe}=we;if(!!I){we.message&&ot.modal.message({content:m.i18n("vxe.error.treeNotImp"),status:"error"});return}P||Jt("vxe.error.reqProp",["import-config"]);const ae=Pe.map(Q=>({value:Q,label:`vxe.export.types.${Q}`})),k=we.modes.map(Q=>({value:Q,label:`vxe.import.modes.${Q}`}));Object.assign(Y,{file:null,type:"",filename:"",modeList:k,typeList:ae,visible:!0}),Object.assign(pe,we),q.import=!0},openExport(N){const I=p.value;se(Object.assign({},I,N))},openPrint(N){const I=g.value;se(Object.assign({},I,N),!0)}};return J},setupGrid(e){return e.extendTableMethods(Gc)}},Fa=e=>{const t=Object.assign({},e,{type:"html"});pi(null,t,t.content)},Di={ExportPanel:Ll,ImportPanel:Nl,install(e){ot.saveFile=Cs,ot.readFile=xs,ot.print=Fa,ot.setup({export:{types:{csv:0,html:0,xml:0,txt:0}}}),ot.hooks.add("$tableExport",Yc),e.component(Ll.name,Ll),e.component(Nl.name,Nl)}},Xc=Di;kt.component(Ll.name,Ll);kt.component(Nl.name,Nl);function Uc(e,t){let s=0,c=0;const h=!Io.firefox&&fn(e,"vxe-checkbox--label");if(h){const g=getComputedStyle(e);s-=n.toNumber(g.paddingTop),c-=n.toNumber(g.paddingLeft)}for(;e&&e!==t;)if(s+=e.offsetTop,c+=e.offsetLeft,e=e.offsetParent,h){const g=getComputedStyle(e);s-=n.toNumber(g.paddingTop),c-=n.toNumber(g.paddingLeft)}return{offsetTop:s,offsetLeft:c}}const Kc={setupTable(e){const{props:t,reactData:s,internalData:c}=e,{refElem:h}=e.getRefMaps(),{computeEditOpts:g,computeCheckboxOpts:p,computeMouseOpts:x,computeTreeOpts:i}=e.getComputeMaps();function f(W,V,T){let _=0,C=[];const S=T>0,E=T>0?T:Math.abs(T)+V.offsetHeight,{scrollYLoad:R}=s,{afterFullData:L,scrollYStore:j}=c;if(R){const F=e.getVTRowIndex(W.row);S?C=L.slice(F,F+Math.ceil(E/j.rowHeight)):C=L.slice(F-Math.floor(E/j.rowHeight)+1,F+1)}else{const F=S?"next":"previous";for(;V&&_<E;){const D=e.getRowNode(V);D&&(C.push(D.item),_+=V.offsetHeight,V=V[`${F}ElementSibling`])}}return C}const d=(W,V)=>{const{column:T,cell:_}=V;if(T.type==="checkbox"){const C=h.value,{elemStore:S}=c,E=W.clientX,R=W.clientY,L=S[`${T.fixed||"main"}-body-wrapper`]||S["main-body-wrapper"],j=L?L.value:null;if(!j)return;const F=j.querySelector(".vxe-table--checkbox-range"),D=document.onmousemove,H=document.onmouseup,ue=_.parentNode,Ce=e.getCheckboxRecords();let ye=[];const ne=1,re=Uc(W.target,j),se=re.offsetTop+W.offsetY,J=re.offsetLeft+W.offsetX,N=j.scrollTop,I=ue.offsetHeight;let P=null,q=!1,Y=1;const pe=($e,ae)=>{e.dispatchEvent(`checkbox-range-${$e}`,{records:e.getCheckboxRecords(),reserves:e.getCheckboxReserveRecords()},ae)},De=$e=>{const{clientX:ae,clientY:k}=$e,Q=ae-E,ie=k-R+(j.scrollTop-N);let fe=Math.abs(ie),Re=Math.abs(Q),te=se,ee=J;ie<ne?(te+=ie,te<ne&&(te=ne,fe=se)):fe=Math.min(fe,j.scrollHeight-se-ne),Q<ne?(ee+=Q,Re>J&&(ee=ne,Re=J)):Re=Math.min(Re,j.clientWidth-J-ne),F.style.height=`${fe}px`,F.style.width=`${Re}px`,F.style.left=`${ee}px`,F.style.top=`${te}px`,F.style.display="block";const le=f(V,ue,ie<ne?-fe:fe);fe>10&&le.length!==ye.length&&(ye=le,$e.ctrlKey?le.forEach(me=>{e.handleSelectRow({row:me},Ce.indexOf(me)===-1)}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(le,!0,!1)),pe("change",$e))},we=()=>{clearTimeout(P),P=null},Pe=$e=>{we(),P=setTimeout(()=>{if(P){const{scrollLeft:ae,scrollTop:k,clientHeight:Q,scrollHeight:ie}=j,fe=Math.ceil(Y*50/I);q?k+Q<ie?(e.scrollTo(ae,k+fe),Pe($e),De($e)):we():k?(e.scrollTo(ae,k-fe),Pe($e),De($e)):we()}},50)};cn(C,"drag--range"),document.onmousemove=$e=>{$e.preventDefault(),$e.stopPropagation();const{clientY:ae}=$e,{boundingTop:k}=Zo(j);ae<k?(q=!1,Y=k-ae,P||Pe($e)):ae>k+j.clientHeight?(q=!0,Y=ae-k-j.clientHeight,P||Pe($e)):P&&we(),De($e)},document.onmouseup=$e=>{we(),Do(C,"drag--range"),F.removeAttribute("style"),document.onmousemove=D,document.onmouseup=H,pe("end",$e)},pe("start",W)}},y=(W,V)=>{const{editConfig:T,checkboxConfig:_,mouseConfig:C}=t,S=p.value,E=x.value,R=g.value;if(C&&E.area&&e.handleCellAreaEvent)return e.handleCellAreaEvent(W,V);_&&S.range&&d(W,V),C&&E.selected&&(!T||R.mode==="cell")&&e.handleSelected(V,W)};return{moveTabSelected(W,V,T){const{editConfig:_}=t,{afterFullData:C,visibleColumn:S}=c,E=g.value;let R,L,j;const F=Object.assign({},W),D=e.getVTRowIndex(F.row),H=e.getVTColumnIndex(F.column);T.preventDefault(),V?H<=0?D>0&&(L=D-1,R=C[L],j=S.length-1):j=H-1:H>=S.length-1?D<C.length-1&&(L=D+1,R=C[L],j=0):j=H+1;const ue=S[j];ue&&(R?(F.rowIndex=L,F.row=R):F.rowIndex=D,F.columnIndex=j,F.column=ue,F.cell=e.getCell(F.row,F.column),_?(E.trigger==="click"||E.trigger==="dblclick")&&(E.mode==="row"?e.handleActived(F,T):e.scrollToRow(F.row,F.column).then(()=>e.handleSelected(F,T))):e.scrollToRow(F.row,F.column).then(()=>e.handleSelected(F,T)))},moveCurrentRow(W,V,T){const{treeConfig:_}=t,{currentRow:C}=s,{afterFullData:S}=c,E=i.value,R=E.children||E.childrenField;let L;if(T.preventDefault(),C)if(_){const{index:j,items:F}=n.findTree(S,D=>D===C,{children:R});W&&j>0?L=F[j-1]:V&&j<F.length-1&&(L=F[j+1])}else{const j=e.getVTRowIndex(C);W&&j>0?L=S[j-1]:V&&j<S.length-1&&(L=S[j+1])}else L=S[0];if(L){const j={$table:e,row:L,rowIndex:e.getRowIndex(L),$rowIndex:e.getVMRowIndex(L)};e.scrollToRow(L).then(()=>e.triggerCurrentRowEvent(T,j))}},moveSelected(W,V,T,_,C,S){const{afterFullData:E,visibleColumn:R}=c,L=Object.assign({},W),j=e.getVTRowIndex(L.row),F=e.getVTColumnIndex(L.column);S.preventDefault(),T&&j>0?(L.rowIndex=j-1,L.row=E[L.rowIndex]):C&&j<E.length-1?(L.rowIndex=j+1,L.row=E[L.rowIndex]):V&&F?(L.columnIndex=F-1,L.column=R[L.columnIndex]):_&&F<R.length-1&&(L.columnIndex=F+1,L.column=R[L.columnIndex]),e.scrollToRow(L.row,L.column).then(()=>{L.cell=e.getCell(L.row,L.column),e.handleSelected(L,S)})},triggerHeaderCellMousedownEvent(W,V){const{mouseConfig:T}=t,_=x.value;if(T&&_.area&&e.handleHeaderCellAreaEvent){const C=W.currentTarget,S=xt(W,C,"vxe-cell--sort").flag,E=xt(W,C,"vxe-cell--filter").flag;e.handleHeaderCellAreaEvent(W,Object.assign({cell:C,triggerSort:S,triggerFilter:E},V))}e.focus(),e.closeMenu&&e.closeMenu()},triggerCellMousedownEvent(W,V){const T=W.currentTarget;V.cell=T,y(W,V),e.focus(),e.closeFilter(),e.closeMenu&&e.closeMenu()}}}},Ii={install(){ot.hooks.add("$tableKeyboard",Kc)}},Zc=Ii;let Rl=class{constructor(t){Object.assign(this,{$options:t,required:t.required,min:t.min,max:t.max,type:t.type,pattern:t.pattern,validator:t.validator,trigger:t.trigger,maxWidth:t.maxWidth})}get content(){return jt(this.$options.content||this.$options.message)}get message(){return this.content}};const Jc=["fullValidate","validate","clearValidate"],Qc={setupTable(e){const{props:t,reactData:s,internalData:c}=e,{refValidTooltip:h}=e.getRefMaps(),{computeValidOpts:g,computeTreeOpts:p,computeEditOpts:x}=e.getComputeMaps();let i={},f={},d;const y=T=>new Promise(_=>{g.value.autoPos===!1?(e.dispatchEvent("valid-error",T,null),_()):e.handleActived(T,{type:"valid-error",trigger:"call"}).then(()=>{_(f.showValidTooltip(T))})}),$=T=>{if(g.value.msgMode==="single"){const C=Object.keys(T),S=T;if(C.length){const E=C[0];S[E]=T[E]}return S}return T},W=(T,_,C)=>{const S={},{editRules:E,treeConfig:R}=t,{afterFullData:L,visibleColumn:j}=c,F=p.value,D=F.children||F.childrenField,H=g.value;let ue;T===!0?ue=L:T&&(n.isFunction(T)?_=T:ue=n.isArray(T)?T:[T]),ue||(e.getInsertRecords?ue=e.getInsertRecords().concat(e.getUpdateRecords()):ue=[]);const Ce=[];c._lastCallTime=Date.now(),d=!1,i.clearValidate();const ye={};if(E){const ne=e.getColumns(),re=se=>{if(C||!d){const J=[];ne.forEach(N=>{(C||!d)&&n.has(E,N.property)&&J.push(f.validCellRules("all",se,N).catch(({rule:I,rules:P})=>{const q={rule:I,rules:P,rowIndex:e.getRowIndex(se),row:se,columnIndex:e.getColumnIndex(N),column:N,field:N.property,$table:e};if(S[N.property]||(S[N.property]=[]),ye[`${ze(e,se)}:${N.id}`]={column:N,row:se,rule:I,content:I.content},S[N.property].push(q),!C)return d=!0,Promise.reject(q)}))}),Ce.push(Promise.all(J))}};return R?n.eachTree(ue,re,{children:D}):ue.forEach(re),Promise.all(Ce).then(()=>{const se=Object.keys(S);return s.validErrorMaps=$(ye),oe().then(()=>{if(se.length)return Promise.reject(S[se[0]][0]);_&&_()})}).catch(se=>new Promise((J,N)=>{const I=()=>{oe(()=>{_?(_(S),J()):m.validToReject==="obsolete"?N(S):J(S)})},P=()=>{se.cell=e.getCell(se.row,se.column),Jr(se.cell),y(se).then(I)};if(H.autoPos===!1)I();else{const q=se.row,Y=se.column,pe=L.indexOf(q),De=j.indexOf(Y),we=pe>0?L[pe-1]:q,Pe=De>0?j[pe-1]:Y;e.scrollToRow(we,Pe).then(P)}}))}else s.validErrorMaps={};return oe().then(()=>{_&&_()})};i={fullValidate(T,_){return W(T,_,!0)},validate(T,_){return W(T,_)},clearValidate(T,_){const{validErrorMaps:C}=s,S=h.value,E=g.value,R=n.isArray(T)?T:T?[T]:[],L=n.isArray(_)?_:(_?[_]:[]).map(F=>bo(e,F));let j={};if(S&&S.reactData.visible&&S.close(),E.msgMode==="single")return s.validErrorMaps={},oe();if(R.length&&L.length)j=Object.assign({},C),R.forEach(F=>{L.forEach(D=>{const H=`${ze(e,F)}:${D.id}`;j[H]&&delete j[H]})});else if(R.length){const F=R.map(D=>`${ze(e,D)}`);n.each(C,(D,H)=>{F.indexOf(H.split(":")[0])>-1&&(j[H]=D)})}else if(L.length){const F=L.map(D=>`${D.id}`);n.each(C,(D,H)=>{F.indexOf(H.split(":")[1])>-1&&(j[H]=D)})}return s.validErrorMaps=j,oe()}};const V=(T,_)=>{const{type:C,min:S,max:E,pattern:R}=T,L=C==="number",j=L?n.toNumber(_):n.getSize(_);return!!(L&&isNaN(_)||!n.eqNull(S)&&j<n.toNumber(S)||!n.eqNull(E)&&j>n.toNumber(E)||R&&!(n.isRegExp(R)?R:new RegExp(R)).test(_))};return f={validCellRules(T,_,C,S){const{editRules:E}=t,{field:R}=C,L=[],j=[];if(R&&E){const F=n.get(E,R);if(F){const D=n.isUndefined(S)?n.get(_,R):S;F.forEach(H=>{const{type:ue,trigger:Ce,required:ye,validator:ne}=H;if(T==="all"||!Ce||T===Ce)if(ne){const re={cellValue:D,rule:H,rules:F,row:_,rowIndex:e.getRowIndex(_),column:C,columnIndex:e.getColumnIndex(C),field:C.field,$table:e,$grid:e.xegrid};let se;if(n.isString(ne)){const J=ot.validators.get(ne);J&&J.cellValidatorMethod&&(se=J.cellValidatorMethod(re))}else se=ne(re);se&&(n.isError(se)?(d=!0,L.push(new Rl({type:"custom",trigger:Ce,content:se.message,rule:new Rl(H)}))):se.catch&&j.push(se.catch(J=>{d=!0,L.push(new Rl({type:"custom",trigger:Ce,content:J&&J.message?J.message:H.content||H.message,rule:new Rl(H)}))})))}else{const re=ue==="array",se=n.isArray(D);let J=!0;re||se?J=!se||!D.length:n.isString(D)?J=qo(D.trim()):J=qo(D),(ye?J||V(H,D):!J&&V(H,D))&&(d=!0,L.push(new Rl(H)))}})}}return Promise.all(j).then(()=>{if(L.length){const F={rules:L,rule:L[0]};return Promise.reject(F)}})},hasCellRules(T,_,C){const{editRules:S}=t,{field:E}=C;if(E&&S){const R=n.get(S,E);return R&&!!n.find(R,L=>T==="all"||!L.trigger||T===L.trigger)}return!1},triggerValidate(T){const{editConfig:_,editRules:C}=t,{editStore:S}=s,{actived:E}=S,R=x.value,L=g.value;if(C&&L.msgMode==="single"&&(s.validErrorMaps={}),_&&C&&E.row){const{row:j,column:F,cell:D}=E.args;if(f.hasCellRules(T,j,F))return f.validCellRules(T,j,F).then(()=>{R.mode==="row"&&i.clearValidate(j,F)}).catch(({rule:H})=>{if(!H.trigger||T===H.trigger){const ue={rule:H,row:j,column:F,cell:D};return f.showValidTooltip(ue),Promise.reject(ue)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip(T){const{height:_}=t,{tableData:C,validStore:S,validErrorMaps:E}=s,{rule:R,row:L,column:j,cell:F}=T,D=g.value,H=h.value,ue=R.content;return S.visible=!0,D.msgMode==="single"?s.validErrorMaps={[`${ze(e,L)}:${j.id}`]:{column:j,row:L,rule:R,content:ue}}:s.validErrorMaps=Object.assign({},E,{[`${ze(e,L)}:${j.id}`]:{column:j,row:L,rule:R,content:ue}}),e.dispatchEvent("valid-error",T,null),H&&H&&(D.message==="tooltip"||D.message==="default"&&!_&&C.length<2)?H.open(F,ue):oe()}},Object.assign(Object.assign({},i),f)},setupGrid(e){return e.extendTableMethods(Jc)}},Fi={install(){ot.hooks.add("$tableValidator",Qc)}},ed=Fi,rl=Rt({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:()=>m.tooltip.size||m.size},trigger:{type:String,default:()=>m.tooltip.trigger||"hover"},theme:{type:String,default:()=>m.tooltip.theme||"dark"},content:{type:[String,Number],default:null},useHTML:Boolean,zIndex:[String,Number],popupClassName:[String,Function],isArrow:{type:Boolean,default:!0},enterable:Boolean,enterDelay:{type:Number,default:()=>m.tooltip.enterDelay},leaveDelay:{type:Number,default:()=>m.tooltip.leaveDelay}},emits:["update:modelValue"],setup(e,t){const{slots:s,emit:c}=t,h=n.uniqueId(),g=Qt(e),p=zt({target:null,isUpdate:!1,visible:!1,tipContent:"",tipActive:!1,tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),x=Xe(),i={refElem:x},f={xID:h,props:e,context:t,reactData:p,getRefMaps:()=>i};let d={};const y=()=>{const{tipTarget:F,tipStore:D}=p;if(F){const{scrollTop:H,scrollLeft:ue,visibleWidth:Ce}=wn(),{top:ye,left:ne}=Zo(F),re=x.value,se=6,J=re.offsetHeight,N=re.offsetWidth;let I=ne,P=ye-J-se;I=Math.max(se,ne+Math.floor((F.offsetWidth-N)/2)),I+N+se>ue+Ce&&(I=ue+Ce-N-se),ye-J<H+se&&(D.placement="bottom",P=ye+F.offsetHeight+se),D.style.top=`${P}px`,D.style.left=`${I}px`,D.arrowStyle.left=`${ne-I+F.offsetWidth/2}px`}},$=F=>{F!==p.visible&&(p.visible=F,p.isUpdate=!0,c("update:modelValue",F))},W=()=>{p.tipZindex<pn()&&(p.tipZindex=en())},V=()=>{p.visible?d.close():d.open()},T=()=>{d.open()},_=()=>{const{trigger:F,enterable:D,leaveDelay:H}=e;p.tipActive=!1,D&&F==="hover"?setTimeout(()=>{p.tipActive||d.close()},H):d.close()},C=()=>{p.tipActive=!0},S=()=>{const{trigger:F,enterable:D,leaveDelay:H}=e;p.tipActive=!1,D&&F==="hover"&&setTimeout(()=>{p.tipActive||d.close()},H)},E=()=>{const{tipStore:F}=p,D=x.value;return D&&(D.parentNode||document.body.appendChild(D)),$(!0),W(),F.placement="top",F.style={width:"auto",left:0,top:0,zIndex:e.zIndex||p.tipZindex},F.arrowStyle={left:"50%"},d.updatePlacement()},R=n.debounce(()=>{p.tipActive&&E()},e.enterDelay,{leading:!1,trailing:!0});d={dispatchEvent(F,D,H){c(F,Object.assign({$tooltip:f,$event:H},D))},open(F,D){return d.toVisible(F||p.target,D)},close(){return p.tipTarget=null,p.tipActive=!1,Object.assign(p.tipStore,{style:{},placement:"",arrowStyle:null}),$(!1),oe()},toVisible(F,D){if(F){const{trigger:H,enterDelay:ue}=e;if(p.tipActive=!0,p.tipTarget=F,D&&(p.tipContent=D),ue&&H==="hover")R();else return E()}return oe()},updatePlacement(){return oe().then(()=>{const{tipTarget:F}=p,D=x.value;if(F&&D)return y(),oe().then(y)})},isActived(){return p.tipActive},setActived(F){p.tipActive=!!F}},Object.assign(f,d),at(()=>e.content,()=>{p.tipContent=e.content}),at(()=>e.modelValue,()=>{p.isUpdate||(e.modelValue?d.open():d.close()),p.isUpdate=!1}),po(()=>{oe(()=>{const{trigger:F,content:D,modelValue:H}=e,ue=x.value;if(ue){const Ce=ue.parentNode;if(Ce){p.tipContent=D,p.tipZindex=en(),n.arrayEach(ue.children,(ne,re)=>{re>1&&(Ce.insertBefore(ne,ue),p.target||(p.target=ne))}),Ce.removeChild(ue);const{target:ye}=p;ye&&(F==="hover"?(ye.onmouseenter=T,ye.onmouseleave=_):F==="click"&&(ye.onclick=V)),H&&d.open()}}})}),hi(()=>{const{trigger:F}=e,{target:D}=p,H=x.value;if(D&&(F==="hover"?(D.onmouseenter=null,D.onmouseleave=null):F==="click"&&(D.onclick=null)),H){const ue=H.parentNode;ue&&ue.removeChild(H)}});const L=()=>{const{useHTML:F}=e,{tipContent:D}=p,H=s.content;return H?r("div",{key:1,class:"vxe-table--tooltip-content"},$t(H({}))):F?r("div",{key:2,class:"vxe-table--tooltip-content",innerHTML:D}):r("div",{key:3,class:"vxe-table--tooltip-content"},Yt(D))},j=()=>{const{popupClassName:F,theme:D,isArrow:H,enterable:ue}=e,{tipActive:Ce,visible:ye,tipStore:ne}=p,re=s.default,se=g.value;let J;return ue&&(J={onMouseenter:C,onMouseleave:S}),r("div",Object.assign({ref:x,class:["vxe-table--tooltip-wrapper",`theme--${D}`,F?n.isFunction(F)?F({$tooltip:f}):F:"",{[`size--${se}`]:se,[`placement--${ne.placement}`]:ne.placement,"is--enterable":ue,"is--visible":ye,"is--arrow":H,"is--active":Ce}],style:ne.style},J),[L(),r("div",{class:"vxe-table--tooltip-arrow",style:ne.arrowStyle}),...re?$t(re({})):[]])};return f.renderVN=j,f},render(){return this.renderVN()}}),Pl=Rt({name:"VxeTableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e){const t=mt("$xetable",{}),{reactData:s}=t,{computeCustomOpts:c,computeColumnOpts:h,computeIsMaxFixedColumn:g}=t.getComputeMaps(),p=Xe(),x=Xe(),i=Xe(),f=Xe();let d;const y=J=>{const{customStore:N}=e;N.activeWrapper=!0,t.customOpenEvent(J)},$=J=>{const{customStore:N}=e;N.activeWrapper=!1,setTimeout(()=>{!N.activeBtn&&!N.activeWrapper&&t.customColseEvent(J)},300)},W=J=>{H(),t.closeCustom(),t.emitCustomEvent("confirm",J)},V=J=>{t.closeCustom(),t.emitCustomEvent("cancel",J)},T=J=>{t.resetColumn(!0),t.closeCustom(),t.emitCustomEvent("reset",J)},_=J=>{ot.modal?ot.modal.confirm({content:m.i18n("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(N=>{N==="confirm"&&T(J)}):T(J)},C=J=>{const{customColumnList:N}=s,I=n.findTree(N,P=>P===J);if(I&&I.parent){const{parent:P}=I;P.children&&P.children.length&&(P.visible=P.children.every(q=>q.visible),P.halfVisible=!P.visible&&P.children.some(q=>q.visible||q.halfVisible),C(P))}},S=J=>{const N=!J.visible,I=c.value;n.eachTree([J],P=>{P.visible=N,P.halfVisible=!1}),C(J),I.immediate&&t.handleCustom(),t.checkCustomStatus()},E=(J,N)=>{const I=g.value;J.fixed===N?t.clearColumnFixed(J):(!I||J.fixed)&&t.setColumnFixed(J,N)},R=J=>{g.value||t.setColumnFixed(J,J.fixed)},L=()=>{const{customStore:J}=e,{customColumnList:N}=s,I=c.value,{checkMethod:P}=I,q=!J.isAll;n.eachTree(N,Y=>{(!P||P({column:Y}))&&(Y.visible=q,Y.halfVisible=!1)}),J.isAll=q,t.checkCustomStatus()},j=J=>{const P=J.currentTarget.parentNode.parentNode,q=P.getAttribute("colid"),Y=t.getColumnById(q);P.draggable=!0,f.value=Y,cn(P,"active--drag-origin")},F=J=>{const P=J.currentTarget.parentNode.parentNode,q=i.value;P.draggable=!1,f.value=null,Do(P,"active--drag-origin"),q&&(q.style.display="")},D=J=>{const N=new Image;J.dataTransfer&&J.dataTransfer.setDragImage(N,0,0)},H=()=>{const{customColumnList:J}=s;J.forEach((N,I)=>{const P=I+1;N.renderSortNumber=P})},ue=J=>{const{customColumnList:N}=s,I=J.currentTarget,P=i.value;if(d){if(d!==I){const q=d.getAttribute("drag-pos"),Y=I.getAttribute("colid"),pe=t.getColumnById(Y);if(!pe)return;const De=n.findIndexOf(N,ae=>ae.id===pe.id),we=d.getAttribute("colid"),Pe=t.getColumnById(we);if(!Pe)return;N.splice(De,1);const $e=n.findIndexOf(N,ae=>ae.id===Pe.id);N.splice($e+(q==="bottom"?1:0),0,pe)}d.draggable=!1,d.removeAttribute("drag-pos"),Do(d,"active--drag-target")}f.value=null,I.draggable=!1,I.removeAttribute("drag-pos"),P&&(P.style.display=""),Do(I,"active--drag-target"),Do(I,"active--drag-origin"),H()},Ce=J=>{const N=J.currentTarget;d!==N&&Do(d,"active--drag-target");const I=N.getAttribute("colid"),P=t.getColumnById(I);if(P&&P.level===1){J.preventDefault();const Y=J.clientY-N.getBoundingClientRect().y<N.clientHeight/2?"top":"bottom";cn(N,"active--drag-target"),N.setAttribute("drag-pos",Y),d=N}ye(J)},ye=J=>{const N=i.value,I=x.value;if(I&&N){const P=I.parentNode,q=P.getBoundingClientRect();N.style.display="block",N.style.top=`${Math.min(P.clientHeight-P.scrollTop-N.clientHeight,J.clientY-q.y)}px`,N.style.left=`${Math.min(P.clientWidth-P.scrollLeft-N.clientWidth-16,J.clientX-q.x)}px`}},ne=()=>{const{customStore:J}=e,{customColumnList:N}=s,I=c.value,{maxHeight:P}=J,{checkMethod:q,visibleMethod:Y,trigger:pe}=I,De=g.value,we=[],Pe={};pe==="hover"&&(Pe.onMouseenter=y,Pe.onMouseleave=$),n.eachTree(N,(k,Q,ie,fe,Re)=>{if(Y?Y({column:k}):!0){const ee=k.visible,le=k.halfVisible,me=k.children&&k.children.length,be=Yt(k.getTitle(),1),he=q?!q({column:k}):!1;we.push(r("li",{key:k.id,class:["vxe-table-custom--option",`level--${k.level}`,{"is--group":me}]},[r("div",{title:be,class:["vxe-table-custom--checkbox-option",{"is--checked":ee,"is--indeterminate":le,"is--disabled":he}],onClick:()=>{he||S(k)}},[r("span",{class:["vxe-checkbox--icon",le?m.icon.TABLE_CHECKBOX_INDETERMINATE:ee?m.icon.TABLE_CHECKBOX_CHECKED:m.icon.TABLE_CHECKBOX_UNCHECKED]}),r("span",{class:"vxe-checkbox--label"},be)]),!Re&&I.allowFixed?r("div",{class:"vxe-table-custom--fixed-option"},[r("span",{class:["vxe-table-custom--fixed-left-option",k.fixed==="left"?m.icon.TOOLBAR_TOOLS_FIXED_LEFT_ACTIVED:m.icon.TOOLBAR_TOOLS_FIXED_LEFT,{"is--checked":k.fixed==="left","is--disabled":De&&!k.fixed}],title:m.i18n(k.fixed==="left"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:()=>{E(k,"left")}}),r("span",{class:["vxe-table-custom--fixed-right-option",k.fixed==="right"?m.icon.TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVED:m.icon.TOOLBAR_TOOLS_FIXED_RIGHT,{"is--checked":k.fixed==="right","is--disabled":De&&!k.fixed}],title:m.i18n(k.fixed==="right"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:()=>{E(k,"right")}})]):null]))}});const $e=J.isAll,ae=J.isIndeterminate;return r("div",{ref:p,key:"simple",class:["vxe-table-custom-wrapper",{"is--active":J.visible}]},[r("ul",{class:"vxe-table-custom--header"},[r("li",{class:"vxe-table-custom--option"},[r("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":$e,"is--indeterminate":ae}],title:m.i18n("vxe.table.allTitle"),onClick:L},[r("span",{class:["vxe-checkbox--icon",ae?m.icon.TABLE_CHECKBOX_INDETERMINATE:$e?m.icon.TABLE_CHECKBOX_CHECKED:m.icon.TABLE_CHECKBOX_UNCHECKED]}),r("span",{class:"vxe-checkbox--label"},m.i18n("vxe.toolbar.customAll"))])])]),r("ul",Object.assign({class:"vxe-table-custom--body",style:P?{maxHeight:`${P}px`}:{}},Pe),we),I.showFooter?r("div",{class:"vxe-table-custom--footer"},[r("button",{class:"btn--reset",onClick:T},I.resetButtonText||m.i18n("vxe.toolbar.customRestore")),r("button",{class:"btn--confirm",onClick:W},I.confirmButtonText||m.i18n("vxe.toolbar.customConfirm"))]):null])},re=()=>{const{customStore:J}=e,{customColumnList:N}=s,I=c.value,{checkMethod:P,visibleMethod:q}=I,Y=h.value,pe=g.value,De=[];return n.eachTree(N,(we,Pe,$e,ae,k)=>{if(q?q({column:we}):!0){const ie=we.visible,fe=we.halfVisible,Re=Yt(we.getTitle(),1),te=we.children&&we.children.length,ee=P?!P({column:we}):!1;De.push(r("tr",{key:we.id,colid:we.id,class:[`vxe-table-custom-popup--row level--${we.level}`,{"is--group":te}],onDragstart:D,onDragend:ue,onDragover:Ce},[r("td",{class:"vxe-table-custom-popup--column-item col--sort"},[we.level===1?r("span",{class:"vxe-table-custom-popup--column-sort-btn",onMousedown:j,onMouseup:F},[r("i",{class:"vxe-icon-sort"})]):null]),r("td",{class:"vxe-table-custom-popup--column-item col--name"},[r("div",{class:"vxe-table-custom-popup--name",title:Re},Re)]),r("td",{class:"vxe-table-custom-popup--column-item col--visible"},[r("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":ie,"is--indeterminate":fe,"is--disabled":ee}],onClick:()=>{ee||S(we)}},[r("span",{class:["vxe-checkbox--icon",fe?m.icon.TABLE_CHECKBOX_INDETERMINATE:ie?m.icon.TABLE_CHECKBOX_CHECKED:m.icon.TABLE_CHECKBOX_UNCHECKED]})])]),r("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[!k&&I.allowFixed?r(_n,{modelValue:we.fixed||"",type:"button",size:"mini",options:[{label:m.i18n("vxe.custom.setting.fixedLeft"),value:"left",disabled:pe},{label:m.i18n("vxe.custom.setting.fixedUnset"),value:""},{label:m.i18n("vxe.custom.setting.fixedRight"),value:"right",disabled:pe}],"onUpdate:modelValue"(le){we.fixed=le},onChange(){R(we)}}):null])]))}}),r(Sn,{key:"popup",className:"vxe-table-custom-popup-wrapper vxe-table--ignore-clear",modelValue:J.visible,title:m.i18n("vxe.custom.cstmTitle"),width:"40vw",minWidth:520,height:"50vh",minHeight:300,mask:!0,lockView:!0,showFooter:!0,resize:!0,escClosable:!0,destroyOnClose:!0,"onUpdate:modelValue"(we){J.visible=we}},{default:()=>r("div",{ref:x,class:"vxe-table-custom-popup--body"},[r("div",{class:"vxe-table-custom-popup--table-wrapper"},[r("table",{},[r("colgroup",{},[r("col",{style:{width:"80px"}}),r("col",{}),r("col",{style:{width:"80px"}}),r("col",{style:{width:"200px"}})]),r("thead",{},[r("tr",{},[r("th",{},[r("span",{class:"vxe-table-custom-popup--table-sort-help-title"},m.i18n("vxe.custom.setting.colSort")),r(rl,{enterable:!0,content:m.i18n("vxe.custom.setting.sortHelpTip")},{default:()=>r("i",{class:"vxe-table-custom-popup--table-sort-help-icon vxe-icon-question-circle-fill"})})]),r("th",{},m.i18n("vxe.custom.setting.colTitle")),r("th",{},m.i18n("vxe.custom.setting.colVisible")),r("th",{},m.i18n("vxe.custom.setting.colFixed",[Y.maxFixedSize||0]))])]),r(Ja,{class:"vxe-table-custom--body",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>De})])]),r("div",{ref:i,class:"vxe-table-custom-popup--drag-hint"},m.i18n("vxe.custom.cstmDragTarget",[f.value?f.value.getTitle():""]))]),footer:()=>r("div",{class:"vxe-table-custom-popup--footer"},[r(xo,{content:I.resetButtonText||m.i18n("vxe.custom.cstmRestore"),onClick:_}),r(xo,{content:I.resetButtonText||m.i18n("vxe.custom.cstmCancel"),onClick:V}),r(xo,{status:"primary",content:I.confirmButtonText||m.i18n("vxe.custom.cstmConfirm"),onClick:W})])})};return()=>c.value.mode==="popup"?re():ne()}}),td=["openCustom","closeCustom"],od={setupTable(e){const{reactData:t,internalData:s}=e,{computeCustomOpts:c}=e.getComputeMaps(),{refTableHeader:h,refTableBody:g,refTableCustom:p}=e.getRefMaps(),x=e.xegrid,i=()=>{const{customStore:T}=t,_=h.value,C=g.value,S=p.value,E=S?S.$el:null,R=_.$el,L=C.$el;let j=0;R&&(j+=R.clientHeight),L&&(j+=L.clientHeight),T.maxHeight=Math.max(0,E?Math.min(E.clientHeight,j-80):0)},f=()=>{const{initStore:T,customStore:_}=t;return _.visible=!0,T.custom=!0,t.customColumnList=s.collectColumn.slice(0),$(),i(),oe().then(()=>i())},d=()=>{const{customStore:T}=t,_=c.value;return T.visible&&(T.visible=!1,_.immediate||e.handleCustom()),oe()},y={openCustom:f,closeCustom:d},$=()=>{const{customStore:T}=t,{collectColumn:_}=s,C=c.value,{checkMethod:S}=C;T.isAll=_.every(E=>(S?!S({column:E}):!1)||E.visible),T.isIndeterminate=!T.isAll&&_.some(E=>(!S||S({column:E}))&&(E.visible||E.halfVisible))},W=(T,_)=>{(x||e).dispatchEvent("custom",{type:T},_)},V={checkCustomStatus:$,emitCustomEvent:W,triggerCustomEvent(T){const{customStore:_}=e.reactData;_.visible?(d(),W("close",T)):(_.btnEl=T.target,f(),W("open",T))},customOpenEvent(T){const{customStore:_}=t;_.visible||(_.activeBtn=!0,_.btnEl=T.target,e.openCustom(),e.emitCustomEvent("open",T))},customColseEvent(T){const{customStore:_}=t;_.visible&&(_.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",T))}};return Object.assign(Object.assign({},y),V)},setupGrid(e){return e.extendTableMethods(td)}},Li={Panel:Pl,install(e){ot.hooks.add("$tableCustom",od),e.component(Pl.name,Pl)}},nd=Li;kt.component(Pl.name,Pl);const ti=Rt({name:"VxeIcon",props:{name:String,roll:Boolean,status:String},emits:["click"],setup(e,{emit:t}){const s=c=>{t("click",{$event:c})};return()=>{const{name:c,roll:h,status:g}=e;return r("i",{class:[`vxe-icon-${c}`,h?"roll":"",g?[`theme--${g}`]:""],onClick:s})}}}),Jl=Object.assign(ti,{install(e){e.component(ti.name,ti)}}),ld=Jl;kt.component(Jl.name,Jl);function sd(e){const{$table:t,column:s}=e,c=s.titlePrefix||s.titleHelp;return c?[r("i",{class:["vxe-cell-title-prefix-icon",c.icon||m.icon.TABLE_TITLE_PREFIX],onMouseenter(h){t.triggerHeaderTitleEvent(h,c,e)},onMouseleave(h){t.handleTargetLeaveEvent(h)}})]:[]}function id(e){const{$table:t,column:s}=e,c=s.titleSuffix;return c?[r("i",{class:["vxe-cell-title-suffix-icon",c.icon||m.icon.TABLE_TITLE_SUFFIX],onMouseenter(h){t.triggerHeaderTitleEvent(h,c,e)},onMouseleave(h){t.handleTargetLeaveEvent(h)}})]:[]}function yn(e,t){const{$table:s,column:c}=e,{props:h,reactData:g}=s,{computeTooltipOpts:p}=s.getComputeMaps(),{showHeaderOverflow:x}=h,{type:i,showHeaderOverflow:f}=c,y=p.value.showAll,$=n.isUndefined(f)||n.isNull(f)?x:f,W=$==="title",V=$===!0||$==="tooltip",T={};return(W||V||y)&&(T.onMouseenter=_=>{g._isResize||(W?xi(_.currentTarget,c):(V||y)&&s.triggerHeaderTooltipEvent(_,e))}),(V||y)&&(T.onMouseleave=_=>{g._isResize||(V||y)&&s.handleTargetLeaveEvent(_)}),[i==="html"&&n.isString(t)?r("span",Object.assign({class:"vxe-cell--title",innerHTML:t},T)):r("span",Object.assign({class:"vxe-cell--title"},T),$t(t))]}function rd(e){const{$table:t,column:s,_columnIndex:c,items:h,row:g}=e,{slots:p,editRender:x,cellRender:i}=s,f=x||i,d=p?p.footer:null;if(d)return t.callSlot(d,e);if(f){const y=ot.renderer.get(f.name);if(y&&y.renderFooter)return $t(y.renderFooter(f,e))}return n.isArray(h)?[Yt(h[c],1)]:[Yt(n.get(g,s.field),1)]}function Pr(e){const{$table:t,row:s,column:c}=e;return Yt(t.getCellLabel(s,c),1)}const rt={createColumn(e,t){const{type:s,sortable:c,filters:h,editRender:g,treeNode:p}=t,{props:x}=e,{editConfig:i}=x,{computeEditOpts:f,computeCheckboxOpts:d}=e.getComputeMaps(),y=d.value,$=f.value,W={renderHeader:rt.renderDefaultHeader,renderCell:p?rt.renderTreeCell:rt.renderDefaultCell,renderFooter:rt.renderDefaultFooter};switch(s){case"seq":W.renderHeader=rt.renderSeqHeader,W.renderCell=p?rt.renderTreeIndexCell:rt.renderSeqCell;break;case"radio":W.renderHeader=rt.renderRadioHeader,W.renderCell=p?rt.renderTreeRadioCell:rt.renderRadioCell;break;case"checkbox":W.renderHeader=rt.renderCheckboxHeader,W.renderCell=y.checkField?p?rt.renderTreeSelectionCellByProp:rt.renderCheckboxCellByProp:p?rt.renderTreeSelectionCell:rt.renderCheckboxCell;break;case"expand":W.renderCell=rt.renderExpandCell,W.renderData=rt.renderExpandData;break;case"html":W.renderCell=p?rt.renderTreeHTMLCell:rt.renderHTMLCell,h&&c?W.renderHeader=rt.renderSortAndFilterHeader:c?W.renderHeader=rt.renderSortHeader:h&&(W.renderHeader=rt.renderFilterHeader);break;default:i&&g?(W.renderHeader=rt.renderEditHeader,W.renderCell=$.mode==="cell"?p?rt.renderTreeCellEdit:rt.renderCellEdit:p?rt.renderTreeRowEdit:rt.renderRowEdit):h&&c?W.renderHeader=rt.renderSortAndFilterHeader:c?W.renderHeader=rt.renderSortHeader:h&&(W.renderHeader=rt.renderFilterHeader)}return ic(e,t,W)},renderHeaderTitle(e){const{$table:t,column:s}=e,{slots:c,editRender:h,cellRender:g}=s,p=h||g,x=c?c.header:null;if(x)return yn(e,t.callSlot(x,e));if(p){const i=ot.renderer.get(p.name);if(i&&i.renderHeader)return yn(e,$t(i.renderHeader(p,e)))}return yn(e,Yt(s.getTitle(),1))},renderDefaultHeader(e){return sd(e).concat(rt.renderHeaderTitle(e)).concat(id(e))},renderDefaultCell(e){const{$table:t,row:s,column:c}=e,{slots:h,editRender:g,cellRender:p}=c,x=g||p,i=h?h.default:null;if(i)return t.callSlot(i,e);if(x){const y=g?"renderCell":"renderDefault",$=ot.renderer.get(x.name),W=$?$[y]:null;if(W)return $t(W(x,Object.assign({$type:g?"edit":"cell"},e)))}const f=t.getCellLabel(s,c),d=g?g.placeholder:"";return[r("span",{class:"vxe-cell--label"},g&&qo(f)?[r("span",{class:"vxe-cell--placeholder"},Yt(jt(d),1))]:Yt(f,1))]},renderTreeCell(e){return rt.renderTreeIcon(e,rt.renderDefaultCell(e))},renderDefaultFooter(e){return[r("span",{class:"vxe-cell--item"},rd(e))]},renderTreeIcon(e,t){const{$table:s,isHidden:c}=e,{reactData:h}=s,{computeTreeOpts:g}=s.getComputeMaps(),{treeExpandedMaps:p,treeExpandLazyLoadedMaps:x}=h,i=g.value,{row:f,column:d,level:y}=e,{slots:$}=d,{indent:W,lazy:V,trigger:T,iconLoaded:_,showIcon:C,iconOpen:S,iconClose:E}=i,R=i.children||i.childrenField,L=i.hasChild||i.hasChildField,j=f[R],F=$?$.icon:null;let D=!1,H=!1,ue=!1;const Ce={};if(F)return s.callSlot(F,e);if(!c){const ye=ze(s,f);H=!!p[ye],V&&(ue=!!x[ye],D=f[L])}return(!T||T==="default")&&(Ce.onClick=ye=>{ye.stopPropagation(),s.triggerTreeExpandEvent(ye,e)}),[r("div",{class:["vxe-cell--tree-node",{"is--active":H}],style:{paddingLeft:`${y*W}px`}},[C&&(j&&j.length||D)?[r("div",Object.assign({class:"vxe-tree--btn-wrapper"},Ce),[r("i",{class:["vxe-tree--node-btn",ue?_||m.icon.TABLE_TREE_LOADED:H?S||m.icon.TABLE_TREE_OPEN:E||m.icon.TABLE_TREE_CLOSE]})])]:null,r("div",{class:"vxe-tree-cell"},t)])]},renderSeqHeader(e){const{$table:t,column:s}=e,{slots:c}=s,h=c?c.header:null;return yn(e,h?t.callSlot(h,e):Yt(s.getTitle(),1))},renderSeqCell(e){const{$table:t,column:s}=e,{props:c}=t,{treeConfig:h}=c,{computeSeqOpts:g}=t.getComputeMaps(),p=g.value,{slots:x}=s,i=x?x.default:null;if(i)return t.callSlot(i,e);const{seq:f}=e,d=p.seqMethod;return[Yt(d?d(e):h?f:(p.startIndex||0)+f,1)]},renderTreeIndexCell(e){return rt.renderTreeIcon(e,rt.renderSeqCell(e))},renderRadioHeader(e){const{$table:t,column:s}=e,{slots:c}=s,h=c?c.header:null,g=c?c.title:null;return yn(e,h?t.callSlot(h,e):[r("span",{class:"vxe-radio--label"},g?t.callSlot(g,e):Yt(s.getTitle(),1))])},renderRadioCell(e){const{$table:t,column:s,isHidden:c}=e,{reactData:h}=t,{computeRadioOpts:g}=t.getComputeMaps(),{selectRadioRow:p}=h,x=g.value,{slots:i}=s,{labelField:f,checkMethod:d,visibleMethod:y}=x,{row:$}=e,W=i?i.default:null,V=i?i.radio:null,T=t.eqRow($,p),_=!y||y({row:$});let C=!!d,S;c||(S={onClick(L){!C&&_&&(L.stopPropagation(),t.triggerRadioRowEvent(L,e))}},d&&(C=!d({row:$})));const E=Object.assign(Object.assign({},e),{checked:T,disabled:C,visible:_});if(V)return t.callSlot(V,E);const R=[];return _&&R.push(r("span",{class:["vxe-radio--icon",T?m.icon.TABLE_RADIO_CHECKED:m.icon.TABLE_RADIO_UNCHECKED]})),(W||f)&&R.push(r("span",{class:"vxe-radio--label"},W?t.callSlot(W,E):n.get($,f))),[r("span",Object.assign({class:["vxe-cell--radio",{"is--checked":T,"is--disabled":C}]},S),R)]},renderTreeRadioCell(e){return rt.renderTreeIcon(e,rt.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:t,column:s,isHidden:c}=e,{reactData:h}=t,{computeIsAllCheckboxDisabled:g,computeCheckboxOpts:p}=t.getComputeMaps(),{isAllSelected:x,isIndeterminate:i}=h,f=g.value,{slots:d}=s,y=d?d.header:null,$=d?d.title:null,W=p.value,V=s.getTitle();let T;c||(T={onClick(C){f||(C.stopPropagation(),t.triggerCheckAllEvent(C,!x))}});const _=Object.assign(Object.assign({},e),{checked:x,disabled:f,indeterminate:i});return y?yn(_,t.callSlot(y,_)):(W.checkStrictly?!W.showHeader:W.showHeader===!1)?yn(_,[r("span",{class:"vxe-checkbox--label"},$?t.callSlot($,_):V)]):yn(_,[r("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":x,"is--disabled":f,"is--indeterminate":i}],title:m.i18n("vxe.table.allTitle")},T),[r("span",{class:["vxe-checkbox--icon",i?m.icon.TABLE_CHECKBOX_INDETERMINATE:x?m.icon.TABLE_CHECKBOX_CHECKED:m.icon.TABLE_CHECKBOX_UNCHECKED]})].concat($||V?[r("span",{class:"vxe-checkbox--label"},$?t.callSlot($,_):V)]:[]))])},renderCheckboxCell(e){const{$table:t,row:s,column:c,isHidden:h}=e,{props:g,reactData:p}=t,{treeConfig:x}=g,{selectCheckboxMaps:i,treeIndeterminateMaps:f}=p,{computeCheckboxOpts:d}=t.getComputeMaps(),y=d.value,{labelField:$,checkMethod:W,visibleMethod:V}=y,{slots:T}=c,_=T?T.default:null,C=T?T.checkbox:null;let S=!1,E=!1;const R=!V||V({row:s});let L=!!W,j;if(!h){const H=ze(t,s);E=!!i[H],j={onClick(ue){!L&&R&&(ue.stopPropagation(),t.triggerCheckRowEvent(ue,e,!E))}},W&&(L=!W({row:s})),x&&(S=!!f[H])}const F=Object.assign(Object.assign({},e),{checked:E,disabled:L,visible:R,indeterminate:S});if(C)return t.callSlot(C,F);const D=[];return R&&D.push(r("span",{class:["vxe-checkbox--icon",S?m.icon.TABLE_CHECKBOX_INDETERMINATE:E?m.icon.TABLE_CHECKBOX_CHECKED:m.icon.TABLE_CHECKBOX_UNCHECKED]})),(_||$)&&D.push(r("span",{class:"vxe-checkbox--label"},_?t.callSlot(_,F):n.get(s,$))),[r("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":E,"is--disabled":L,"is--indeterminate":S,"is--hidden":!R}]},j),D)]},renderTreeSelectionCell(e){return rt.renderTreeIcon(e,rt.renderCheckboxCell(e))},renderCheckboxCellByProp(e){const{$table:t,row:s,column:c,isHidden:h}=e,{props:g,reactData:p}=t,{treeConfig:x}=g,{treeIndeterminateMaps:i}=p,{computeCheckboxOpts:f}=t.getComputeMaps(),d=f.value,{labelField:y,checkField:$,checkMethod:W,visibleMethod:V}=d,T=d.indeterminateField||d.halfField,{slots:_}=c,C=_?_.default:null,S=_?_.checkbox:null;let E=!1,R=!1;const L=!V||V({row:s});let j=!!W,F;if(!h){const ue=ze(t,s);R=n.get(s,$),F={onClick(Ce){!j&&L&&(Ce.stopPropagation(),t.triggerCheckRowEvent(Ce,e,!R))}},W&&(j=!W({row:s})),x&&(E=!!i[ue])}const D=Object.assign(Object.assign({},e),{checked:R,disabled:j,visible:L,indeterminate:E});if(S)return t.callSlot(S,D);const H=[];return L&&(H.push(r("span",{class:["vxe-checkbox--icon",E?m.icon.TABLE_CHECKBOX_INDETERMINATE:R?m.icon.TABLE_CHECKBOX_CHECKED:m.icon.TABLE_CHECKBOX_UNCHECKED]})),(C||y)&&H.push(r("span",{class:"vxe-checkbox--label"},C?t.callSlot(C,D):n.get(s,y)))),[r("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":R,"is--disabled":j,"is--indeterminate":T&&!R?s[T]:E,"is--hidden":!L}]},F),H)]},renderTreeSelectionCellByProp(e){return rt.renderTreeIcon(e,rt.renderCheckboxCellByProp(e))},renderExpandCell(e){const{$table:t,isHidden:s,row:c,column:h}=e,{reactData:g}=t,{rowExpandedMaps:p,rowExpandLazyLoadedMaps:x}=g,{computeExpandOpts:i}=t.getComputeMaps(),f=i.value,{lazy:d,labelField:y,iconLoaded:$,showIcon:W,iconOpen:V,iconClose:T,visibleMethod:_}=f,{slots:C}=h,S=C?C.default:null,E=C?C.icon:null;let R=!1,L=!1;if(E)return t.callSlot(E,e);if(!s){const j=ze(t,c);R=!!p[j],d&&(L=!!x[j])}return[W&&(!_||_(e))?r("span",{class:["vxe-table--expanded",{"is--active":R}],onClick(j){j.stopPropagation(),t.triggerRowExpandEvent(j,e)}},[r("i",{class:["vxe-table--expand-btn",L?$||m.icon.TABLE_EXPAND_LOADED:R?V||m.icon.TABLE_EXPAND_OPEN:T||m.icon.TABLE_EXPAND_CLOSE]})]):null,S||y?r("span",{class:"vxe-table--expand-label"},S?t.callSlot(S,e):n.get(c,y)):null]},renderExpandData(e){const{$table:t,column:s}=e,{slots:c,contentRender:h}=s,g=c?c.content:null;if(g)return t.callSlot(g,e);if(h){const p=ot.renderer.get(h.name);if(p&&p.renderExpand)return $t(p.renderExpand(h,e))}return[]},renderHTMLCell(e){const{$table:t,column:s}=e,{slots:c}=s,h=c?c.default:null;return h?t.callSlot(h,e):[r("span",{class:"vxe-cell--html",innerHTML:Pr(e)})]},renderTreeHTMLCell(e){return rt.renderTreeIcon(e,rt.renderHTMLCell(e))},renderSortAndFilterHeader(e){return rt.renderDefaultHeader(e).concat(rt.renderSortIcon(e)).concat(rt.renderFilterIcon(e))},renderSortHeader(e){return rt.renderDefaultHeader(e).concat(rt.renderSortIcon(e))},renderSortIcon(e){const{$table:t,column:s}=e,{computeSortOpts:c}=t.getComputeMaps(),h=c.value,{showIcon:g,iconLayout:p,iconAsc:x,iconDesc:i}=h,{order:f}=s;return g?[r("span",{class:["vxe-cell--sort",`vxe-cell--sort-${p}-layout`]},[r("i",{class:["vxe-sort--asc-btn",x||m.icon.TABLE_SORT_ASC,{"sort--active":f==="asc"}],title:m.i18n("vxe.table.sortAsc"),onClick(d){d.stopPropagation(),t.triggerSortEvent(d,s,"asc")}}),r("i",{class:["vxe-sort--desc-btn",i||m.icon.TABLE_SORT_DESC,{"sort--active":f==="desc"}],title:m.i18n("vxe.table.sortDesc"),onClick(d){d.stopPropagation(),t.triggerSortEvent(d,s,"desc")}})])]:[]},renderFilterHeader(e){return rt.renderDefaultHeader(e).concat(rt.renderFilterIcon(e))},renderFilterIcon(e){const{$table:t,column:s,hasFilter:c}=e,{reactData:h}=t,{filterStore:g}=h,{computeFilterOpts:p}=t.getComputeMaps(),x=p.value,{showIcon:i,iconNone:f,iconMatch:d}=x;return i?[r("span",{class:["vxe-cell--filter",{"is--active":g.visible&&g.column===s}]},[r("i",{class:["vxe-filter--btn",c?d||m.icon.TABLE_FILTER_MATCH:f||m.icon.TABLE_FILTER_NONE],title:m.i18n("vxe.table.filter"),onClick(y){t.triggerFilterEvent&&t.triggerFilterEvent(y,e.column,e)}})])]:[]},renderEditHeader(e){const{$table:t,column:s}=e,{props:c}=t,{computeEditOpts:h}=t.getComputeMaps(),{editConfig:g,editRules:p}=c,x=h.value,{sortable:i,filters:f,editRender:d}=s;let y=!1;if(p){const $=n.get(p,s.field);$&&(y=$.some(W=>W.required))}return(pt(g)?[y&&x.showAsterisk?r("i",{class:"vxe-cell--required-icon"}):null,pt(d)&&x.showIcon?r("i",{class:["vxe-cell--edit-icon",x.icon||m.icon.TABLE_EDIT]}):null]:[]).concat(rt.renderDefaultHeader(e)).concat(i?rt.renderSortIcon(e):[]).concat(f?rt.renderFilterIcon(e):[])},renderRowEdit(e){const{$table:t,column:s}=e,{reactData:c}=t,{editStore:h}=c,{actived:g}=h,{editRender:p}=s;return rt.runRenderer(e,pt(p)&&g&&g.row===e.row)},renderTreeRowEdit(e){return rt.renderTreeIcon(e,rt.renderRowEdit(e))},renderCellEdit(e){const{$table:t,column:s}=e,{reactData:c}=t,{editStore:h}=c,{actived:g}=h,{editRender:p}=s;return rt.runRenderer(e,pt(p)&&g&&g.row===e.row&&g.column===e.column)},renderTreeCellEdit(e){return rt.renderTreeIcon(e,rt.renderCellEdit(e))},runRenderer(e,t){const{$table:s,column:c}=e,{slots:h,editRender:g,formatter:p}=c,x=h?h.default:null,i=h?h.edit:null,f=ot.renderer.get(g.name);return t?i?s.callSlot(i,e):f&&f.renderEdit?$t(f.renderEdit(g,Object.assign({$type:"edit"},e))):[]:x?s.callSlot(x,e):p?[r("span",{class:"vxe-cell--label"},Pr(e))]:rt.renderDefaultCell(e)}},La={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,treeNode:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object},Hn=Rt({name:"VxeColumn",props:La,setup(e,{slots:t}){const s=Xe(),c=mt("$xetable",{}),h=mt("xecolgroup",null),g=rt.createColumn(c,e);return g.slots=t,_t("$xegrid",null),ta(c,e,g),po(()=>{oa(c,s.value,g,h)}),ao(()=>{na(c,g)}),()=>r("div",{ref:s})}}),Ni=Object.assign(Hn,{install(e){e.component(Hn.name,Hn),e.component("VxeTableColumn",Hn)}}),ad=Ni;kt.component(Hn.name,Hn);kt.component("VxeTableColumn",Hn);const jn=Rt({name:"VxeColgroup",props:La,setup(e,{slots:t}){const s=Xe(),c=mt("$xetable",{}),h=mt("xecolgroup",null),g=rt.createColumn(c,e),p={};t.header&&(p.header=t.header);const x={column:g};return g.slots=p,g.children=[],_t("xecolgroup",x),_t("$xegrid",null),ta(c,e,g),po(()=>{oa(c,s.value,g,h)}),ao(()=>{na(c,g)}),()=>r("div",{ref:s},t.default?t.default():[])}}),Pi=Object.assign(jn,{install(e){e.component(jn.name,jn),e.component("VxeTableColgroup",jn)}}),cd=Pi;kt.component(jn.name,jn);kt.component("VxeTableColgroup",jn);let Vr;const An=[],dd=500;function ud(){An.length&&(An.forEach(e=>{e.tarList.forEach(t=>{const{target:s,width:c,heighe:h}=t,g=s.clientWidth,p=s.clientHeight;(g&&c!==g||p&&h!==p)&&(t.width=g,t.heighe=p,setTimeout(e.callback))})}),Na())}function Na(){clearTimeout(Vr),Vr=setTimeout(ud,m.resizeInterval||dd)}class fd{constructor(t){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=t}observe(t){if(t){const{tarList:s}=this;s.some(c=>c.target===t)||s.push({target:t,width:t.clientWidth,heighe:t.clientHeight}),An.length||Na(),An.some(c=>c===this)||An.push(this)}}unobserve(t){n.remove(An,s=>s.tarList.some(c=>c.target===t))}disconnect(){n.remove(An,t=>t===this)}}function Pa(e){return window.ResizeObserver?new window.ResizeObserver(e):new fd(e)}const nl="body",pd={mini:3,small:2,medium:1},Ar=Rt({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=mt("$xetable",{}),s=mt("xesize",null),{xID:c,props:h,context:g,reactData:p,internalData:x}=t,{refTableHeader:i,refTableBody:f,refTableFooter:d,refTableLeftBody:y,refTableRightBody:$,refValidTooltip:W}=t.getRefMaps(),{computeEditOpts:V,computeMouseOpts:T,computeSYOpts:_,computeEmptyOpts:C,computeKeyboardOpts:S,computeTooltipOpts:E,computeRadioOpts:R,computeExpandOpts:L,computeTreeOpts:j,computeCheckboxOpts:F,computeValidOpts:D,computeRowOpts:H,computeColumnOpts:ue}=t.getComputeMaps(),Ce=Xe(),ye=Xe(),ne=Xe(),re=Xe(),se=Xe(),J=Xe(),N=Xe(),I=()=>{if(s){const me=s.value;if(me)return pd[me]||0}return 0},P=()=>{const{delayHover:me}=h,{lastScrollTime:be,_isResize:he}=p;return!!(he||be&&Date.now()<be+me)},q=(me,be)=>{let he=1;if(!me)return he;const Ve=j.value,Ge=Ve.children||Ve.childrenField,Ye=me[Ge];if(Ye&&t.isTreeExpandByRow(me))for(let _e=0;_e<Ye.length;_e++)he+=q(Ye[_e]);return he},Y=(me,be,he)=>{let Ve=1;return he&&(Ve=q(be[he-1])),p.rowHeight*Ve-(he?1:12-I())},pe=me=>{const{row:be,column:he}=me,{afterFullData:Ve}=x,{treeConfig:Ge}=h,Ye=j.value,{slots:_e,treeNode:Fe}=he,{fullAllDataRowIdData:ke}=x,X=ze(t,be),ce=ke[X];let Oe=0,Se=0,A=[];if(ce&&(Oe=ce.level,Se=ce._index,A=ce.items),_e&&_e.line)return t.callSlot(_e.line,me);const G=t.eqRow(Ve[0],be);return Ge&&Fe&&(Ye.showLine||Ye.line)?[r("div",{class:"vxe-tree--line-wrapper"},[r("div",{class:"vxe-tree--line",style:{height:`${G?1:Y(me,A,Se)}px`,left:`${Oe*Ye.indent+(Oe?2-I():0)+16}px`}})])]:[]},De=(me,be,he,Ve,Ge,Ye,_e,Fe,ke,X,ce,Oe)=>{const{columnKey:Se,height:A,showOverflow:G,cellClassName:ge,cellStyle:Be,align:He,spanMethod:qe,mouseConfig:Qe,editConfig:Ze,editRules:et,tooltipConfig:Ke}=h,{tableData:lt,overflowX:yt,scrollYLoad:M,currentColumn:wt,mergeList:bt,editStore:ft,isAllOverflow:st,validErrorMaps:Tt}=p,{afterFullData:vt}=x,Dt=D.value,Ct=F.value,Mt=V.value,Lt=E.value,Bt=H.value,Kt=_.value,qt=ue.value,{type:Gt,cellRender:eo,editRender:Nt,align:Vt,showOverflow:At,className:Xt,treeNode:lo,slots:Ut}=ke,{actived:Co}=ft,{rHeight:Fo}=Kt,{height:jo}=Bt,On=Nt||eo,mn=On?ot.renderer.get(On.name):null,qn=mn?mn.cellClassName:"",Tn=mn?mn.cellStyle:"",yo=Lt.showAll,to=t.getColumnIndex(ke),Lo=t.getVTColumnIndex(ke),No=pt(Nt);let zo=he?ke.fixed!==he:ke.fixed&&yt;const tn=n.isUndefined(At)||n.isNull(At)?G:At;let Go=tn==="ellipsis";const Po=tn==="title",co=tn===!0||tn==="tooltip";let Vo=Po||co||Go,hn;const Yo={},Xo=Vt||He,Ao=Tt[`${be}:${ke.id}`],gn=et&&Dt.showMessage&&(Dt.message==="default"?A||lt.length>1:Dt.message==="inline"),Eo={colid:ke.id},Zt={$table:t,$grid:t.xegrid,seq:me,rowid:be,row:Ge,rowIndex:Ye,$rowIndex:_e,_rowIndex:Fe,column:ke,columnIndex:to,$columnIndex:X,_columnIndex:Lo,fixed:he,type:nl,isHidden:zo,level:Ve,visibleData:vt,data:lt,items:Oe};if(M&&!Vo&&(Go=Vo=!0),(Po||co||yo||Ke)&&(Yo.onMouseenter=It=>{P()||(Po?xi(It.currentTarget,ke):(co||yo)&&t.triggerBodyTooltipEvent(It,Zt),t.dispatchEvent("cell-mouseenter",Object.assign({cell:It.currentTarget},Zt),It))}),(co||yo||Ke)&&(Yo.onMouseleave=It=>{P()||((co||yo)&&t.handleTargetLeaveEvent(It),t.dispatchEvent("cell-mouseleave",Object.assign({cell:It.currentTarget},Zt),It))}),(Ct.range||Qe)&&(Yo.onMousedown=It=>{t.triggerCellMousedownEvent(It,Zt)}),Yo.onClick=It=>{t.triggerCellClickEvent(It,Zt)},Yo.onDblclick=It=>{t.triggerCellDblclickEvent(It,Zt)},bt.length){const It=la(bt,Fe,Lo);if(It){const{rowspan:so,colspan:Wo}=It;if(!so||!Wo)return null;so>1&&(Eo.rowspan=so),Wo>1&&(Eo.colspan=Wo)}}else if(qe){const{rowspan:It=1,colspan:so=1}=qe(Zt)||{};if(!It||!so)return null;It>1&&(Eo.rowspan=It),so>1&&(Eo.colspan=so)}zo&&bt&&(Eo.colspan>1||Eo.rowspan>1)&&(zo=!1),!zo&&Ze&&(Nt||eo)&&(Mt.showStatus||Mt.showUpdateStatus)&&(hn=t.isUpdateByRow(Ge,ke.field));const on=[];if(zo&&G&&st)on.push(r("div",{class:["vxe-cell",{"c--title":Po,"c--tooltip":co,"c--ellipsis":Go}],style:{maxHeight:Vo&&(Fo||jo)?`${Fo||jo}px`:""}}));else if(on.push(...pe(Zt),r("div",{class:["vxe-cell",{"c--title":Po,"c--tooltip":co,"c--ellipsis":Go}],style:{maxHeight:Vo&&(Fo||jo)?`${Fo||jo}px`:""},title:Po?t.getCellLabel(Ge,ke):null},ke.renderCell(Zt))),gn&&Ao){const It=Ao.rule,so=Ut?Ut.valid:null,Wo=Object.assign(Object.assign({},Zt),Ao);on.push(r("div",{class:["vxe-cell--valid-error-hint",En(Dt.className,Wo)],style:It&&It.maxWidth?{width:`${It.maxWidth}px`}:null},so?t.callSlot(so,Wo):[r("span",{class:"vxe-cell--valid-error-msg"},Ao.content)]))}return r("td",Object.assign(Object.assign(Object.assign({class:["vxe-body--column",ke.id,{[`col--${Xo}`]:Xo,[`col--${Gt}`]:Gt,"col--last":X===ce.length-1,"col--tree-node":lo,"col--edit":No,"col--ellipsis":Vo,"fixed--hidden":zo,"col--dirty":hn,"col--active":Ze&&No&&Co.row===Ge&&(Co.column===ke||Mt.mode==="row"),"col--valid-error":!!Ao,"col--current":wt===ke},En(qn,Zt),En(Xt,Zt),En(ge,Zt)],key:Se||qt.useKey?ke.id:X},Eo),{style:Object.assign({height:Vo&&(Fo||jo)?`${Fo||jo}px`:""},n.isFunction(Tn)?Tn(Zt):Tn,n.isFunction(Be)?Be(Zt):Be)}),Yo),on)},we=(me,be,he)=>{const{stripe:Ve,rowKey:Ge,highlightHoverRow:Ye,rowClassName:_e,rowStyle:Fe,showOverflow:ke,editConfig:X,treeConfig:ce}=h,{hasFixedColumn:Oe,treeExpandedMaps:Se,scrollYLoad:A,rowExpandedMaps:G,expandColumn:ge,selectRadioRow:Be,pendingRowMaps:He,pendingRowList:qe}=p,{fullAllDataRowIdData:Qe}=x,Ze=F.value,et=R.value,Ke=j.value,lt=V.value,yt=H.value,{transform:M}=Ke,wt=Ke.children||Ke.childrenField,bt=[];return be.forEach((ft,st)=>{const Tt={};let vt=st;vt=t.getRowIndex(ft),(yt.isHover||Ye)&&(Tt.onMouseenter=Vt=>{P()||t.triggerHoverEvent(Vt,{row:ft,rowIndex:vt})},Tt.onMouseleave=()=>{P()||t.clearHoverRow()});const Dt=ze(t,ft),Ct=Qe[Dt];let Mt=0,Lt=-1,Bt=0;Ct&&(Mt=Ct.level,Lt=Ct.seq,Bt=Ct._index);const Kt={$table:t,seq:Lt,rowid:Dt,fixed:me,type:nl,level:Mt,row:ft,rowIndex:vt,$rowIndex:st,_rowIndex:Bt},qt=ge&&!!G[Dt];let Gt=!1,eo=[],Nt=!1;if(X&&(Nt=t.isInsertByRow(ft)),ce&&!A&&!M&&(eo=ft[wt],Gt=eo&&eo.length&&!!Se[Dt]),bt.push(r("tr",Object.assign({class:["vxe-body--row",ce?`row--level-${Mt}`:"",{"row--stripe":Ve&&(t.getVTRowIndex(ft)+1)%2===0,"is--new":Nt,"is--expand-row":qt,"is--expand-tree":Gt,"row--new":Nt&&(lt.showStatus||lt.showInsertStatus),"row--radio":et.highlight&&t.eqRow(Be,ft),"row--checked":Ze.highlight&&t.isCheckedByCheckboxRow(ft),"row--pending":qe.length&&!!He[Dt]},En(_e,Kt)],rowid:Dt,style:Fe?n.isFunction(Fe)?Fe(Kt):Fe:null,key:Ge||yt.useKey||ce?Dt:st},Tt),he.map((Vt,At)=>De(Lt,Dt,me,Mt,ft,vt,st,Bt,Vt,At,he,be)))),qt){const Vt=L.value,{height:At}=Vt,Xt={};At&&(Xt.height=`${At}px`),ce&&(Xt.paddingLeft=`${Mt*Ke.indent+30}px`);const{showOverflow:lo}=ge,Ut=n.isUndefined(lo)||n.isNull(lo)?ke:lo,Co={$table:t,seq:Lt,column:ge,fixed:me,type:nl,level:Mt,row:ft,rowIndex:vt,$rowIndex:st,_rowIndex:Bt};bt.push(r("tr",Object.assign({class:"vxe-body--expanded-row",key:`expand_${Dt}`,style:Fe?n.isFunction(Fe)?Fe(Co):Fe:null},Tt),[r("td",{class:{"vxe-body--expanded-column":1,"fixed--hidden":me&&!Oe,"col--ellipsis":Ut},colspan:he.length},[r("div",{class:{"vxe-body--expanded-cell":1,"is--ellipsis":At},style:Xt},[ge.renderData(Co)])])]))}Gt&&bt.push(...we(me,eo,he))}),bt};let Pe;const $e=(me,be,he,Ve)=>{(he||Ve)&&(he&&(fr(he),he.scrollTop=be),Ve&&(fr(Ve),Ve.scrollTop=be),clearTimeout(Pe),Pe=setTimeout(()=>{hs(he),hs(Ve),p.lastScrollTime=Date.now()},300))},ae=me=>{const{fixedType:be}=e,{highlightHoverRow:he}=h,{scrollXLoad:Ve,scrollYLoad:Ge}=p,{elemStore:Ye,lastScrollTop:_e,lastScrollLeft:Fe}=x,ke=H.value,X=i.value,ce=f.value,Oe=d.value,Se=y.value,A=$.value,G=W.value,ge=Ce.value,Be=X?X.$el:null,He=Oe?Oe.$el:null,qe=ce.$el,Qe=Se?Se.$el:null,Ze=A?A.$el:null,et=Ye["main-body-ySpace"],Ke=et?et.value:null,lt=Ye["main-body-xSpace"],yt=lt?lt.value:null,M=Ge&&Ke?Ke.clientHeight:qe.clientHeight,wt=Ve&&yt?yt.clientWidth:qe.clientWidth;let bt=ge.scrollTop;const ft=qe.scrollLeft,st=ft!==Fe,Tt=bt!==_e;x.lastScrollTop=bt,x.lastScrollLeft=ft,p.lastScrollTime=Date.now(),(ke.isHover||he)&&t.clearHoverRow(),Qe&&be==="left"?(bt=Qe.scrollTop,$e(be,bt,qe,Ze)):Ze&&be==="right"?(bt=Ze.scrollTop,$e(be,bt,qe,Qe)):(st&&(Be&&(Be.scrollLeft=qe.scrollLeft),He&&(He.scrollLeft=qe.scrollLeft)),(Qe||Ze)&&(t.checkScrolling(),Tt&&$e(be,bt,Qe,Ze))),Ve&&st&&t.triggerScrollXEvent(me),Ge&&Tt&&t.triggerScrollYEvent(me),st&&G&&G.reactData.visible&&G.updatePlacement(),t.dispatchEvent("scroll",{type:nl,fixed:be,scrollTop:bt,scrollLeft:ft,scrollHeight:qe.scrollHeight,scrollWidth:qe.scrollWidth,bodyHeight:M,bodyWidth:wt,isX:st,isY:Tt},me)};let k,Q=0,ie=0,fe=0,Re=!1;const te=(me,be,he,Ve,Ge)=>{const{elemStore:Ye}=x,{scrollXLoad:_e,scrollYLoad:Fe}=p,ke=f.value,X=y.value,ce=$.value,Oe=X?X.$el:null,Se=ce?ce.$el:null,A=ke.$el,G=Ye["main-body-ySpace"],ge=G?G.value:null,Be=Ye["main-body-xSpace"],He=Be?Be.value:null,qe=Fe&&ge?ge.clientHeight:A.clientHeight,Qe=_e&&He?He.clientWidth:A.clientWidth,Ze=Re===be?Math.max(0,Q-fe):0;Re=be,Q=Math.abs(be?he-Ze:he+Ze),ie=0,fe=0,clearTimeout(k);const et=()=>{if(fe<Q){const{fixedType:Ke}=e;ie=Math.max(5,Math.floor(ie*1.5)),fe=fe+ie,fe>Q&&(ie=ie-(fe-Q));const{scrollTop:lt,clientHeight:yt,scrollHeight:M}=A,wt=lt+ie*(be?-1:1);A.scrollTop=wt,Oe&&(Oe.scrollTop=wt),Se&&(Se.scrollTop=wt),(be?wt<M-yt:wt>=0)&&(k=setTimeout(et,10)),t.dispatchEvent("scroll",{type:nl,fixed:Ke,scrollTop:A.scrollTop,scrollLeft:A.scrollLeft,scrollHeight:A.scrollHeight,scrollWidth:A.scrollWidth,bodyHeight:qe,bodyWidth:Qe,isX:Ve,isY:Ge},me)}};et()},ee=me=>{const{deltaY:be,deltaX:he}=me,{highlightHoverRow:Ve}=h,{scrollYLoad:Ge}=p,{lastScrollTop:Ye,lastScrollLeft:_e}=x,Fe=H.value,ke=f.value,X=Ce.value,ce=ke.$el,Oe=be,Se=he,A=Oe<0;if(A?X.scrollTop<=0:X.scrollTop>=X.scrollHeight-X.clientHeight)return;const G=X.scrollTop+Oe,ge=ce.scrollLeft+Se,Be=ge!==_e,He=G!==Ye;He&&(me.preventDefault(),x.lastScrollTop=G,x.lastScrollLeft=ge,p.lastScrollTime=Date.now(),(Fe.isHover||Ve)&&t.clearHoverRow(),te(me,A,Oe,Be,He),Ge&&t.triggerScrollYEvent(me))};return po(()=>{oe(()=>{const{fixedType:me}=e,{elemStore:be}=x,he=`${me||"main"}-body-`,Ve=Ce.value;be[`${he}wrapper`]=Ce,be[`${he}table`]=ye,be[`${he}colgroup`]=ne,be[`${he}list`]=re,be[`${he}xSpace`]=se,be[`${he}ySpace`]=J,be[`${he}emptyBlock`]=N,Ve&&(Ve.onscroll=ae,Ve._onscroll=ae)})}),hi(()=>{const me=Ce.value;clearTimeout(k),me&&(me._onscroll=null,me.onscroll=null)}),ao(()=>{const{fixedType:me}=e,{elemStore:be}=x,he=`${me||"main"}-body-`;be[`${he}wrapper`]=null,be[`${he}table`]=null,be[`${he}colgroup`]=null,be[`${he}list`]=null,be[`${he}xSpace`]=null,be[`${he}ySpace`]=null,be[`${he}emptyBlock`]=null}),()=>{let{fixedColumn:me,fixedType:be,tableColumn:he}=e;const{keyboardConfig:Ve,showOverflow:Ge,spanMethod:Ye,mouseConfig:_e}=h,{tableData:Fe,mergeList:ke,scrollYLoad:X,isAllOverflow:ce}=p,{visibleColumn:Oe}=x,{slots:Se}=g,A=_.value,G=C.value,ge=S.value,Be=T.value;be&&(!p.expandColumn&&(X||Ge&&ce)&&!ke.length&&!Ye&&!(Ve&&ge.isMerge)?he=me:he=Oe);let He;const qe=Se?Se.empty:null;if(qe)He=t.callSlot(qe,{$table:t,$grid:t.xegrid});else{const Qe=G.name?ot.renderer.get(G.name):null,Ze=Qe?Qe.renderEmpty:null;Ze?He=$t(Ze(G,{$table:t})):He=h.emptyText||m.i18n("vxe.table.emptyText")}return r("div",Object.assign({ref:Ce,class:["vxe-table--body-wrapper",be?`fixed-${be}--wrapper`:"body--wrapper"],xid:c},A.mode==="wheel"?{onWheel:ee}:{}),[be?Ot():r("div",{ref:se,class:"vxe-body--x-space"}),r("div",{ref:J,class:"vxe-body--y-space"}),r("table",{ref:ye,class:"vxe-table--body",xid:c,cellspacing:0,cellpadding:0,border:0},[r("colgroup",{ref:ne},he.map((Qe,Ze)=>r("col",{name:Qe.id,key:Ze}))),r("tbody",{ref:re},we(be,Fe,he))]),r("div",{class:"vxe-table--checkbox-range"}),_e&&Be.area?r("div",{class:"vxe-table--cell-area"},[r("span",{class:"vxe-table--cell-main-area"},Be.extension?[r("span",{class:"vxe-table--cell-main-area-btn",onMousedown(Qe){t.triggerCellExtendMousedownEvent(Qe,{$table:t,fixed:be,type:nl})}})]:[]),r("span",{class:"vxe-table--cell-copy-area"}),r("span",{class:"vxe-table--cell-extend-area"}),r("span",{class:"vxe-table--cell-multi-area"}),r("span",{class:"vxe-table--cell-active-area"})]):null,be?null:r("div",{class:"vxe-table--empty-block",ref:N},[r("div",{class:"vxe-table--empty-content"},He)])])}}}),oi="header",$r=Rt({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=mt("$xetable",{}),{xID:s,props:c,reactData:h,internalData:g}=t,{refElem:p,refTableBody:x,refLeftContainer:i,refRightContainer:f,refCellResizeBar:d}=t.getRefMaps(),{computeColumnOpts:y}=t.getComputeMaps(),$=Xe([]),W=Xe(),V=Xe(),T=Xe(),_=Xe(),C=Xe(),S=Xe(),E=()=>{const{isGroup:j}=h;$.value=j?nc(e.tableGroupColumn):[]},R=(j,F)=>{const{column:D}=F,{fixedType:H}=e,ue=x.value,Ce=i.value,ye=f.value,ne=d.value,{clientX:re}=j,se=W.value,J=j.target,N=F.cell=J.parentNode;let I=0;const P=ue.$el,q=tc(J,se),Y=J.clientWidth,pe=Math.floor(Y/2),De=sc(F)-pe;let we=q.left-N.clientWidth+Y+De,Pe=q.left+pe;const $e=document.onmousemove,ae=document.onmouseup,k=H==="left",Q=H==="right",ie=p.value;let fe=0;if(k||Q){const te=k?"nextElementSibling":"previousElementSibling";let ee=N[te];for(;ee&&!fn(ee,"fixed--hidden");)fn(ee,"col--group")||(fe+=ee.offsetWidth),ee=ee[te];Q&&ye&&(Pe=ye.offsetLeft+fe)}const Re=function(te){te.stopPropagation(),te.preventDefault();const ee=te.clientX-re;let le=Pe+ee;const me=H?0:P.scrollLeft;k?le=Math.min(le,(ye?ye.offsetLeft:P.clientWidth)-fe-De):Q?(we=(Ce?Ce.clientWidth:0)+fe+De,le=Math.min(le,Pe+N.clientWidth-De)):we=Math.max(P.scrollLeft,we),I=Math.max(le,we),ne.style.left=`${I-me}px`};h._isResize=!0,cn(ie,"drag--resize"),ne.style.display="block",document.onmousemove=Re,document.onmouseup=function(te){document.onmousemove=$e,document.onmouseup=ae;const ee=D.renderWidth+(Q?Pe-I:I-Pe);D.resizeWidth=ee,ne.style.display="none",h._isResize=!1,g._lastResizeTime=Date.now(),t.analyColumnWidth(),t.recalculate(!0).then(()=>{t.saveCustomResizable(),t.updateCellAreas(),t.dispatchEvent("resizable-change",Object.assign(Object.assign({},F),{resizeWidth:ee}),te)}),Do(ie,"drag--resize")},Re(j),t.closeMenu&&t.closeMenu()};return at(()=>e.tableColumn,E),po(()=>{oe(()=>{const{fixedType:j}=e,{internalData:F}=t,{elemStore:D}=F,H=`${j||"main"}-header-`;D[`${H}wrapper`]=W,D[`${H}table`]=V,D[`${H}colgroup`]=T,D[`${H}list`]=_,D[`${H}xSpace`]=C,D[`${H}repair`]=S,E()})}),ao(()=>{const{fixedType:j}=e,{internalData:F}=t,{elemStore:D}=F,H=`${j||"main"}-header-`;D[`${H}wrapper`]=null,D[`${H}table`]=null,D[`${H}colgroup`]=null,D[`${H}list`]=null,D[`${H}xSpace`]=null,D[`${H}repair`]=null}),()=>{const{fixedType:j,fixedColumn:F,tableColumn:D}=e,{resizable:H,border:ue,columnKey:Ce,headerRowClassName:ye,headerCellClassName:ne,headerRowStyle:re,headerCellStyle:se,showHeaderOverflow:J,headerAlign:N,align:I,mouseConfig:P}=c,{isGroup:q,currentColumn:Y,scrollXLoad:pe,overflowX:De,scrollbarWidth:we}=h,{visibleColumn:Pe}=g,$e=y.value;let ae=$.value,k=D;return q?k=Pe:(j&&(pe||J)&&(k=F),ae=[k]),r("div",{ref:W,class:["vxe-table--header-wrapper",j?`fixed-${j}--wrapper`:"body--wrapper"],xid:s},[j?Ot():r("div",{ref:C,class:"vxe-body--x-space"}),r("table",{ref:V,class:"vxe-table--header",xid:s,cellspacing:0,cellpadding:0,border:0},[r("colgroup",{ref:T},k.map((Q,ie)=>r("col",{name:Q.id,key:ie})).concat(we?[r("col",{name:"col_gutter"})]:[])),r("thead",{ref:_},ae.map((Q,ie)=>r("tr",{class:["vxe-header--row",ye?n.isFunction(ye)?ye({$table:t,$rowIndex:ie,fixed:j,type:oi}):ye:""],style:re?n.isFunction(re)?re({$table:t,$rowIndex:ie,fixed:j,type:oi}):re:null},Q.map((fe,Re)=>{const{type:te,showHeaderOverflow:ee,headerAlign:le,align:me,headerClassName:be}=fe,he=fe.children&&fe.children.length,Ve=j?fe.fixed!==j&&!he:!!fe.fixed&&De,Ge=n.isUndefined(ee)||n.isNull(ee)?J:ee,Ye=le||me||N||I;let _e=Ge==="ellipsis";const Fe=Ge==="title",ke=Ge===!0||Ge==="tooltip";let X=Fe||ke||_e;const ce=fe.filters&&fe.filters.some(ge=>ge.checked),Oe=t.getColumnIndex(fe),Se=t.getVTColumnIndex(fe),A={$table:t,$grid:t.xegrid,$rowIndex:ie,column:fe,columnIndex:Oe,$columnIndex:Re,_columnIndex:Se,fixed:j,type:oi,isHidden:Ve,hasFilter:ce},G={onClick:ge=>t.triggerHeaderCellClickEvent(ge,A),onDblclick:ge=>t.triggerHeaderCellDblclickEvent(ge,A)};return pe&&!X&&(_e=X=!0),P&&(G.onMousedown=ge=>t.triggerHeaderCellMousedownEvent(ge,A)),r("th",Object.assign(Object.assign({class:["vxe-header--column",fe.id,{[`col--${Ye}`]:Ye,[`col--${te}`]:te,"col--last":Re===Q.length-1,"col--fixed":fe.fixed,"col--group":he,"col--ellipsis":X,"fixed--hidden":Ve,"is--sortable":fe.sortable,"col--filter":!!fe.filters,"is--filter-active":ce,"col--current":Y===fe},be?n.isFunction(be)?be(A):be:"",ne?n.isFunction(ne)?ne(A):ne:""],colid:fe.id,colspan:fe.colSpan>1?fe.colSpan:null,rowspan:fe.rowSpan>1?fe.rowSpan:null,style:se?n.isFunction(se)?se(A):se:null},G),{key:Ce||$e.useKey||he?fe.id:Re}),[r("div",{class:["vxe-cell",{"c--title":Fe,"c--tooltip":ke,"c--ellipsis":_e}]},fe.renderHeader(A)),!Ve&&!he&&(n.isBoolean(fe.resizable)?fe.resizable:$e.resizable||H)?r("div",{class:["vxe-resizable",{"is--line":!ue||ue==="none"}],onMousedown:ge=>R(ge,A)}):null])}).concat(we?[r("th",{class:"vxe-header--gutter col--gutter"})]:[]))))]),r("div",{ref:S,class:"vxe-table--header-border-line"})])}}}),ni="footer";function md(e,t,s){for(let c=0;c<e.length;c++){const{row:h,col:g,rowspan:p,colspan:x}=e[c];if(g>-1&&h>-1&&p&&x){if(h===t&&g===s)return{rowspan:p,colspan:x};if(t>=h&&t<h+p&&s>=g&&s<g+x)return{rowspan:0,colspan:0}}}}const Br=Rt({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const t=mt("$xetable",{}),{xID:s,props:c,reactData:h,internalData:g}=t,{refTableHeader:p,refTableBody:x,refValidTooltip:i}=t.getRefMaps(),{computeTooltipOpts:f,computeColumnOpts:d}=t.getComputeMaps(),y=Xe(),$=Xe(),W=Xe(),V=Xe(),T=Xe(),_=S=>{const{fixedType:E}=e,{scrollXLoad:R}=h,{lastScrollLeft:L}=g,j=i.value,F=p.value,D=x.value,H=F?F.$el:null,ue=y.value,Ce=D.$el,ye=ue.scrollLeft,ne=ye!==L;g.lastScrollLeft=ye,h.lastScrollTime=Date.now(),H&&(H.scrollLeft=ye),Ce&&(Ce.scrollLeft=ye),R&&ne&&t.triggerScrollXEvent(S),ne&&j&&j.reactData.visible&&j.updatePlacement(),t.dispatchEvent("scroll",{type:ni,fixed:E,scrollTop:Ce.scrollTop,scrollLeft:ye,isX:ne,isY:!1},S)};return po(()=>{oe(()=>{const{fixedType:S}=e,{elemStore:E}=g,R=`${S||"main"}-footer-`;E[`${R}wrapper`]=y,E[`${R}table`]=$,E[`${R}colgroup`]=W,E[`${R}list`]=V,E[`${R}xSpace`]=T})}),ao(()=>{const{fixedType:S}=e,{elemStore:E}=g,R=`${S||"main"}-footer-`;E[`${R}wrapper`]=null,E[`${R}table`]=null,E[`${R}colgroup`]=null,E[`${R}list`]=null,E[`${R}xSpace`]=null}),()=>{let{fixedType:S,fixedColumn:E,tableColumn:R,footerTableData:L}=e;const{footerRowClassName:j,footerCellClassName:F,footerRowStyle:D,footerCellStyle:H,footerAlign:ue,footerSpanMethod:Ce,align:ye,columnKey:ne,showFooterOverflow:re}=c,{visibleColumn:se}=g,{scrollXLoad:J,overflowX:N,scrollbarWidth:I,currentColumn:P,mergeFooterList:q}=h,Y=f.value,pe=d.value;return S&&(!h.expandColumn&&(J||re)&&(!q.length||!Ce)?R=E:R=se),r("div",{ref:y,class:["vxe-table--footer-wrapper",S?`fixed-${S}--wrapper`:"body--wrapper"],xid:s,onScroll:_},[S?Ot():r("div",{ref:T,class:"vxe-body--x-space"}),r("table",{ref:$,class:"vxe-table--footer",xid:s,cellspacing:0,cellpadding:0,border:0},[r("colgroup",{ref:W},R.map((De,we)=>r("col",{name:De.id,key:we})).concat(I?[r("col",{name:"col_gutter"})]:[])),r("tfoot",{ref:V},L.map((De,we)=>{const Pe=we,$e={$table:t,row:De,_rowIndex:we,$rowIndex:Pe,fixed:S,type:ni};return r("tr",{class:["vxe-footer--row",j?n.isFunction(j)?j($e):j:""],style:D?n.isFunction(D)?D($e):D:null},R.map((ae,k)=>{const{type:Q,showFooterOverflow:ie,footerAlign:fe,align:Re,footerClassName:te}=ae,ee=Y.showAll,le=ae.children&&ae.children.length,me=S?ae.fixed!==S&&!le:ae.fixed&&N,be=n.isUndefined(ie)||n.isNull(ie)?re:ie,he=fe||Re||ue||ye;let Ve=be==="ellipsis";const Ge=be==="title",Ye=be===!0||be==="tooltip";let _e=Ge||Ye||Ve;const Fe={colid:ae.id},ke={},X=t.getColumnIndex(ae),ce=t.getVTColumnIndex(ae),Oe=ce,Se={$table:t,$grid:t.xegrid,row:De,rowIndex:we,_rowIndex:we,$rowIndex:Pe,column:ae,columnIndex:X,$columnIndex:k,_columnIndex:ce,itemIndex:Oe,items:De,fixed:S,type:ni,data:L};if(J&&!_e&&(Ve=_e=!0),(Ge||Ye||ee)&&(ke.onMouseenter=A=>{Ge?xi(A.currentTarget,ae):(Ye||ee)&&t.triggerFooterTooltipEvent(A,Se)}),(Ye||ee)&&(ke.onMouseleave=A=>{(Ye||ee)&&t.handleTargetLeaveEvent(A)}),ke.onClick=A=>{t.dispatchEvent("footer-cell-click",Object.assign({cell:A.currentTarget},Se),A)},ke.onDblclick=A=>{t.dispatchEvent("footer-cell-dblclick",Object.assign({cell:A.currentTarget},Se),A)},q.length){const A=md(q,we,ce);if(A){const{rowspan:G,colspan:ge}=A;if(!G||!ge)return null;G>1&&(Fe.rowspan=G),ge>1&&(Fe.colspan=ge)}}else if(Ce){const{rowspan:A=1,colspan:G=1}=Ce(Se)||{};if(!A||!G)return null;A>1&&(Fe.rowspan=A),G>1&&(Fe.colspan=G)}return r("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-footer--column",ae.id,{[`col--${he}`]:he,[`col--${Q}`]:Q,"col--last":k===R.length-1,"fixed--hidden":me,"col--ellipsis":_e,"col--current":P===ae},En(te,Se),En(F,Se)]},Fe),{style:H?n.isFunction(H)?H(Se):H:null}),ke),{key:ne||pe.useKey?ae.id:k}),[r("div",{class:["vxe-cell",{"c--title":Ge,"c--tooltip":Ye,"c--ellipsis":Ve}]},ae.renderFooter(Se))])}).concat(I?[r("td",{class:"vxe-footer--gutter col--gutter"})]:[]))}))])])}}}),Vi={id:String,data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>m.table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>m.table.resizable},stripe:{type:Boolean,default:()=>m.table.stripe},border:{type:[Boolean,String],default:()=>m.table.border},round:{type:Boolean,default:()=>m.table.round},size:{type:String,default:()=>m.table.size||m.size},fit:{type:Boolean,default:()=>m.table.fit},loading:Boolean,align:{type:String,default:()=>m.table.align},headerAlign:{type:String,default:()=>m.table.headerAlign},footerAlign:{type:String,default:()=>m.table.footerAlign},showHeader:{type:Boolean,default:()=>m.table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>m.table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>m.table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>m.table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>m.table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>m.table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>m.table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>m.table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>m.table.rowId},zIndex:Number,emptyText:{type:String,default:()=>m.table.emptyText},keepSource:{type:Boolean,default:()=>m.table.keepSource},autoResize:{type:Boolean,default:()=>m.table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,rowConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,animat:{type:Boolean,default:()=>m.table.animat},delayHover:{type:Number,default:()=>m.table.delayHover},params:Object},Ai=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","filter-change","filter-visible","clear-filter","resizable-change","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","edit-actived","edit-activated","edit-disabled","valid-error","scroll","custom","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],hd=Io["-webkit"]&&!Io.edge,li="VXE_TABLE_CUSTOM_COLUMN_WIDTH",si="VXE_TABLE_CUSTOM_COLUMN_VISIBLE",ii="VXE_TABLE_CUSTOM_COLUMN_FIXED",ri="VXE_TABLE_CUSTOM_COLUMN_SORT",Vl=Rt({name:"VxeTable",props:Vi,emits:Ai,setup(e,t){const{slots:s,emit:c}=t,h=ot.tooltip,g=n.uniqueId(),p=Qt(e),x=qr(),i=zt({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,selectCheckboxMaps:{},currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},treeIndeterminateMaps:{},mergeList:[],mergeFooterList:[],upDataFlag:0,reColumnFlag:0,pendingRowMaps:{},pendingRowList:[],initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],scaleList:[],scaleMinList:[],autoList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null},insertMaps:{},removeMaps:{}},tooltipStore:{row:null,column:null,content:null,visible:!1},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isFooter:!1},scrollVMLoading:!1,_isResize:!1}),f={tZindex:0,elemStore:{},scrollXStore:{offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},scrollYStore:{rowHeight:0,offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},sourceDataRowIdData:{},fullDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let d={},y={};const $=Xe(),W=Xe(),V=Xe(),T=Xe(),_=Xe(),C=Xe(),S=Xe(),E=Xe(),R=Xe(),L=Xe(),j=Xe(),F=Xe(),D=Xe(),H=Xe(),ue=Xe(),Ce=Xe(),ye=Xe(),ne=Xe(),re=Xe(),se=Xe(),J=mt("$xegrid",null);let N;const I=ve(()=>Object.assign({},m.table.validConfig,e.validConfig)),P=ve(()=>Object.assign({},m.table.scrollX,e.scrollX)),q=ve(()=>Object.assign({},m.table.scrollY,e.scrollY)),Y=ve(()=>({default:48,medium:44,small:40,mini:36})),pe=ve(()=>Object.assign({},m.table.columnConfig,e.columnConfig)),De=ve(()=>Object.assign({},m.table.rowConfig,e.rowConfig)),we=ve(()=>Object.assign({},m.table.resizeConfig,e.resizeConfig)),Pe=ve(()=>Object.assign({},m.table.resizableConfig,e.resizableConfig)),$e=ve(()=>Object.assign({startIndex:0},m.table.seqConfig,e.seqConfig)),ae=ve(()=>Object.assign({},m.table.radioConfig,e.radioConfig)),k=ve(()=>Object.assign({},m.table.checkboxConfig,e.checkboxConfig));let Q=Xe();Q=ve(()=>Object.assign({},m.tooltip,m.table.tooltipConfig,e.tooltipConfig));const ie=ve(()=>{const o=Q.value;return Object.assign({},o)}),fe=ve(()=>{const o=Q.value;return Object.assign({isArrow:!1},o)}),Re=ve(()=>Object.assign({},m.table.editConfig,e.editConfig)),te=ve(()=>Object.assign({orders:["asc","desc",null]},m.table.sortConfig,e.sortConfig)),ee=ve(()=>Object.assign({},m.table.filterConfig,e.filterConfig)),le=ve(()=>Object.assign({},m.table.mouseConfig,e.mouseConfig)),me=ve(()=>Object.assign({},m.table.areaConfig,e.areaConfig)),be=ve(()=>Object.assign({},m.table.keyboardConfig,e.keyboardConfig)),he=ve(()=>Object.assign({},m.table.clipConfig,e.clipConfig)),Ve=ve(()=>Object.assign({},m.table.fnrConfig,e.fnrConfig)),Ge=ve(()=>Object.assign({},m.table.menuConfig,e.menuConfig)),Ye=ve(()=>{const l=Ge.value.header;return l&&l.options?l.options:[]}),_e=ve(()=>{const l=Ge.value.body;return l&&l.options?l.options:[]}),Fe=ve(()=>{const l=Ge.value.footer;return l&&l.options?l.options:[]}),ke=ve(()=>{const o=Ge.value,l=Ye.value,a=_e.value,u=Fe.value;return!!(e.menuConfig&&pt(o)&&(l.length||a.length||u.length))}),X=ve(()=>{const{ctxMenuStore:o}=i,l=[];return o.list.forEach(a=>{a.forEach(u=>{l.push(u)})}),l}),ce=ve(()=>Object.assign({},m.table.exportConfig,e.exportConfig)),Oe=ve(()=>Object.assign({},m.table.importConfig,e.importConfig)),Se=ve(()=>Object.assign({},m.table.printConfig,e.printConfig)),A=ve(()=>Object.assign({},m.table.expandConfig,e.expandConfig)),G=ve(()=>Object.assign({},m.table.treeConfig,e.treeConfig)),ge=ve(()=>Object.assign({},m.table.emptyRender,e.emptyRender)),Be=ve(()=>Object.assign({},m.table.loadingConfig,e.loadingConfig)),He=ve(()=>e.border?Math.max(2,Math.ceil(i.scrollbarWidth/i.tableColumn.length)):1),qe=ve(()=>Object.assign({},m.table.customConfig,e.customConfig)),Qe=ve(()=>{const{collectColumn:o}=f;let l=0;return o.forEach(a=>{a.fixed&&l++}),l}),Ze=ve(()=>{const o=Qe.value,l=pe.value,{maxFixedSize:a}=l;return a?o>=a:!1}),et=ve(()=>{const{border:o}=e;return o===!0?"full":o||"default"}),Ke=ve(()=>{const{tableData:o}=i,{tableFullData:l}=f,a=k.value,{strict:u,checkMethod:v}=a;return u?o.length||l.length?v?l.every(w=>!v({row:w})):!1:!0:!1}),lt={refElem:$,refTooltip:W,refValidTooltip:T,refTableFilter:C,refTableCustom:S,refTableMenu:_,refTableHeader:E,refTableBody:R,refTableFooter:L,refTableLeftHeader:j,refTableLeftBody:F,refTableLeftFooter:D,refTableRightHeader:H,refTableRightBody:ue,refTableRightFooter:Ce,refLeftContainer:ye,refRightContainer:ne,refCellResizeBar:re},yt={computeSize:p,computeValidOpts:I,computeSXOpts:P,computeSYOpts:q,computeColumnOpts:pe,computeRowOpts:De,computeResizeleOpts:we,computeResizableOpts:Pe,computeSeqOpts:$e,computeRadioOpts:ae,computeCheckboxOpts:k,computeTooltipOpts:Q,computeEditOpts:Re,computeSortOpts:te,computeFilterOpts:ee,computeMouseOpts:le,computeAreaOpts:me,computeKeyboardOpts:be,computeClipOpts:he,computeFNROpts:Ve,computeHeaderMenu:Ye,computeBodyMenu:_e,computeFooterMenu:Fe,computeIsMenu:ke,computeMenuOpts:Ge,computeExportOpts:ce,computeImportOpts:Oe,computePrintOpts:Se,computeExpandOpts:A,computeTreeOpts:G,computeEmptyOpts:ge,computeLoadingOpts:Be,computeCustomOpts:qe,computeFixedColumnSize:Qe,computeIsMaxFixedColumn:Ze,computeIsAllCheckboxDisabled:Ke},M={xID:g,props:e,context:t,instance:x,reactData:i,internalData:f,getRefMaps:()=>lt,getComputeMaps:()=>yt,xegrid:J},wt=(o,l,a)=>{const u=n.get(o,a),v=n.get(l,a);return qo(u)&&qo(v)?!0:n.isString(u)||n.isNumber(u)?""+u==""+v:n.isEqual(u,v)},bt=o=>{const l=te.value,{orders:a}=l,u=o.order||null,v=a.indexOf(u)+1;return a[v<a.length?v:0]},ft=o=>{const l=m.version,a=n.toStringJSON(localStorage.getItem(o)||"");return a&&a._v===l?a:{_v:l}},st=o=>{const{fullAllDataRowIdData:l}=f,a={};return n.each(o,(u,v)=>{l[v]&&(a[v]=u)}),a},Tt=o=>{const{fullDataRowIdData:l}=f,a=[];return n.each(o,(u,v)=>{l[v]&&M.findRowIndexOf(a,l[v].row)===-1&&a.push(l[v].row)}),a},vt=()=>{const{visibleColumn:o}=f,l=R.value,a=l?l.$el:null;if(a){const{scrollLeft:u,clientWidth:v}=a,w=u+v;let O=-1,z=0,B=0;for(let Z=0,U=o.length;Z<U&&(z+=o[Z].renderWidth,O===-1&&u<z&&(O=Z),!(O>=0&&(B++,z>w)));Z++);return{toVisibleIndex:Math.max(0,O),visibleSize:Math.max(8,B)}}return{toVisibleIndex:0,visibleSize:8}},Dt=()=>{const o=E.value,l=R.value,a=l?l.$el:null,u=p.value,v=Y.value;if(a){const w=o?o.$el:null;let O=0,z;z=a.querySelector("tr"),!z&&w&&(z=w.querySelector("tr")),z&&(O=z.clientHeight),O||(O=v[u||"default"]);const B=Math.max(8,Math.ceil(a.clientHeight/O)+2);return{rowHeight:O,visibleSize:B}}return{rowHeight:0,visibleSize:8}},Ct=(o,l,a)=>{for(let u=0,v=o.length;u<v;u++){const w=o[u],{startIndex:O,endIndex:z}=l,B=w[a],Z=w[a+"span"],U=B+Z;B<O&&O<U&&(l.startIndex=B),B<z&&z<U&&(l.endIndex=U),(l.startIndex!==O||l.endIndex!==z)&&(u=-1)}},Mt=(o,l,a)=>{if(o){const{treeConfig:u}=e,{visibleColumn:v}=f;n.isArray(o)||(o=[o]),u&&o.length&&Jt("vxe.error.noTree",["merge-cells | merge-footer-items"]),o.forEach(w=>{let{row:O,col:z,rowspan:B,colspan:Z}=w;if(a&&n.isNumber(O)&&(O=a[O]),n.isNumber(z)&&(z=v[z]),(a?O:n.isNumber(O))&&z&&(B||Z)&&(B=n.toNumber(B)||1,Z=n.toNumber(Z)||1,B>1||Z>1)){const U=n.findIndexOf(l,Ie=>(Ie._row===O||ze(M,Ie._row)===ze(M,O))&&(Ie._col.id===z||Ie._col.id===z.id)),xe=l[U];if(xe)xe.rowspan=B,xe.colspan=Z,xe._rowspan=B,xe._colspan=Z;else{const Ie=a?M.findRowIndexOf(a,O):O,Te=d.getVTColumnIndex(z);l.push({row:Ie,col:Te,rowspan:B,colspan:Z,_row:O,_col:z,_rowspan:B,_colspan:Z})}}})}},Lt=(o,l,a)=>{const u=[];if(o){const{treeConfig:v}=e,{visibleColumn:w}=f;n.isArray(o)||(o=[o]),v&&o.length&&Jt("vxe.error.noTree",["merge-cells | merge-footer-items"]),o.forEach(O=>{let{row:z,col:B}=O;a&&n.isNumber(z)&&(z=a[z]),n.isNumber(B)&&(B=w[B]);const Z=n.findIndexOf(l,U=>(U._row===z||ze(M,U._row)===ze(M,z))&&(U._col.id===B||U._col.id===B.id));if(Z>-1){const U=l.splice(Z,1);u.push(U[0])}})}return u},Bt=()=>{const{tableFullColumn:o}=f;o.forEach(l=>{l.order=null})},Kt=o=>{const{parentHeight:l}=i,a=e[o];let u=0;if(a)if(a==="auto")u=l;else{const v=M.getExcludeHeight();kl(a)?u=Math.floor((n.toInteger(a)||1)/100*l):u=n.toNumber(a),u=Math.max(40,u-v)}return u},qt=()=>{const{id:o,customConfig:l}=e,a=qe.value,{storage:u}=a,v=u===!0,w=v?{}:Object.assign({},u||{}),O=v||w.resizable,z=v||w.visible,B=v||w.fixed,Z=v||w.sort;if(l&&(O||z||B||Z)){const U={};if(!o){Jt("vxe.error.reqProp",["id"]);return}if(O){const Ne=ft(li)[o];Ne&&n.each(Ne,(Me,Ae)=>{U[Ae]={resizeWidth:Me}})}if(B){const Ne=ft(ii)[o];Ne&&Ne.split(",").forEach(Ae=>{const[Ee,We]=Ae.split("|");U[Ee]?U[Ee].fixed=We:U[Ee]={fixed:We}})}let xe=!1;if(Z){const Ne=ft(ri)[o];Ne&&n.each(Ne,(Me,Ae)=>{U[Ae]?U[Ae].renderSortNumber=Me:U[Ae]={renderSortNumber:Me},xe||(xe=!0)})}if(z){const Ne=ft(si)[o];if(Ne){const Me=Ne.split("|"),Ae=Me[0]?Me[0].split(","):[],Ee=Me[1]?Me[1].split(","):[];Ae.forEach(We=>{U[We]?U[We].visible=!1:U[We]={visible:!1}}),Ee.forEach(We=>{U[We]?U[We].visible=!0:U[We]={visible:!0}})}}let{collectColumn:Ie}=f;const Te={};n.eachTree(Ie,Ne=>{const Me=Ne.getKey();Me&&(Te[Me]=Ne)}),n.each(U,({visible:Ne,resizeWidth:Me,fixed:Ae,renderSortNumber:Ee},We)=>{const Je=Te[We];Je&&(n.isNumber(Me)&&(Je.resizeWidth=Me),n.isBoolean(Ne)&&(Je.visible=Ne),Ae&&(Je.fixed=Ae),Ee&&(Je.renderSortNumber=Number(Ee)))}),xe&&(Ie=n.orderBy(Ie,"renderSortNumber"),f.collectColumn=Ie,f.tableFullColumn=It(Ie))}},Gt=()=>{const{tableFullColumn:o,collectColumn:l}=f,a=f.fullColumnIdData={},u=f.fullColumnFieldData={};le.value,pe.value,De.value;const v=l.some(ll);let w=!!e.showOverflow,O,z;const B=(Z,U,xe,Ie,Te)=>{const{id:Ne,field:Me,fixed:Ae,type:Ee,treeNode:We}=Z,Je={column:Z,colid:Ne,index:U,items:xe,parent:Te};Me&&(u[Me]=Je),We?z||(z=Z):Ee==="expand"&&(O||(O=Z)),w&&Z.showOverflow===!1&&(w=!1),a[Ne]&&Jt("vxe.error.colRepet",["colId",Ne]),a[Ne]=Je};v?n.eachTree(l,(Z,U,xe,Ie,Te,Ne)=>{Z.level=Ne.length,B(Z,U,xe,Ie,Te)}):o.forEach(B),i.isGroup=v,i.treeNodeColumn=z,i.expandColumn=O,i.isAllOverflow=w},eo=()=>{f.customHeight=Kt("height"),f.customMinHeight=Kt("minHeight"),f.customMaxHeight=Kt("maxHeight")},Nt=()=>{const o=E.value,l=R.value,a=L.value,u=l?l.$el:null,v=o?o.$el:null,w=a?a.$el:null;if(!u)return;let O=0;const z=40,B=u.clientWidth-1;let Z=B,U=Z/100;const{fit:xe}=e,{columnStore:Ie}=i,{resizeList:Te,pxMinList:Ne,pxList:Me,scaleList:Ae,scaleMinList:Ee,autoList:We}=Ie;if(Ne.forEach(St=>{const Et=n.toInteger(St.minWidth);O+=Et,St.renderWidth=Et}),Ee.forEach(St=>{const Et=Math.floor(n.toInteger(St.minWidth)*U);O+=Et,St.renderWidth=Et}),Ae.forEach(St=>{const Et=Math.floor(n.toInteger(St.width)*U);O+=Et,St.renderWidth=Et}),Me.forEach(St=>{const Et=n.toInteger(St.width);O+=Et,St.renderWidth=Et}),Te.forEach(St=>{const Et=n.toInteger(St.resizeWidth);O+=Et,St.renderWidth=Et}),Z-=O,U=Z>0?Math.floor(Z/(Ee.length+Ne.length+We.length)):0,xe?Z>0&&Ee.concat(Ne).forEach(St=>{O+=U,St.renderWidth+=U}):U=z,We.forEach(St=>{const Et=Math.max(U,z);St.renderWidth=Et,O+=Et}),xe){const St=Ae.concat(Ee).concat(Ne).concat(We);let Et=St.length-1;if(Et>0){let Ht=B-O;if(Ht>0){for(;Ht>0&&Et>=0;)Ht--,St[Et--].renderWidth++;O=B}}}const Je=u.offsetHeight,ct=u.scrollHeight>u.clientHeight;let nt=0;ct&&(nt=Math.max(u.offsetWidth-u.clientWidth,0)),i.scrollbarWidth=nt,i.overflowY=ct,f.tableWidth=O,f.tableHeight=Je;let dt=0;v&&(dt=v.clientHeight,oe(()=>{v&&u&&v.scrollLeft!==u.scrollLeft&&(v.scrollLeft=u.scrollLeft)})),f.headerHeight=dt;let Pt=!1,Wt=0,Ft=0;w?(Wt=w.offsetHeight,Pt=O>w.clientWidth,Pt&&(Ft=Math.max(Wt-w.clientHeight,0))):(Pt=O>B,Pt&&(Ft=Math.max(Je-u.clientHeight,0))),f.footerHeight=Wt,i.overflowX=Pt,i.scrollbarHeight=Ft,eo(),i.parentHeight=Math.max(f.headerHeight+Wt+20,y.getParentHeight()),Pt&&y.checkScrolling()},Vt=o=>{const{sortBy:l,sortType:a}=o;return u=>{let v;return l?v=n.isFunction(l)?l({row:u,column:o}):n.get(u,l):v=y.getCellLabel(u,o),!a||a==="auto"?isNaN(v)?v:n.toNumber(v):a==="number"?n.toNumber(v):a==="string"?n.toValueString(v):v}},At=()=>{const{treeConfig:o}=e,{afterFullData:l,fullDataRowIdData:a,fullAllDataRowIdData:u}=f,{afterTreeFullData:v}=f,w=G.value,O=w.children||w.childrenField,z={};o?n.eachTree(v,(B,Z,U,xe)=>{const Ie=ze(M,B),Te=u[Ie],Ne=xe.map((Me,Ae)=>Ae%2===0?Number(Me)+1:".").join("");if(Te)Te.seq=Ne,Te._index=Z;else{const Me={row:B,rowid:Ie,seq:Ne,index:-1,$index:-1,_index:Z,items:[],parent:null,level:0};u[Ie]=Me,a[Ie]=Me}z[Ie]=B},{children:w.transform?w.mapChildrenField:O}):l.forEach((B,Z)=>{const U=ze(M,B),xe=u[U],Ie=Z+1;if(xe)xe.seq=Ie,xe._index=Z;else{const Te={row:B,rowid:U,seq:Ie,index:-1,$index:-1,_index:Z,items:[],parent:null,level:0};u[U]=Te,a[U]=Te}z[U]=B}),f.afterFullRowMaps=z},Xt=()=>{const{treeConfig:o}=e,{treeExpandedMaps:l}=i,a=G.value;if(o&&a.transform){const u=[],v={};return n.eachTree(f.afterTreeFullData,(w,O,z,B,Z)=>{const U=ze(M,w),xe=ze(M,Z);(!Z||v[xe]&&l[xe])&&(v[U]=1,u.push(w))},{children:a.mapChildrenField}),f.afterFullData=u,ml(u),u}return f.afterFullData},lo=()=>{const{treeConfig:o}=e,{tableFullColumn:l,tableFullData:a,tableFullTreeData:u}=f,v=ee.value,w=te.value,O=G.value,{transform:z}=O,{remote:B,filterMethod:Z}=v,{remote:U,sortMethod:xe,multiple:Ie,chronological:Te}=w;let Ne=[],Me=[];if(!B||!U){const Ae=[];let Ee=[];if(l.forEach(We=>{const{field:Je,sortable:ct,order:nt,filters:dt}=We;if(!B&&dt&&dt.length){const Pt=[],Wt=[];dt.forEach(Ft=>{Ft.checked&&(Wt.push(Ft),Pt.push(Ft.value))}),Wt.length&&Ae.push({column:We,valueList:Pt,itemList:Wt})}!U&&ct&&nt&&Ee.push({column:We,field:Je,property:Je,order:nt,sortTime:We.sortTime})}),Ie&&Te&&Ee.length>1&&(Ee=n.orderBy(Ee,"sortTime")),!B&&Ae.length){const We=Je=>Ae.every(({column:ct,valueList:nt,itemList:dt})=>{const{filterMethod:Pt,filterRender:Wt}=ct,Ft=Wt?ot.renderer.get(Wt.name):null,St=Ft?Ft.filterMethod:null,Et=Ft?Ft.defaultFilterMethod:null,Ht=Ho(Je,ct);return Pt?dt.some(io=>Pt({value:io.value,option:io,cellValue:Ht,row:Je,column:ct,$table:M})):St?dt.some(io=>St({value:io.value,option:io,cellValue:Ht,row:Je,column:ct,$table:M})):Z?Z({options:dt,values:nt,cellValue:Ht,row:Je,column:ct}):Et?dt.some(io=>Et({value:io.value,option:io,cellValue:Ht,row:Je,column:ct,$table:M})):nt.indexOf(n.get(Je,ct.field))>-1});o&&z?(Me=n.searchTree(u,We,Object.assign(Object.assign({},O),{original:!0})),Ne=Me):(Ne=o?u.filter(We):a.filter(We),Me=Ne)}else o&&z?(Me=n.searchTree(u,()=>!0,Object.assign(Object.assign({},O),{original:!0})),Ne=Me):(Ne=o?u.slice(0):a.slice(0),Me=Ne);if(!U&&Ee.length)if(o&&z){if(xe){const We=xe({data:Me,sortList:Ee,$table:M});Me=n.isArray(We)?We:Me}else Me=n.orderBy(Me,Ee.map(({column:We,order:Je})=>[Vt(We),Je]));Ne=Me}else{if(xe){const We=xe({data:Ne,sortList:Ee,$table:M});Ne=n.isArray(We)?We:Ne}else Ne=n.orderBy(Ne,Ee.map(({column:We,order:Je})=>[Vt(We),Je]));Me=Ne}}else o&&z?(Me=n.searchTree(u,()=>!0,Object.assign(Object.assign({},O),{original:!0})),Ne=Me):(Ne=o?u.slice(0):a.slice(0),Me=Ne);f.afterFullData=Ne,f.afterTreeFullData=Me,At()},Ut=()=>{const{border:o,showFooter:l,showOverflow:a,showHeaderOverflow:u,showFooterOverflow:v,mouseConfig:w,spanMethod:O,footerSpanMethod:z,keyboardConfig:B}=e,{isGroup:Z,currentRow:U,tableColumn:xe,scrollXLoad:Ie,scrollYLoad:Te,scrollbarWidth:Ne,scrollbarHeight:Me,columnStore:Ae,editStore:Ee,mergeList:We,mergeFooterList:Je,isAllOverflow:ct}=i;let{visibleColumn:nt,fullColumnIdData:dt,tableHeight:Pt,tableWidth:Wt,headerHeight:Ft,footerHeight:St,elemStore:Et,customHeight:Ht,customMinHeight:io,customMaxHeight:_o}=f;const Xn=["main","left","right"],Mn=se.value,vl=He.value,kn=le.value,ln=be.value,Dn=Et["main-body-wrapper"],In=Dn?Dn.value:null;return Mn&&(Mn.style.top=`${Ft}px`,Mn.style.height=In?`${In.offsetHeight-Me}px`:""),Ht>0&&l&&(Ht+=Me),Xn.forEach((To,Fn)=>{const mo=Fn>0?To:"",oo=["header","body","footer"],wo=mo==="left";let ho=[],Ln;mo&&(ho=wo?Ae.leftList:Ae.rightList,Ln=wo?ye.value:ne.value),oo.forEach($o=>{const lr=Et[`${To}-${$o}-wrapper`],Uo=lr?lr.value:null,sr=Et[`${To}-${$o}-table`],Nn=sr?sr.value:null;if($o==="header"){let So=Wt,go=xe;Z?go=nt:mo&&(Ie||u)&&(go=ho),So=go.reduce((ro,xl)=>ro+xl.renderWidth,0),Nn&&(Nn.style.width=So?`${So+Ne}px`:"");const uo=Et[`${To}-${$o}-repair`],Ro=uo?uo.value:null;Ro&&(Ro.style.width=`${Wt}px`);const no=Et[`${To}-${$o}-list`],Oo=no?no.value:null;Z&&Oo&&n.arrayEach(Oo.querySelectorAll(".col--group"),ro=>{const xl=d.getColumnNode(ro);if(xl){const ss=xl.item,{showHeaderOverflow:Bs}=ss,bn=n.isBoolean(Bs)?Bs:u,Un=bn==="title"||(bn===!0||bn==="tooltip")||bn==="ellipsis";let Cl=0,yl=0;Un&&n.eachTree(ss.children,is=>{(!is.children||!ss.children.length)&&yl++,Cl+=is.renderWidth},{children:"children"}),ro.style.width=Un?`${Cl-yl-(o?2:0)}px`:""}})}else if($o==="body"){const So=Et[`${To}-${$o}-emptyBlock`],go=So?So.value:null;if(qs(Uo)){let no=0;const Oo=io-Ft-St;if(_o&&(no=_o-Ft-St,mo&&(no-=l?0:Me),no=Math.max(Oo,no),Uo.style.maxHeight=`${no}px`),Ht){let ro=Ht-Ft-St;mo&&(ro-=l?0:Me),no&&(ro=Math.min(no,ro)),Uo.style.height=`${Math.max(Oo,ro)}px`}else Uo.style.height="";Uo.style.minHeight=`${Oo}px`}Ln&&(qs(Uo)&&(Uo.style.top=`${Ft}px`),Ln.style.height=`${(Ht>0?Ht-Ft-St:Pt)+Ft+St-Me*(l?2:1)}px`,Ln.style.width=`${ho.reduce((no,Oo)=>no+Oo.renderWidth,wo?0:Ne)}px`);let uo=Wt,Ro=xe;mo&&(!i.expandColumn&&(Te||a&&ct)&&!We.length&&!O&&!(B&&ln.isMerge)?Ro=ho:Ro=nt),uo=Ro.reduce((no,Oo)=>no+Oo.renderWidth,0),Nn&&(Nn.style.width=uo?`${uo}px`:"",Nn.style.paddingRight=Ne&&mo&&(Io["-moz"]||Io.safari)?`${Ne}px`:""),go&&(go.style.width=uo?`${uo}px`:"")}else if($o==="footer"){let So=Wt,go=xe;mo&&(!i.expandColumn&&(Ie||v)&&(!Je.length||!z)?go=ho:go=nt),So=go.reduce((uo,Ro)=>uo+Ro.renderWidth,0),qs(Uo)&&(Ln&&(Uo.style.top=`${Ht>0?Ht-St:Pt+Ft}px`),Uo.style.marginTop=`${-Math.max(1,Me)}px`),Nn&&(Nn.style.width=So?`${So+Ne}px`:"")}const ir=Et[`${To}-${$o}-colgroup`],rr=ir?ir.value:null;rr&&n.arrayEach(rr.children,So=>{const go=So.getAttribute("name");if(go==="col_gutter"&&(So.style.width=`${Ne}px`),dt[go]){const uo=dt[go].column,{showHeaderOverflow:Ro,showFooterOverflow:no,showOverflow:Oo}=uo;let ro;So.style.width=`${uo.renderWidth}px`,$o==="header"?ro=n.isUndefined(Ro)||n.isNull(Ro)?u:Ro:$o==="footer"?ro=n.isUndefined(no)||n.isNull(no)?v:no:ro=n.isUndefined(Oo)||n.isNull(Oo)?a:Oo;let bn=ro==="title"||(ro===!0||ro==="tooltip")||ro==="ellipsis";const Hs=Et[`${To}-${$o}-list`],js=Hs?Hs.value:null;Te&&!bn&&(bn=!0),js&&n.arrayEach(js.querySelectorAll(`.${uo.id}`),zs=>{const Un=parseInt(zs.getAttribute("colspan")||1),Cl=zs.querySelector(".vxe-cell");let yl=uo.renderWidth;if(Cl){if(Un>1){const is=d.getColumnIndex(uo);for(let Ws=1;Ws<Un;Ws++){const ar=d.getColumns(is+Ws);ar&&(yl+=ar.renderWidth)}}Cl.style.width=bn?`${yl-vl*Un}px`:""}})}})})}),U&&d.setCurrentRow(U),w&&kn.selected&&Ee.selected.row&&Ee.selected.column&&M.addCellSelectedClass(),oe()},Co=o=>M.triggerValidate?M.triggerValidate(o):oe(),Fo=(o,l)=>{Co("blur").catch(a=>a).then(()=>{M.handleActived(l,o).then(()=>Co("change")).catch(a=>a)})},jo=()=>{const{sortConfig:o}=e;if(o){const l=te.value;let{defaultSort:a}=l;a&&(n.isArray(a)||(a=[a]),a.length&&((o.multiple?a:a.slice(0,1)).forEach((u,v)=>{const{field:w,order:O}=u;if(w&&O){const z=d.getColumnByField(w);z&&z.sortable&&(z.order=O,z.sortTime=Date.now()+v)}}),l.remote||y.handleTableData(!0).then(Ut)))}},On=()=>{const{checkboxConfig:o}=e;if(o){const{fullDataRowIdData:l}=f,a=k.value,{checkAll:u,checkRowKeys:v}=a;if(u)No(!0,!0);else if(v){const w=[];v.forEach(O=>{l[O]&&w.push(l[O].row)}),Lo(w,!0,!0)}}},mn=()=>{const{radioConfig:o}=e;if(o){const{fullDataRowIdData:l}=f,a=ae.value,{checkRowKey:u,reserve:v}=a;if(u&&(l[u]&&to(l[u].row,!0),v)){const w=Pn(M);f.radioReserveRow={[w]:u}}}},qn=()=>{const{expandConfig:o}=e;if(o){const{fullDataRowIdData:l}=f,a=A.value,{expandAll:u,expandRowKeys:v}=a;if(u)d.setAllRowExpand(!0);else if(v){const w=[];v.forEach(O=>{l[O]&&w.push(l[O].row)}),d.setRowExpand(w,!0)}}},Tn=o=>{ae.value.reserve&&(f.radioReserveRow=o)},yo=(o,l)=>{const{checkboxReserveRowMap:a}=f;if(k.value.reserve){const v=ze(M,o);l?a[v]=o:a[v]&&delete a[v]}},to=(o,l)=>{const a=ae.value,{checkMethod:u}=a;return o&&(l||!u||u({row:o}))&&(i.selectRadioRow=o,Tn(o)),oe()},Lo=(o,l,a)=>(o&&!n.isArray(o)&&(o=[o]),o.forEach(u=>y.handleSelectRow({row:u},!!l,a)),oe()),No=(o,l)=>{const{treeConfig:a}=e,{selectCheckboxMaps:u}=i,{afterFullData:v,afterFullRowMaps:w,checkboxReserveRowMap:O}=f,z=G.value,B=z.children||z.childrenField,Z=k.value,{checkField:U,reserve:xe,checkStrictly:Ie,checkMethod:Te}=Z,Ne=Z.indeterminateField||Z.halfField,Me={};if(a||n.each(u,(Ae,Ee)=>{w[Ee]||(Me[Ee]=Ae)}),Ie)i.isAllSelected=o;else{if(U){const Ae=Ee=>{(l||!Te||Te({row:Ee}))&&(o&&(Me[ze(M,Ee)]=Ee),n.set(Ee,U,o)),a&&Ne&&n.set(Ee,Ne,!1)};a?n.eachTree(v,Ae,{children:B}):v.forEach(Ae)}else a?o?n.eachTree(v,Ae=>{(l||!Te||Te({row:Ae}))&&(Me[ze(M,Ae)]=Ae)},{children:B}):!l&&Te&&n.eachTree(v,Ae=>{const Ee=ze(M,Ae);!Te({row:Ae})&&u[Ee]&&(Me[Ee]=Ae)},{children:B}):o?!l&&Te?v.forEach(Ae=>{const Ee=ze(M,Ae);(u[Ee]||Te({row:Ae}))&&(Me[Ee]=Ae)}):v.forEach(Ae=>{Me[ze(M,Ae)]=Ae}):!l&&Te&&v.forEach(Ae=>{const Ee=ze(M,Ae);!Te({row:Ae})&&u[Ee]&&(Me[Ee]=Ae)});xe&&(o?n.each(Me,(Ae,Ee)=>{O[Ee]=Ae}):v.forEach(Ae=>yo(Ae,!1))),i.selectCheckboxMaps=U?{}:Me}return i.treeIndeterminateMaps={},f.treeIndeterminateRowMaps={},y.checkSelectionStatus(),oe()},zo=()=>{const{treeConfig:o}=e,{expandColumn:l,currentRow:a,selectCheckboxMaps:u,selectRadioRow:v,rowExpandedMaps:w,treeExpandedMaps:O}=i,{fullDataRowIdData:z,fullAllDataRowIdData:B,radioReserveRow:Z}=f,U=A.value,xe=G.value,Ie=ae.value,Te=k.value;if(v&&!B[ze(M,v)]&&(i.selectRadioRow=null),Ie.reserve&&Z){const Ne=ze(M,Z);z[Ne]&&to(z[Ne].row,!0)}i.selectCheckboxMaps=st(u),Te.reserve&&Lo(Tt(f.checkboxReserveRowMap),!0,!0),a&&!B[ze(M,a)]&&(i.currentRow=null),i.rowExpandedMaps=l?st(w):{},l&&U.reserve&&d.setRowExpand(Tt(f.rowExpandedReserveRowMap),!0),i.treeExpandedMaps=o?st(O):{},o&&xe.reserve&&d.setTreeExpand(Tt(f.treeExpandedReserveRowMap),!0)},tn=()=>{const{treeConfig:o}=e;if(o){const{tableFullData:l}=f,a=G.value,{expandAll:u,expandRowKeys:v}=a,w=a.children||a.childrenField;if(u)d.setAllTreeExpand(!0);else if(v){const O=[],z=Pn(M);v.forEach(B=>{const Z=n.findTree(l,U=>B===n.get(U,z),{children:w});Z&&O.push(Z.item)}),d.setTreeExpand(O,!0)}}},Go=o=>{const l=G.value,a=k.value,{transform:u,loadMethod:v}=l,{checkStrictly:w}=a;return new Promise(O=>{if(v){const{treeExpandLazyLoadedMaps:z}=i,{fullAllDataRowIdData:B}=f,Z=ze(M,o),U=B[Z];z[Z]=o,v({$table:M,row:o}).then(xe=>{if(U.treeLoaded=!0,z[Z]&&delete z[Z],n.isArray(xe)||(xe=[]),xe)return d.loadTreeChildren(o,xe).then(Ie=>{const{treeExpandedMaps:Te}=i;return Ie.length&&!Te[Z]&&(Te[Z]=o),!w&&d.isCheckedByCheckboxRow(o)&&Lo(Ie,!0),oe().then(()=>{if(u)return y.handleTableData()})})}).catch(()=>{const{treeExpandLazyLoadedMaps:xe}=i;U.treeLoaded=!1,xe[Z]&&delete xe[Z]}).finally(()=>{oe().then(()=>d.recalculate()).then(()=>O())})}else O()})},Po=(o,l)=>{const{treeExpandedReserveRowMap:a}=f;if(G.value.reserve){const v=ze(M,o);l?a[v]=o:a[v]&&delete a[v]}},co=o=>new Promise(l=>{const a=A.value,{loadMethod:u}=a;if(u){const{fullAllDataRowIdData:v}=f,{rowExpandLazyLoadedMaps:w}=i,O=ze(M,o),z=v[O];w[O]=o,u({$table:M,row:o,rowIndex:d.getRowIndex(o),$rowIndex:d.getVMRowIndex(o)}).then(()=>{const{rowExpandedMaps:B}=i;z.expandLoaded=!0,B[O]=o}).catch(()=>{z.expandLoaded=!1}).finally(()=>{const{rowExpandLazyLoadedMaps:B}=i;B[O]&&delete B[O],oe().then(()=>d.recalculate()).then(()=>l())})}else l()}),Vo=(o,l)=>{const{rowExpandedReserveRowMap:a}=f;if(A.value.reserve){const v=ze(M,o);l?a[v]=o:a[v]&&delete a[v]}},hn=()=>{const{mergeCells:o}=e;o&&d.setMergeCells(o)},Yo=()=>{const{mergeFooterItems:o}=e;o&&d.setMergeFooterItems(o)},Xo=()=>oe().then(()=>{const{scrollXLoad:o,scrollYLoad:l}=i,{scrollXStore:a,scrollYStore:u}=f,v=q.value,w=P.value;if(o){const{visibleSize:B}=vt(),Z=w.oSize?n.toNumber(w.oSize):Io.edge?5:0;a.offsetSize=Z,a.visibleSize=B,a.endIndex=Math.max(a.startIndex+a.visibleSize+Z,a.endIndex),y.updateScrollXData()}else y.updateScrollXSpace();const{rowHeight:O,visibleSize:z}=Dt();if(u.rowHeight=O,l){const B=v.oSize?n.toNumber(v.oSize):Io.edge?10:0;u.offsetSize=B,u.visibleSize=z,u.endIndex=Math.max(u.startIndex+z+B,u.endIndex),y.updateScrollYData()}else y.updateScrollYSpace();i.rowHeight=O,oe(Ut)}),Ao=o=>{const{keepSource:l,treeConfig:a}=e,{editStore:u,scrollYLoad:v}=i,{scrollYStore:w,scrollXStore:O,lastScrollLeft:z,lastScrollTop:B}=f,Z=G.value,{transform:U}=Z,xe=Z.children||Z.childrenField;let Ie=[],Te=zt(o?o.slice(0):[]);a&&(U?(Ie=n.toArrayTree(Te,{key:Z.rowField,parentKey:Z.parentField,children:xe,mapChildren:Z.mapChildrenField}),Te=Ie.slice(0)):Ie=Te.slice(0)),w.startIndex=0,w.endIndex=1,O.startIndex=0,O.endIndex=1,i.scrollVMLoading=!1,u.insertMaps={},u.removeMaps={};const Ne=ml(Te);return i.scrollYLoad=Ne,f.tableFullData=Te,f.tableFullTreeData=Ie,y.cacheRowMap(!0),f.tableSynchData=o,l&&y.cacheSourceMap(Te),M.clearCellAreas&&e.mouseConfig&&(M.clearCellAreas(),M.clearCopyCellArea()),d.clearMergeCells(),d.clearMergeFooterItems(),y.handleTableData(!0),d.updateFooter(),oe().then(()=>{eo(),Ut()}).then(()=>{Xo()}).then(()=>(Ne&&(w.endIndex=w.visibleSize),zo(),y.checkSelectionStatus(),new Promise(Me=>{oe().then(()=>d.recalculate()).then(()=>{let Ae=z,Ee=B;const We=P.value,Je=q.value;We.scrollToLeftOnChange&&(Ae=0),Je.scrollToTopOnChange&&(Ee=0),v===Ne?Gs(M,Ae,Ee).then(Me):setTimeout(()=>Gs(M,Ae,Ee).then(Me))})})))},gn=()=>{On(),mn(),qn(),tn(),hn(),Yo(),oe(()=>setTimeout(()=>d.recalculate()))},Eo=()=>{jo()},Zt=()=>{const{scrollXLoad:o}=i,{visibleColumn:l,scrollXStore:a,fullColumnIdData:u}=f,v=o?l.slice(a.startIndex,a.endIndex):l.slice(0);v.forEach((w,O)=>{const z=w.id,B=u[z];B&&(B.$index=O)}),i.tableColumn=v},on=()=>{const{mergeList:o,mergeFooterList:l}=i,{scrollXStore:a}=f,{startIndex:u,endIndex:v,offsetSize:w}=a,{toVisibleIndex:O,visibleSize:z}=vt(),B={startIndex:Math.max(0,O-1-w),endIndex:O+z+w};Ct(o.concat(l),B,"col");const{startIndex:Z,endIndex:U}=B;(O<=u||O>=v-z-1)&&(u!==Z||v!==U)&&(a.startIndex=Z,a.endIndex=U,y.updateScrollXData()),d.closeTooltip()},It=o=>{const l=[];return o.forEach(a=>{l.push(...a.children&&a.children.length?It(a.children):[a])}),l},so=()=>{const o=[],l=[],a=[],{isGroup:u,columnStore:v}=i,w=P.value,{collectColumn:O,tableFullColumn:z,scrollXStore:B,fullColumnIdData:Z}=f;if(u){const Ie=[],Te=[],Ne=[];n.eachTree(O,(Me,Ae,Ee,We,Je)=>{const ct=ll(Me);Je&&Je.fixed&&(Me.fixed=Je.fixed),Je&&Me.fixed!==Je.fixed&&Jt("vxe.error.groupFixed"),ct?Me.visible=!!n.findTree(Me.children,nt=>ll(nt)?!1:nt.visible):Me.visible&&(Me.fixed==="left"?o.push(Me):Me.fixed==="right"?a.push(Me):l.push(Me))}),O.forEach(Me=>{Me.visible&&(Me.fixed==="left"?Ie.push(Me):Me.fixed==="right"?Ne.push(Me):Te.push(Me))}),i.tableGroupColumn=Ie.concat(Te).concat(Ne)}else z.forEach(Ie=>{Ie.visible&&(Ie.fixed==="left"?o.push(Ie):Ie.fixed==="right"?a.push(Ie):l.push(Ie))});const U=o.concat(l).concat(a),xe=!!w.enabled&&w.gt>-1&&(w.gt===0||w.gt<z.length);if(i.hasFixedColumn=o.length>0||a.length>0,Object.assign(v,{leftList:o,centerList:l,rightList:a}),xe){const{visibleSize:Ie}=vt();B.startIndex=0,B.endIndex=Ie,B.visibleSize=Ie}return(U.length!==f.visibleColumn.length||!f.visibleColumn.every((Ie,Te)=>Ie===U[Te]))&&(d.clearMergeCells(),d.clearMergeFooterItems()),i.scrollXLoad=xe,U.forEach((Ie,Te)=>{const Ne=Ie.id,Me=Z[Ne];Me&&(Me._index=Te)}),f.visibleColumn=U,Zt(),d.updateFooter().then(()=>d.recalculate()).then(()=>(d.updateCellAreas(),d.recalculate()))},Wo=()=>{const{collectColumn:o}=f;o.forEach((l,a)=>{const u=a+1;l.sortNumber=u,l.renderSortNumber=u})},Rn=o=>{f.collectColumn=o;const l=It(o);return f.tableFullColumn=l,Wo(),qt(),Gt(),so().then(()=>{i.scrollXLoad&&on()}),d.clearMergeCells(),d.clearMergeFooterItems(),y.handleTableData(!0),oe().then(()=>(N&&N.syncUpdate({collectColumn:o,$table:M}),d.recalculate()))},ml=o=>{const{treeConfig:l}=e,a=q.value,u=G.value,{transform:v}=u,w=o||f.tableFullData,O=(v||!l)&&!!a.enabled&&a.gt>-1&&(a.gt===0||a.gt<w.length);return i.scrollYLoad=O,O},Ql=(o,l)=>{const{treeExpandedMaps:a,treeExpandLazyLoadedMaps:u,treeNodeColumn:v}=i,w=Object.assign({},a),{fullAllDataRowIdData:O,tableFullData:z}=f,B=G.value,{reserve:Z,lazy:U,accordion:xe,toggleMethod:Ie}=B,Te=B.children||B.childrenField,Ne=B.hasChild||B.hasChildField,Me=[],Ae=d.getColumnIndex(v),Ee=d.getVMColumnIndex(v);let We=Ie?o.filter(Je=>Ie({$table:M,expanded:l,column:v,columnIndex:Ae,$columnIndex:Ee,row:Je})):o;if(xe){We=We.length?[We[We.length-1]]:[];const Je=n.findTree(z,ct=>ct===We[0],{children:Te});Je&&Je.items.forEach(ct=>{const nt=ze(M,ct);w[nt]&&delete w[nt]})}return l?We.forEach(Je=>{const ct=ze(M,Je);if(!w[ct]){const nt=O[ct];U&&Je[Ne]&&!nt.treeLoaded&&!u[ct]?Me.push(Go(Je)):Je[Te]&&Je[Te].length&&(w[ct]=Je)}}):We.forEach(Je=>{const ct=ze(M,Je);w[ct]&&delete w[ct]}),Z&&We.forEach(Je=>Po(Je,l)),i.treeExpandedMaps=w,Promise.all(Me).then(()=>d.recalculate())},ks=(o,l)=>Ql(o,l).then(()=>(Xt(),y.handleTableData())).then(()=>d.recalculate()),es=o=>{const{mergeList:l}=i,{scrollYStore:a}=f,{startIndex:u,endIndex:v,visibleSize:w,offsetSize:O,rowHeight:z}=a,Z=(o.currentTarget||o.target).scrollTop,U=Math.floor(Z/z),xe={startIndex:Math.max(0,U-1-O),endIndex:U+w+O};Ct(l,xe,"row");const{startIndex:Ie,endIndex:Te}=xe;(U<=u||U>=v-w-1)&&(u!==Ie||v!==Te)&&(a.startIndex=Ie,a.endIndex=Te,y.updateScrollYData())},Gn=o=>function(l){const{fullAllDataRowIdData:a}=f;if(l){const u=ze(M,l),v=a[u];if(v)return v[o]}return-1},nn=o=>function(l){const{fullColumnIdData:a}=f;if(l){const u=a[l.id];if(u)return u[o]}return-1},Ds=n.debounce(function(o){es(o)},20,{leading:!1,trailing:!0});let ts;d={dispatchEvent(o,l,a){c(o,Object.assign({$table:M,$grid:J,$event:a},l))},clearAll(){return ac(M)},syncData(){return Xr("vxe.error.delFunc",["syncData","getData"]),oe().then(()=>(i.tableData=[],c("update:data",f.tableFullData),oe()))},updateData(){const{scrollXLoad:o,scrollYLoad:l}=i;return y.handleTableData(!0).then(()=>{if(d.updateFooter(),o||l)return o&&y.updateScrollXSpace(),l&&y.updateScrollYSpace(),d.refreshScroll()}).then(()=>(d.updateCellAreas(),d.recalculate(!0))).then(()=>{setTimeout(()=>M.recalculate(),50)})},loadData(o){const{inited:l,initStatus:a}=f;return Ao(o).then(()=>(f.inited=!0,f.initStatus=!0,a||gn(),l||Eo(),d.recalculate()))},reloadData(o){const{inited:l}=f;return d.clearAll().then(()=>(f.inited=!0,f.initStatus=!0,Ao(o))).then(()=>(gn(),l||Eo(),d.recalculate()))},reloadRow(o,l,a){const{keepSource:u}=e,{tableData:v}=i,{tableSourceData:w}=f;if(u){const O=d.getRowIndex(o),z=w[O];if(z&&o)if(a){const B=n.get(l||o,a);n.set(o,a,B),n.set(z,a,B)}else{const B=n.clone(Object.assign({},l),!0);n.destructuring(z,Object.assign(o,B))}i.tableData=v.slice(0)}return oe()},loadTreeChildren(o,l){const{keepSource:a}=e,{tableSourceData:u,fullDataRowIdData:v,fullAllDataRowIdData:w,sourceDataRowIdData:O}=f,z=G.value,{transform:B,mapChildrenField:Z}=z,U=z.children||z.childrenField,xe=w[ze(M,o)],Ie=xe?xe.level:0;return d.createData(l).then(Te=>{if(a){const Ne=ze(M,o),Me=n.findTree(u,Ae=>Ne===ze(M,Ae),{children:U});Me&&(Me.item[U]=n.clone(Te,!0)),Te.forEach(Ae=>{const Ee=ze(M,Ae);O[Ee]=n.clone(Ae,!0)})}return n.eachTree(Te,(Ne,Me,Ae,Ee,We,Je)=>{const ct=ze(M,Ne),nt=We||xe.row,dt={row:Ne,rowid:ct,seq:-1,index:Me,_index:-1,$index:-1,items:Ae,parent:nt,level:Ie+Je.length};v[ct]=dt,w[ct]=dt},{children:U}),o[U]=Te,B&&(o[Z]=Te),At(),Te})},loadColumn(o){const l=n.mapTree(o,a=>zt(rt.createColumn(M,a)));return Rn(l)},reloadColumn(o){return d.clearAll().then(()=>d.loadColumn(o))},getRowNode(o){if(o){const{fullAllDataRowIdData:l}=f,a=o.getAttribute("rowid");if(a){const u=l[a];if(u)return{rowid:u.rowid,item:u.row,index:u.index,items:u.items,parent:u.parent}}}return null},getColumnNode(o){if(o){const{fullColumnIdData:l}=f,a=o.getAttribute("colid");if(a){const u=l[a];if(u)return{colid:u.colid,item:u.column,index:u.index,items:u.items,parent:u.parent}}}return null},getRowSeq:Gn("seq"),getRowIndex:Gn("index"),getVTRowIndex:Gn("_index"),getVMRowIndex:Gn("$index"),getColumnIndex:nn("index"),getVTColumnIndex:nn("_index"),getVMColumnIndex:nn("$index"),createData(o){return oe().then(()=>zt(y.defineField(o)))},createRow(o){const l=n.isArray(o);return l||(o=[o||{}]),d.createData(o).then(a=>l?a:a[0])},revertData(o,l){const{keepSource:a}=e,{tableSourceData:u,sourceDataRowIdData:v}=f;if(!a)return oe();let w=o;return o?n.isArray(o)||(w=[o]):w=n.toArray(M.getUpdateRecords()),w.length&&w.forEach(O=>{if(!d.isInsertByRow(O)){const z=ze(M,O),B=v[z];B&&O&&(l?n.set(O,l,n.clone(n.get(B,l),!0)):n.destructuring(O,n.clone(B,!0)))}}),o?oe():d.reloadData(u)},clearData(o,l){const{tableFullData:a,visibleColumn:u}=f;return arguments.length?o&&!n.isArray(o)&&(o=[o]):o=a,l?o.forEach(v=>n.set(v,l,null)):o.forEach(v=>{u.forEach(w=>{w.field&&an(v,w,null)})}),oe()},isInsertByRow(o){const{editStore:l}=i,a=ze(M,o);return l.insertMaps[a]},removeInsertRow(){const{editStore:o}=i;return o.insertMaps={},M.remove(M.getInsertRecords())},isUpdateByRow(o,l){const{keepSource:a}=e,{tableFullColumn:u,fullDataRowIdData:v,sourceDataRowIdData:w}=f;if(a){const O=ze(M,o);if(!v[O])return!1;const z=w[O];if(z){if(arguments.length>1)return!wt(z,o,l);for(let B=0,Z=u.length;B<Z;B++){const U=u[B].field;if(U&&!wt(z,o,U))return!0}}}return!1},getColumns(o){const l=f.visibleColumn;return n.isUndefined(o)?l.slice(0):l[o]},getColumnById(o){const l=f.fullColumnIdData;return o&&l[o]?l[o].column:null},getColumnByField(o){const l=f.fullColumnFieldData;return o&&l[o]?l[o].column:null},getTableColumn(){return{collectColumn:f.collectColumn.slice(0),fullColumn:f.tableFullColumn.slice(0),visibleColumn:f.visibleColumn.slice(0),tableColumn:i.tableColumn.slice(0)}},getData(o){const l=e.data||f.tableSynchData;return n.isUndefined(o)?l.slice(0):l[o]},getCheckboxRecords(o){const{treeConfig:l}=e,{tableFullData:a,afterFullData:u,afterTreeFullData:v,tableFullTreeData:w,fullDataRowIdData:O,afterFullRowMaps:z}=f,B=G.value,Z=k.value,{transform:U,mapChildrenField:xe}=B,{checkField:Ie}=Z,Te=B.children||B.childrenField;let Ne=[];const Me=o?U?w:a:U?v:u;if(Ie)l?Ne=n.filterTree(Me,Ae=>n.get(Ae,Ie),{children:U?xe:Te}):Ne=Me.filter(Ae=>n.get(Ae,Ie));else{const{selectCheckboxMaps:Ae}=i;n.each(Ae,(Ee,We)=>{(o?O[We]:z[We])&&Ne.push(Ee)})}return Ne},getParentRow(o){const{treeConfig:l}=e,{fullDataRowIdData:a}=f;if(o&&l){let u;if(n.isString(o)?u=o:u=ze(M,o),u){const v=a[u];return v?v.parent:null}}return null},getRowById(o){const{fullDataRowIdData:l}=f,a=n.eqNull(o)?"":encodeURIComponent(o||"");return l[a]?l[a].row:null},getRowid(o){return ze(M,o)},getTableData(){const{tableData:o,footerTableData:l}=i,{tableFullData:a,afterFullData:u,tableFullTreeData:v}=f;return{fullData:e.treeConfig?v.slice(0):a.slice(0),visibleData:u.slice(0),tableData:o.slice(0),footerData:l.slice(0)}},setColumnFixed(o,l){const a=bo(M,o),u=pr(M,a),v=Ze.value,w=pe.value,{maxFixedSize:O}=w;return u&&u.fixed!==l?!u.fixed&&v?(ot.modal&&ot.modal.message({status:"error",content:m.i18n("vxe.table.maxFixedCol",[O])}),oe()):(n.eachTree([u],z=>{z.fixed=l}),y.saveCustomFixed(),d.refreshColumn()):oe()},clearColumnFixed(o){const l=bo(M,o),a=pr(M,l);return a&&a.fixed?(n.eachTree([a],u=>{u.fixed=null}),y.saveCustomFixed(),d.refreshColumn()):oe()},hideColumn(o){const l=bo(M,o);return l&&l.visible?(l.visible=!1,y.handleCustom()):oe()},showColumn(o){const l=bo(M,o);return l&&!l.visible?(l.visible=!0,y.handleCustom()):oe()},setColumnWidth(o,l){const a=bo(M,o);if(a){const u=n.toInteger(l);let v=u;if(kl(l)){const w=R.value,O=w?w.$el:null,z=O?O.clientWidth-1:0;v=Math.floor(u*z)}a.renderWidth=v}return oe()},getColumnWidth(o){const l=bo(M,o);return l?l.renderWidth:0},resetColumn(o){const{collectColumn:l}=f,a=qe.value,{checkMethod:u}=a,v=Object.assign({visible:!0,resizable:o===!0,fixed:o===!0,sort:o===!0},o);return n.eachTree(l,w=>{v.resizable&&(w.resizeWidth=0),v.fixed&&(w.fixed=w.defaultFixed),v.sort&&(w.renderSortNumber=w.sortNumber),(!u||u({column:w}))&&(w.visible=w.defaultVisible)}),v.resizable&&y.saveCustomResizable(!0),v.sort&&y.saveCustomSort(!0),v.fixed&&y.saveCustomFixed(),y.handleCustom()},refreshColumn(o){if(o){const l=n.orderBy(f.collectColumn,"renderSortNumber");f.collectColumn=l;const a=It(l);f.tableFullColumn=a,Gt()}return so().then(()=>d.refreshScroll()).then(()=>d.recalculate())},refreshScroll(){const{lastScrollLeft:o,lastScrollTop:l}=f,a=R.value,u=L.value,v=F.value,w=ue.value,O=a?a.$el:null,z=v?v.$el:null,B=w?w.$el:null,Z=u?u.$el:null;return new Promise(U=>{if(o||l)return Gs(M,o,l).then().then(()=>{setTimeout(U,30)});rs(O,l),rs(z,l),rs(B,l),cr(Z,o),setTimeout(U,30)})},recalculate(o){return Nt(),o===!0?Xo().then(()=>(Nt(),Xo())):Xo()},openTooltip(o,l){const a=V.value;return a?a.open(o,l):oe()},closeTooltip(){const{tooltipStore:o}=i,l=W.value,a=V.value;return o.visible&&(Object.assign(o,{row:null,column:null,content:null,visible:!1}),l&&l.close()),a&&a.close(),oe()},isAllCheckboxChecked(){return i.isAllSelected},isAllCheckboxIndeterminate(){return!i.isAllSelected&&i.isIndeterminate},getCheckboxIndeterminateRecords(o){const{treeConfig:l}=e,{fullDataRowIdData:a}=f,{treeIndeterminateMaps:u}=i;if(l){const v=[],w=[];return n.each(u,(O,z)=>{O&&(v.push(O),a[z]&&w.push(O))}),o?v:w}return[]},setCheckboxRow(o,l){return Lo(o,l,!0)},isCheckedByCheckboxRow(o){const{selectCheckboxMaps:l}=i,a=k.value,{checkField:u}=a;return u?n.get(o,u):!!l[ze(M,o)]},isIndeterminateByCheckboxRow(o){const{treeIndeterminateMaps:l}=i;return!!l[ze(M,o)]&&!d.isCheckedByCheckboxRow(o)},toggleCheckboxRow(o){const{selectCheckboxMaps:l}=i,a=k.value,{checkField:u}=a,v=u?!n.get(o,u):!l[ze(M,o)];return y.handleSelectRow({row:o},v,!0),oe()},setAllCheckboxRow(o){return No(o,!0)},getRadioReserveRecord(o){const{treeConfig:l}=e,{fullDataRowIdData:a,radioReserveRow:u,afterFullData:v}=f,w=ae.value,O=G.value,z=O.children||O.childrenField;if(w.reserve&&u){const B=ze(M,u);if(o){if(!a[B])return u}else{const Z=Pn(M);if(l){if(n.findTree(v,xe=>B===n.get(xe,Z),{children:z}))return u}else if(!v.some(U=>B===n.get(U,Z)))return u}}return null},clearRadioReserve(){return f.radioReserveRow=null,oe()},getCheckboxReserveRecords(o){const{treeConfig:l}=e,{afterFullData:a,fullDataRowIdData:u,checkboxReserveRowMap:v}=f,w=k.value,O=G.value,z=O.children||O.childrenField,B=[];if(w.reserve){const Z={};l?n.eachTree(a,U=>{Z[ze(M,U)]=1},{children:z}):a.forEach(U=>{Z[ze(M,U)]=1}),n.each(v,(U,xe)=>{U&&(o?u[xe]||B.push(U):Z[xe]||B.push(U))})}return B},clearCheckboxReserve(){return f.checkboxReserveRowMap={},oe()},toggleAllCheckboxRow(){return y.triggerCheckAllEvent(null,!i.isAllSelected),oe()},clearCheckboxRow(){const{treeConfig:o}=e,{tableFullData:l}=f,a=G.value,u=a.children||a.childrenField,v=k.value,{checkField:w,reserve:O}=v,z=v.indeterminateField||v.halfField;if(w){const B=Z=>{o&&z&&n.set(Z,z,!1),n.set(Z,w,!1)};o?n.eachTree(l,B,{children:u}):l.forEach(B)}return O&&l.forEach(B=>yo(B,!1)),i.isAllSelected=!1,i.isIndeterminate=!1,i.selectCheckboxMaps={},i.treeIndeterminateMaps={},oe()},setCurrentRow(o){const l=De.value,a=$.value;return d.clearCurrentRow(),i.currentRow=o,(l.isCurrent||e.highlightCurrentRow)&&a&&n.arrayEach(a.querySelectorAll(`[rowid="${ze(M,o)}"]`),u=>cn(u,"row--current")),oe()},isCheckedByRadioRow(o){return M.eqRow(i.selectRadioRow,o)},setRadioRow(o){return to(o,!0)},clearCurrentRow(){const o=$.value;return i.currentRow=null,f.hoverRow=null,o&&n.arrayEach(o.querySelectorAll(".row--current"),l=>Do(l,"row--current")),oe()},clearRadioRow(){return i.selectRadioRow=null,oe()},getCurrentRecord(){return De.value.isCurrent||e.highlightCurrentRow?i.currentRow:null},getRadioRecord(o){const{fullDataRowIdData:l,afterFullRowMaps:a}=f,{selectRadioRow:u}=i;if(u){const v=ze(M,u);if(o){if(l[v])return u}else if(a[v])return u}return null},getCurrentColumn(){return pe.value.isCurrent||e.highlightCurrentColumn?i.currentColumn:null},setCurrentColumn(o){const l=bo(M,o);return l&&(d.clearCurrentColumn(),i.currentColumn=l),oe()},clearCurrentColumn(){return i.currentColumn=null,oe()},setPendingRow(o,l){const a=Object.assign({},i.pendingRowMaps),u=[...i.pendingRowList];return o&&!n.isArray(o)&&(o=[o]),l?o.forEach(v=>{const w=ze(M,v);w&&!a[w]&&(u.push(v),a[w]=v)}):o.forEach(v=>{const w=ze(M,v);if(w&&a[w]){const O=M.findRowIndexOf(u,v);O>-1&&u.splice(O,1),delete a[w]}}),i.pendingRowMaps=a,i.pendingRowList=u,oe()},togglePendingRow(o){const l=Object.assign({},i.pendingRowMaps),a=[...i.pendingRowList];return o&&!n.isArray(o)&&(o=[o]),o.forEach(u=>{const v=ze(M,u);if(v)if(l[v]){const w=M.findRowIndexOf(a,u);w>-1&&a.splice(w,1),delete l[v]}else a.push(u),l[v]=u}),i.pendingRowMaps=l,i.pendingRowList=a,oe()},hasPendingByRow(o){const{pendingRowMaps:l}=i,a=ze(M,o);return!!l[a]},getPendingRecords(){const{pendingRowList:o}=i;return o.slice(0)},clearPendingRow(){return i.pendingRowMaps={},i.pendingRowList=[],oe()},sort(o,l){const a=te.value,{multiple:u,remote:v,orders:w}=a;return o&&n.isString(o)&&(o=[{field:o,order:l}]),n.isArray(o)||(o=[o]),o.length?(u||Bt(),(u?o:[o[0]]).forEach((O,z)=>{let{field:B,order:Z}=O,U=B;n.isString(B)&&(U=d.getColumnByField(B)),U&&U.sortable&&(w.indexOf(Z)===-1&&(Z=bt(U)),U.order!==Z&&(U.order=Z),U.sortTime=Date.now()+z)}),v||y.handleTableData(!0),oe().then(()=>(d.updateCellAreas(),Ut()))):oe()},clearSort(o){const l=te.value;if(o){const a=bo(M,o);a&&(a.order=null)}else Bt();return l.remote||y.handleTableData(!0),oe().then(Ut)},isSort(o){if(o){const l=bo(M,o);return l?l.sortable&&!!l.order:!1}return d.getSortColumns().length>0},getSortColumns(){const o=te.value,{multiple:l,chronological:a}=o,u=[],{tableFullColumn:v}=f;return v.forEach(w=>{const{field:O,order:z}=w;w.sortable&&z&&u.push({column:w,field:O,property:O,order:z,sortTime:w.sortTime})}),l&&a&&u.length>1?n.orderBy(u,"sortTime"):u},closeFilter(){const{filterStore:o}=i,{column:l,visible:a}=o;return Object.assign(o,{isAllSelected:!1,isIndeterminate:!1,options:[],visible:!1}),a&&M.dispatchEvent("filter-visible",{column:l,property:l.field,field:l.field,filterList:M.getCheckedFilters(),visible:!1},null),oe()},isActiveFilterByColumn(o){const l=bo(M,o);return l?l.filters&&l.filters.some(a=>a.checked):M.getCheckedFilters().length>0},isFilter(o){return d.isActiveFilterByColumn(o)},isRowExpandLoaded(o){const{fullAllDataRowIdData:l}=f,a=l[ze(M,o)];return a&&!!a.expandLoaded},clearRowExpandLoaded(o){const{rowExpandLazyLoadedMaps:l}=i,{fullAllDataRowIdData:a}=f,u=A.value,{lazy:v}=u,w=ze(M,o),O=a[w];return v&&O&&(O.expandLoaded=!1,delete l[w]),oe()},reloadRowExpand(o){const{rowExpandLazyLoadedMaps:l}=i,a=A.value,{lazy:u}=a,v=ze(M,o);return u&&!l[v]&&d.clearRowExpandLoaded(o).then(()=>co(o)),oe()},reloadExpandContent(o){return d.reloadRowExpand(o)},toggleRowExpand(o){return d.setRowExpand(o,!d.isRowExpandByRow(o))},setAllRowExpand(o){const l=G.value,{tableFullData:a,tableFullTreeData:u}=f,v=l.children||l.childrenField;let w=[];return e.treeConfig?n.eachTree(u,O=>{w.push(O)},{children:v}):w=a,d.setRowExpand(w,o)},setRowExpand(o,l){const{rowExpandedMaps:a,rowExpandLazyLoadedMaps:u,expandColumn:v}=i,{fullAllDataRowIdData:w}=f;let O=Object.assign({},a);const z=A.value,{reserve:B,lazy:Z,accordion:U,toggleMethod:xe}=z,Ie=[],Te=d.getColumnIndex(v),Ne=d.getVMColumnIndex(v);if(o){n.isArray(o)||(o=[o]),U&&(O={},o=o.slice(o.length-1,o.length));const Me=xe?o.filter(Ae=>xe({$table:M,expanded:l,column:v,columnIndex:Te,$columnIndex:Ne,row:Ae,rowIndex:d.getRowIndex(Ae),$rowIndex:d.getVMRowIndex(Ae)})):o;l?Me.forEach(Ae=>{const Ee=ze(M,Ae);if(!O[Ee]){const We=w[Ee];Z&&!We.expandLoaded&&!u[Ee]?Ie.push(co(Ae)):O[Ee]=Ae}}):Me.forEach(Ae=>{const Ee=ze(M,Ae);O[Ee]&&delete O[Ee]}),B&&Me.forEach(Ae=>Vo(Ae,l))}return i.rowExpandedMaps=O,Promise.all(Ie).then(()=>d.recalculate())},isRowExpandByRow(o){const{rowExpandedMaps:l}=i,a=ze(M,o);return!!l[a]},isExpandByRow(o){return d.isRowExpandByRow(o)},clearRowExpand(){const{tableFullData:o}=f,l=A.value,{reserve:a}=l,u=d.getRowExpandRecords();return i.rowExpandedMaps={},a&&o.forEach(v=>Vo(v,!1)),oe().then(()=>{u.length&&d.recalculate()})},clearRowExpandReserve(){return f.rowExpandedReserveRowMap={},oe()},getRowExpandRecords(){const o=[];return n.each(i.rowExpandedMaps,l=>{l&&o.push(l)}),o},getTreeExpandRecords(){const o=[];return n.each(i.treeExpandedMaps,l=>{l&&o.push(l)}),o},isTreeExpandLoaded(o){const{fullAllDataRowIdData:l}=f,a=l[ze(M,o)];return a&&!!a.treeLoaded},clearTreeExpandLoaded(o){const{treeExpandedMaps:l}=i,{fullAllDataRowIdData:a}=f,u=G.value,{transform:v,lazy:w}=u,O=ze(M,o),z=a[O];return w&&z&&(z.treeLoaded=!1,l[O]&&delete l[O]),v?(Xt(),y.handleTableData()):oe()},reloadTreeExpand(o){const{treeExpandLazyLoadedMaps:l}=i,a=G.value,u=a.hasChild||a.hasChildField,{transform:v,lazy:w}=a,O=ze(M,o);return w&&o[u]&&!l[O]&&d.clearTreeExpandLoaded(o).then(()=>Go(o)).then(()=>{if(v)return Xt(),y.handleTableData()}).then(()=>d.recalculate()),oe()},reloadTreeChilds(o){return d.reloadTreeExpand(o)},toggleTreeExpand(o){return d.setTreeExpand(o,!d.isTreeExpandByRow(o))},setAllTreeExpand(o){const{tableFullData:l}=f,a=G.value,{transform:u,lazy:v}=a,w=a.children||a.childrenField,O=[];return n.eachTree(l,z=>{const B=z[w];(v||B&&B.length)&&O.push(z)},{children:w}),d.setTreeExpand(O,o).then(()=>{if(u)return Xt(),d.recalculate()})},setTreeExpand(o,l){const a=G.value,{transform:u}=a;return o&&(n.isArray(o)||(o=[o]),o.length)?u?ks(o,l):Ql(o,l):oe()},isTreeExpandByRow(o){const{treeExpandedMaps:l}=i;return!!l[ze(M,o)]},clearTreeExpand(){const{tableFullTreeData:o}=f,l=G.value,a=l.children||l.childrenField,{transform:u,reserve:v}=l,w=d.getTreeExpandRecords();return i.treeExpandedMaps={},v&&n.eachTree(o,O=>Po(O,!1),{children:a}),y.handleTableData().then(()=>{if(u)return Xt(),y.handleTableData()}).then(()=>{if(w.length)return d.recalculate()})},clearTreeExpandReserve(){return f.treeExpandedReserveRowMap={},oe()},getScroll(){const{scrollXLoad:o,scrollYLoad:l}=i,u=R.value.$el;return{virtualX:o,virtualY:l,scrollTop:u.scrollTop,scrollLeft:u.scrollLeft}},scrollTo(o,l){const a=R.value,u=L.value,v=ue.value,w=a?a.$el:null,O=v?v.$el:null,z=u?u.$el:null;return n.isNumber(o)&&cr(z||w,o),n.isNumber(l)&&rs(O||w,l),i.scrollXLoad||i.scrollYLoad?new Promise(B=>{setTimeout(()=>{oe(()=>{B()})},50)}):oe()},scrollToRow(o,l){const a=[];return o&&(e.treeConfig?a.push(y.scrollToTreeRow(o)):a.push(mr(M,o))),l&&a.push(d.scrollToColumn(l)),Promise.all(a)},scrollToColumn(o){const{fullColumnIdData:l}=f,a=bo(M,o);return a&&l[a.id]?cc(M,a):oe()},clearScroll(){const{scrollXStore:o,scrollYStore:l}=f,a=R.value,u=L.value,v=ue.value,w=a?a.$el:null,O=v?v.$el:null,z=u?u.$el:null;return O&&(hs(O),O.scrollTop=0),z&&(z.scrollLeft=0),w&&(hs(w),w.scrollTop=0,w.scrollLeft=0),o.startIndex=0,l.startIndex=0,oe()},updateFooter(){const{showFooter:o,footerData:l,footerMethod:a}=e,{visibleColumn:u,afterFullData:v}=f;let w=[];return o&&l&&l.length?w=l.slice(0):o&&a&&(w=u.length?a({columns:u,data:v,$table:M,$grid:J}):[]),i.footerTableData=w,oe()},updateStatus(o,l){const a=!n.isUndefined(l);return oe().then(()=>{const{editRules:u}=e,{validStore:v}=i,w=R.value;if(o&&w&&u){const{row:O,column:z}=o,B="change";if(M.hasCellRules&&M.hasCellRules(B,O,z)){const Z=y.getCell(O,z);if(Z)return M.validCellRules(B,O,z,l).then(()=>{a&&v.visible&&an(O,z,l),M.clearValidate(O,z)}).catch(({rule:U})=>{a&&an(O,z,l),M.showValidTooltip({rule:U,row:O,column:z,cell:Z})})}}})},setMergeCells(o){return e.spanMethod&&Jt("vxe.error.errConflicts",["merge-cells","span-method"]),Mt(o,i.mergeList,f.afterFullData),oe().then(()=>(d.updateCellAreas(),Ut()))},removeMergeCells(o){e.spanMethod&&Jt("vxe.error.errConflicts",["merge-cells","span-method"]);const l=Lt(o,i.mergeList,f.afterFullData);return oe().then(()=>(d.updateCellAreas(),Ut(),l))},getMergeCells(){return i.mergeList.slice(0)},clearMergeCells(){return i.mergeList=[],oe().then(()=>Ut())},setMergeFooterItems(o){return e.footerSpanMethod&&Jt("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),Mt(o,i.mergeFooterList),oe().then(()=>(d.updateCellAreas(),Ut()))},removeMergeFooterItems(o){e.footerSpanMethod&&Jt("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const l=Lt(o,i.mergeFooterList);return oe().then(()=>(d.updateCellAreas(),Ut(),l))},getMergeFooterItems(){return i.mergeFooterList.slice(0)},clearMergeFooterItems(){return i.mergeFooterList=[],oe().then(()=>Ut())},updateCellAreas(){const{mouseConfig:o}=e,l=le.value;return o&&l.area&&M.handleUpdateCellAreas?M.handleUpdateCellAreas():oe()},focus(){return f.isActivated=!0,oe()},blur(){return f.isActivated=!1,oe()},connect(o){return o?(N=o,N.syncUpdate({collectColumn:f.collectColumn,$table:M})):Jt("vxe.error.barUnableLink"),oe()}};const Is=o=>{const{editStore:l,ctxMenuStore:a,filterStore:u,customStore:v}=i,{mouseConfig:w,editRules:O}=e,z=$.value,B=Re.value,Z=I.value,U=me.value,{actived:xe}=l,Ie=T.value,Te=C.value,Ne=S.value,Me=_.value;if(Te&&(xt(o,z,"vxe-cell--filter").flag||xt(o,Te.$el).flag||xt(o,document.body,"vxe-table--ignore-clear").flag||y.preventEvent(o,"event.clearFilter",u.args,d.closeFilter)),Ne&&(v.btnEl===o.target||xt(o,document.body,"vxe-toolbar-custom-target").flag||xt(o,Ne.$el).flag||xt(o,document.body,"vxe-table--ignore-clear").flag||y.preventEvent(o,"event.clearCustom",{},()=>{M.closeCustom&&M.closeCustom()})),xe.row){if(B.autoClear!==!1){const Ee=xe.args.cell;(!Ee||!xt(o,Ee).flag)&&(Ie&&xt(o,Ie.$el).flag||(!f._lastCallTime||f._lastCallTime+50<Date.now())&&(xt(o,document.body,"vxe-table--ignore-clear").flag||y.preventEvent(o,"event.clearEdit",xe.args,()=>{let We;if(B.mode==="row"){const Je=xt(o,z,"vxe-body--row"),ct=Je.flag?d.getRowNode(Je.targetElem):null;We=ct?!M.eqRow(ct.item,xe.args.row):!1}else We=!xt(o,z,"col--edit").flag;if(We||(We=xt(o,z,"vxe-header--row").flag),We||(We=xt(o,z,"vxe-footer--row").flag),!We&&e.height&&!i.overflowY){const Je=o.target;fn(Je,"vxe-table--body-wrapper")&&(We=o.offsetY<Je.clientHeight)}(We||!xt(o,z).flag)&&setTimeout(()=>M.clearEdit(o))})))}}else w&&!xt(o,z).flag&&!(J&&xt(o,J.getRefMaps().refElem.value).flag)&&!(Me&&xt(o,Me.getRefMaps().refElem.value).flag)&&!(N&&xt(o,N.getRefMaps().refElem.value).flag)&&(M.clearSelected&&M.clearSelected(),U.autoClear&&M.clearCellAreas&&(xt(o,document.body,"vxe-table--ignore-areas-clear").flag||y.preventEvent(o,"event.clearAreas",{},()=>{M.clearCellAreas(),M.clearCopyCellArea()})));M.closeMenu&&a.visible&&Me&&!xt(o,Me.getRefMaps().refElem.value).flag&&M.closeMenu();const Ae=xt(o,J?J.getRefMaps().refElem.value:z).flag;!Ae&&O&&Z.autoClear&&(i.validErrorMaps={}),f.isActivated=Ae},Fs=()=>{d.closeFilter(),M.closeMenu&&M.closeMenu()},Ls=()=>{d.closeTooltip(),M.closeMenu&&M.closeMenu()},Ns=o=>{const{mouseConfig:l,keyboardConfig:a}=e,{filterStore:u,ctxMenuStore:v,editStore:w}=i,O=le.value,z=be.value,{actived:B}=w;ht(o,ut.ESCAPE)&&y.preventEvent(o,"event.keydown",null,()=>{if(d.dispatchEvent("keydown-start",{},o),a&&l&&O.area&&M.handleKeyboardEvent)M.handleKeyboardEvent(o);else if((B.row||u.visible||v.visible)&&(o.stopPropagation(),M.closeMenu&&M.closeMenu(),d.closeFilter(),a&&z.isEsc&&B.row)){const U=B.args;M.clearEdit(o),O.selected&&oe(()=>M.handleSelected(U,o))}d.dispatchEvent("keydown",{},o),d.dispatchEvent("keydown-end",{},o)})},os=o=>{f.isActivated&&y.preventEvent(o,"event.keydown",null,()=>{const{mouseConfig:l,keyboardConfig:a,treeConfig:u,editConfig:v,highlightCurrentRow:w}=e,{ctxMenuStore:O,editStore:z,currentRow:B}=i,Z=ke.value,U=_e.value,xe=be.value,Ie=le.value,Te=Re.value,Ne=G.value,Me=X.value,Ae=De.value,{selected:Ee,actived:We}=z,Je=Ne.children||Ne.childrenField,ct=o.keyCode,nt=ht(o,ut.ESCAPE),dt=ht(o,ut.BACKSPACE),Pt=ht(o,ut.TAB),Wt=ht(o,ut.ENTER),Ft=ht(o,ut.SPACEBAR),St=ht(o,ut.ARROW_LEFT),Et=ht(o,ut.ARROW_UP),Ht=ht(o,ut.ARROW_RIGHT),io=ht(o,ut.ARROW_DOWN),_o=ht(o,ut.DELETE),Xn=ht(o,ut.F2),Mn=ht(o,ut.CONTEXT_MENU),vl=o.metaKey,kn=o.ctrlKey,ln=o.shiftKey,Dn=o.altKey,In=St||Et||Ht||io,To=Z&&O.visible&&(Wt||Ft||In),Fn=pt(v)&&We.column&&We.row;let mo;if(To)o.preventDefault(),O.showChild&&ll(O.selected)?M.moveCtxMenu(o,O,"selectChild",St,!1,O.selected.children):M.moveCtxMenu(o,O,"selected",Ht,!0,Me);else if(a&&l&&Ie.area&&M.handleKeyboardEvent)M.handleKeyboardEvent(o);else if(nt){if(M.closeMenu&&M.closeMenu(),d.closeFilter(),a&&xe.isEsc&&We.row){const oo=We.args;M.clearEdit(o),Ie.selected&&oe(()=>M.handleSelected(oo,o))}}else if(Ft&&a&&xe.isChecked&&Ee.row&&Ee.column&&(Ee.column.type==="checkbox"||Ee.column.type==="radio"))o.preventDefault(),Ee.column.type==="checkbox"?y.handleToggleCheckRowEvent(o,Ee.args):y.triggerRadioRowEvent(o,Ee.args);else if(Xn&&pt(v))Fn||Ee.row&&Ee.column&&(o.preventDefault(),M.handleActived(Ee.args,o));else if(Mn)f._keyCtx=Ee.row&&Ee.column&&U.length,clearTimeout(ts),ts=setTimeout(()=>{f._keyCtx=!1},1e3);else if(Wt&&!Dn&&a&&xe.isEnter&&(Ee.row||We.row||u&&(Ae.isCurrent||w)&&B)){if(kn)We.row&&(mo=We.args,M.clearEdit(o),Ie.selected&&oe(()=>M.handleSelected(mo,o)));else if(Ee.row||We.row){const oo=Ee.row?Ee.args:We.args;ln?xe.enterToTab?M.moveTabSelected(oo,ln,o):M.moveSelected(oo,St,!0,Ht,!1,o):xe.enterToTab?M.moveTabSelected(oo,ln,o):M.moveSelected(oo,St,!1,Ht,!0,o)}else if(u&&(Ae.isCurrent||w)&&B){const oo=B[Je];if(oo&&oo.length){o.preventDefault();const wo=oo[0];mo={$table:M,row:wo,rowIndex:d.getRowIndex(wo),$rowIndex:d.getVMRowIndex(wo)},d.setTreeExpand(B,!0).then(()=>d.scrollToRow(wo)).then(()=>y.triggerCurrentRowEvent(o,mo))}}}else if(In&&a&&xe.isArrow)Fn||(Ee.row&&Ee.column?M.moveSelected(Ee.args,St,Et,Ht,io,o):(Et||io)&&(Ae.isCurrent||w)&&M.moveCurrentRow(Et,io,o));else if(Pt&&a&&xe.isTab)Ee.row||Ee.column?M.moveTabSelected(Ee.args,ln,o):(We.row||We.column)&&M.moveTabSelected(We.args,ln,o);else if(a&&pt(v)&&(_o||(u&&(Ae.isCurrent||w)&&B?dt&&xe.isArrow:dt))){if(!Fn){const{delMethod:oo,backMethod:wo}=xe;if(xe.isDel&&(Ee.row||Ee.column))oo?oo({row:Ee.row,rowIndex:d.getRowIndex(Ee.row),column:Ee.column,columnIndex:d.getColumnIndex(Ee.column),$table:M}):an(Ee.row,Ee.column,null),dt?wo?wo({row:Ee.row,rowIndex:d.getRowIndex(Ee.row),column:Ee.column,columnIndex:d.getColumnIndex(Ee.column),$table:M}):M.handleActived(Ee.args,o):_o&&d.updateFooter();else if(dt&&xe.isArrow&&u&&(Ae.isCurrent||w)&&B){const{parent:ho}=n.findTree(f.afterFullData,Ln=>Ln===B,{children:Je});ho&&(o.preventDefault(),mo={$table:M,row:ho,rowIndex:d.getRowIndex(ho),$rowIndex:d.getVMRowIndex(ho)},d.setTreeExpand(ho,!1).then(()=>d.scrollToRow(ho)).then(()=>y.triggerCurrentRowEvent(o,mo)))}}}else if(a&&pt(v)&&xe.isEdit&&!kn&&!vl&&(Ft||ct>=48&&ct<=57||ct>=65&&ct<=90||ct>=96&&ct<=111||ct>=186&&ct<=192||ct>=219&&ct<=222)){const{editMethod:oo}=xe;if(Ee.column&&Ee.row&&pt(Ee.column.editRender)){const wo=Te.beforeEditMethod||Te.activeMethod;if(!wo||wo(Object.assign(Object.assign({},Ee.args),{$table:M,$grid:J}))){oo?oo({row:Ee.row,rowIndex:d.getRowIndex(Ee.row),column:Ee.column,columnIndex:d.getColumnIndex(Ee.column),$table:M,$grid:J}):(an(Ee.row,Ee.column,null),M.handleActived(Ee.args,o));const ho=Te.afterEditMethod;ho&&oe(()=>{ho({row:Ee.row,rowIndex:d.getRowIndex(Ee.row),column:Ee.column,columnIndex:d.getColumnIndex(Ee.column),$table:M,$grid:J})})}}}d.dispatchEvent("keydown",{},o)})},ns=o=>{const{keyboardConfig:l,mouseConfig:a}=e,{editStore:u,filterStore:v}=i,{isActivated:w}=f,O=le.value,z=be.value,{actived:B}=u;w&&!v.visible&&(B.row||B.column||l&&z.isClip&&a&&O.area&&M.handlePasteCellAreaEvent&&M.handlePasteCellAreaEvent(o),d.dispatchEvent("paste",{},o))},Ps=o=>{const{keyboardConfig:l,mouseConfig:a}=e,{editStore:u,filterStore:v}=i,{isActivated:w}=f,O=le.value,z=be.value,{actived:B}=u;w&&!v.visible&&(B.row||B.column||l&&z.isClip&&a&&O.area&&M.handleCopyCellAreaEvent&&M.handleCopyCellAreaEvent(o),d.dispatchEvent("copy",{},o))},Vs=o=>{const{keyboardConfig:l,mouseConfig:a}=e,{editStore:u,filterStore:v}=i,{isActivated:w}=f,O=le.value,z=be.value,{actived:B}=u;w&&!v.visible&&(B.row||B.column||l&&z.isClip&&a&&O.area&&M.handleCutCellAreaEvent&&M.handleCutCellAreaEvent(o),d.dispatchEvent("cut",{},o))},As=()=>{M.closeMenu&&M.closeMenu(),d.updateCellAreas(),d.recalculate(!0)},Yn=o=>{const l=W.value;clearTimeout(f.tooltipTimeout),o?d.closeTooltip():l&&l.setActived(!0)},hl=(o,l,a,u,v)=>{v.cell=l;const{tooltipStore:w}=i,O=Q.value,{column:z,row:B}=v,{showAll:Z,contentMethod:U}=O,xe=U?U(v):null,Ie=U&&!n.eqNull(xe),Te=Ie?xe:n.toString(z.type==="html"?a.innerText:a.textContent).trim(),Ne=a.scrollWidth>a.clientWidth;return Te&&(Z||Ie||Ne)&&(Object.assign(w,{row:B,column:z,visible:!0}),oe(()=>{const Me=W.value;Me&&Me.open(Ne?a:u||a,Yt(Te))})),oe()};y={getSetupOptions(){return m},updateAfterDataIndex:At,callSlot(o,l){if(o){if(J)return J.callSlot(o,l);if(n.isFunction(o))return $t(o(l))}return[]},getParentElem(){const o=$.value;if(J){const l=J.getRefMaps().refElem.value;return l?l.parentNode:null}return o?o.parentNode:null},getParentHeight(){const{height:o}=e,l=$.value;if(l){const a=l.parentNode,u=o==="auto"?di(a):0;return Math.floor(J?J.getParentHeight():n.toNumber(getComputedStyle(a).height)-u)}return 0},getExcludeHeight(){return J?J.getExcludeHeight():0},defineField(o){const{treeConfig:l}=e,a=A.value,u=G.value,v=ae.value,w=k.value,O=u.children||u.childrenField,z=Pn(M);return n.isArray(o)||(o=[o]),o.map(B=>(f.tableFullColumn.forEach(U=>{const{field:xe,editRender:Ie}=U;if(xe&&!n.has(B,xe)&&!B[xe]){let Te=null;if(Ie){const{defaultValue:Ne}=Ie;n.isFunction(Ne)?Te=Ne({column:U}):n.isUndefined(Ne)||(Te=Ne)}n.set(B,xe,Te)}}),[v.labelField,w.checkField,w.labelField,a.labelField].forEach(U=>{U&&qo(n.get(B,U))&&n.set(B,U,null)}),l&&u.lazy&&n.isUndefined(B[O])&&(B[O]=null),qo(n.get(B,z))&&n.set(B,z,Ys()),B))},handleTableData(o){const{scrollYLoad:l}=i,{scrollYStore:a,fullDataRowIdData:u}=f;let v=f.afterFullData;o&&(lo(),v=Xt());const w=l?v.slice(a.startIndex,a.endIndex):v.slice(0);return w.forEach((O,z)=>{const B=ze(M,O),Z=u[B];Z&&(Z.$index=z)}),i.tableData=w,oe()},cacheRowMap(o){const{treeConfig:l}=e,a=G.value;let{fullDataRowIdData:u,fullAllDataRowIdData:v,tableFullData:w,tableFullTreeData:O}=f;const z=a.children||a.childrenField,B=a.hasChild||a.hasChildField,Z=Pn(M),U=l&&a.lazy,xe=(Ie,Te,Ne,Me,Ae,Ee)=>{let We=ze(M,Ie);const Je=l&&Me?lc(Me):Te+1,ct=Ee?Ee.length-1:0;qo(We)&&(We=Ys(),n.set(Ie,Z,We)),U&&Ie[B]&&n.isUndefined(Ie[z])&&(Ie[z]=null);const nt={row:Ie,rowid:We,seq:Je,index:l&&Ae?-1:Te,_index:-1,$index:-1,items:Ne,parent:Ae,level:ct};o&&(u[We]=nt),v[We]=nt};o&&(u=f.fullDataRowIdData={}),v=f.fullAllDataRowIdData={},l?n.eachTree(O,xe,{children:z}):w.forEach(xe)},cacheSourceMap(o){const{treeConfig:l}=e,a=G.value;let{sourceDataRowIdData:u}=f;const v=n.clone(o,!0),w=Pn(M);u=f.sourceDataRowIdData={};const O=z=>{let B=ze(M,z);qo(B)&&(B=Ys(),n.set(z,w,B)),u[B]=z};if(l){const z=a.children||a.childrenField;n.eachTree(v,O,{children:a.transform?a.mapChildrenField:z})}else v.forEach(O);f.tableSourceData=v},analyColumnWidth(){const{tableFullColumn:o}=f,l=pe.value,{width:a,minWidth:u}=l,v=[],w=[],O=[],z=[],B=[],Z=[];o.forEach(U=>{a&&!U.width&&(U.width=a),u&&!U.minWidth&&(U.minWidth=u),U.visible&&(U.resizeWidth?v.push(U):ci(U.width)?w.push(U):kl(U.width)?z.push(U):ci(U.minWidth)?O.push(U):kl(U.minWidth)?B.push(U):Z.push(U))}),Object.assign(i.columnStore,{resizeList:v,pxList:w,pxMinList:O,scaleList:z,scaleMinList:B,autoList:Z})},saveCustomResizable(o){const{id:l,customConfig:a}=e,u=qe.value,{collectColumn:v}=f,{storage:w}=u,O=w===!0,z=O?{}:Object.assign({},w||{}),B=O||z.resizable;if(a&&B){const Z=ft(li);let U;if(!l){Jt("vxe.error.reqProp",["id"]);return}o||(U=n.isPlainObject(Z[l])?Z[l]:{},n.eachTree(v,xe=>{if(xe.resizeWidth){const Ie=xe.getKey();Ie&&(U[Ie]=xe.renderWidth)}})),Z[l]=n.isEmpty(U)?void 0:U,localStorage.setItem(li,n.toJSONString(Z))}},saveCustomSort(o){const{id:l,customConfig:a}=e,u=qe.value,{collectColumn:v}=f,{storage:w}=u,O=w===!0,z=O?{}:Object.assign({},w||{}),B=O||z.sort;if(a&&B){const Z=ft(ri);let U;if(!l){Jt("vxe.error.reqProp",["id"]);return}o||(U=n.isPlainObject(Z[l])?Z[l]:{},v.forEach(xe=>{if(xe.sortNumber!==xe.renderSortNumber){const Ie=xe.getKey();Ie&&(U[Ie]=xe.renderSortNumber)}})),Z[l]=n.isEmpty(U)?void 0:U,localStorage.setItem(ri,n.toJSONString(Z))}},saveCustomFixed(){const{id:o,customConfig:l}=e,{collectColumn:a}=f,u=qe.value,{storage:v}=u,w=v===!0,O=w?{}:Object.assign({},v||{}),z=w||O.fixed;if(l&&z){const B=ft(ii),Z=[];if(!o){Jt("vxe.error.reqProp",["id"]);return}n.eachTree(a,U=>{if(U.fixed&&U.fixed!==U.defaultFixed){const xe=U.getKey();xe&&Z.push(`${xe}|${U.fixed}`)}}),B[o]=Z.join(",")||void 0,localStorage.setItem(ii,n.toJSONString(B))}},saveCustomVisible(){const{id:o,customConfig:l}=e,{collectColumn:a}=f,u=qe.value,{checkMethod:v,storage:w}=u,O=w===!0,z=O?{}:Object.assign({},w||{}),B=O||z.visible;if(l&&B){const Z=ft(si),U=[],xe=[];if(!o){Jt("vxe.error.reqProp",["id"]);return}n.eachTree(a,Ie=>{if(!v||v({column:Ie})){if(!Ie.visible&&Ie.defaultVisible){const Te=Ie.getKey();Te&&U.push(Te)}else if(Ie.visible&&!Ie.defaultVisible){const Te=Ie.getKey();Te&&xe.push(Te)}}}),Z[o]=[U.join(",")].concat(xe.length?[xe.join(",")]:[]).join("|")||void 0,localStorage.setItem(si,n.toJSONString(Z))}},handleCustom(){const{mouseConfig:o}=e;return o&&(M.clearSelected&&M.clearSelected(),M.clearCellAreas&&(M.clearCellAreas(),M.clearCopyCellArea())),y.saveCustomVisible(),y.saveCustomSort(),y.analyColumnWidth(),d.refreshColumn(!0)},handleUpdateDataQueue(){i.upDataFlag++},handleRefreshColumnQueue(){i.reColumnFlag++},preventEvent(o,l,a,u,v){let w=ot.interceptor.get(l);!w.length&&l==="event.clearEdit"&&(w=ot.interceptor.get("event.clearActived"));let O;return w.some(z=>z(Object.assign({$grid:J,$table:M,$event:o},a))===!1)||u&&(O=u()),v&&v(),O},checkSelectionStatus(){const{treeConfig:o}=e,{selectCheckboxMaps:l,treeIndeterminateMaps:a}=i,{afterFullData:u}=f,v=k.value,{checkField:w,checkStrictly:O,checkMethod:z}=v,B=v.indeterminateField||v.halfField;if(!O){const Z=[];let U=!1,xe=!1,Ie=!1;w?(U=u.every(z?Te=>z({row:Te})?!!n.get(Te,w):(Z.push(Te),!0):Te=>n.get(Te,w)),xe=U&&u.length!==Z.length,o?B?Ie=!xe&&u.some(Te=>n.get(Te,w)||n.get(Te,B)||!!a[ze(M,Te)]):Ie=!xe&&u.some(Te=>n.get(Te,w)||!!a[ze(M,Te)]):B?Ie=!xe&&u.some(Te=>n.get(Te,w)||n.get(Te,B)):Ie=!xe&&u.some(Te=>n.get(Te,w))):(U=u.every(z?Te=>z({row:Te})?!!l[ze(M,Te)]:(Z.push(Te),!0):Te=>l[ze(M,Te)]),xe=U&&u.length!==Z.length,o?Ie=!xe&&u.some(Te=>{const Ne=ze(M,Te);return a[Ne]||l[Ne]}):Ie=!xe&&u.some(Te=>l[ze(M,Te)])),i.isAllSelected=xe,i.isIndeterminate=Ie}},handleSelectRow({row:o},l,a){const{treeConfig:u}=e,{selectCheckboxMaps:v,treeIndeterminateMaps:w}=i,O=Object.assign({},v),{afterFullData:z}=f,B=G.value,Z=B.children||B.childrenField,U=k.value,{checkField:xe,checkStrictly:Ie,checkMethod:Te}=U,Ne=U.indeterminateField||U.halfField,Me=ze(M,o);if(xe)if(u&&!Ie){l===-1?(w[Me]||(Ne&&n.set(o,Ne,!0),w[Me]=o),n.set(o,xe,!1)):n.eachTree([o],Ee=>{(M.eqRow(Ee,o)||a||!Te||Te({row:Ee}))&&(n.set(Ee,xe,l),Ne&&n.set(o,Ne,!1),delete w[ze(M,Ee)],yo(o,l))},{children:Z});const Ae=n.findTree(z,Ee=>M.eqRow(Ee,o),{children:Z});if(Ae&&Ae.parent){let Ee;const We=[],Je={};if(!a&&Te?Ae.items.forEach(nt=>{if(Te({row:nt})){const dt=ze(M,nt);Je[dt]=nt,We.push(nt)}}):Ae.items.forEach(nt=>{const dt=ze(M,nt);Je[dt]=nt,We.push(nt)}),n.find(Ae.items,nt=>!!w[ze(M,nt)]))Ee=-1;else{const nt=[];Ae.items.forEach(dt=>{n.get(dt,xe)&&nt.push(dt)}),Ee=nt.filter(dt=>Je[ze(M,dt)]).length===We.length?!0:nt.length||l===-1?-1:!1}return i.selectCheckboxMaps=O,y.handleSelectRow({row:Ae.parent},Ee,a)}}else(a||!Te||Te({row:o}))&&(n.set(o,xe,l),yo(o,l));else if(u&&!Ie){l===-1?(w[Me]||(Ne&&n.set(o,Ne,!0),w[Me]=o),O[Me]&&delete O[Me]):n.eachTree([o],Ee=>{const We=ze(M,Ee);(M.eqRow(Ee,o)||a||!Te||Te({row:Ee}))&&(l?O[We]=Ee:O[We]&&delete O[We],Ne&&n.set(o,Ne,!1),delete w[ze(M,Ee)],yo(o,l))},{children:Z});const Ae=n.findTree(z,Ee=>M.eqRow(Ee,o),{children:Z});if(Ae&&Ae.parent){let Ee;const We=[],Je={};if(!a&&Te?Ae.items.forEach(nt=>{if(Te({row:nt})){const dt=ze(M,nt);Je[dt]=nt,We.push(nt)}}):Ae.items.forEach(nt=>{const dt=ze(M,nt);Je[dt]=nt,We.push(nt)}),n.find(Ae.items,nt=>!!w[ze(M,nt)]))Ee=-1;else{const nt=[];Ae.items.forEach(dt=>{const Pt=ze(M,dt);O[Pt]&&nt.push(dt)}),Ee=nt.filter(dt=>Je[ze(M,dt)]).length===We.length?!0:nt.length||l===-1?-1:!1}return i.selectCheckboxMaps=O,y.handleSelectRow({row:Ae.parent},Ee,a)}}else(a||!Te||Te({row:o}))&&(l?O[Me]||(O[Me]=o):O[Me]&&delete O[Me],yo(o,l));i.selectCheckboxMaps=O,y.checkSelectionStatus()},triggerHeaderTitleEvent(o,l,a){const u=l.content||l.message;if(u){const{tooltipStore:v}=i,{column:w}=a,O=jt(u);Yn(!0),v.row=null,v.column=w,v.visible=!0,oe(()=>{const z=W.value;z&&z.open(o.currentTarget,O)})}},triggerHeaderTooltipEvent(o,l){const{tooltipStore:a}=i,{column:u}=l,v=o.currentTarget;Yn(!0),(a.column!==u||!a.visible)&&hl(o,v,v,null,l)},triggerBodyTooltipEvent(o,l){const{editConfig:a}=e,{editStore:u}=i,{tooltipStore:v}=i,w=Re.value,{actived:O}=u,{row:z,column:B}=l,Z=o.currentTarget;if(Yn(v.column!==B||v.row!==z),!(B.editRender&&pt(a)&&(w.mode==="row"&&O.row===z||O.row===z&&O.column===B))&&(v.column!==B||v.row!==z||!v.visible)){let U,xe;B.treeNode?(U=Z.querySelector(".vxe-tree-cell"),B.type==="html"&&(xe=Z.querySelector(".vxe-cell--html"))):xe=Z.querySelector(B.type==="html"?".vxe-cell--html":".vxe-cell--label"),hl(o,Z,U||Z.children[0],xe,l)}},triggerFooterTooltipEvent(o,l){const{column:a}=l,{tooltipStore:u}=i,v=o.currentTarget;Yn(u.column!==a||!!u.row),(u.column!==a||!u.visible)&&hl(o,v,v.querySelector(".vxe-cell--item")||v.children[0],null,l)},handleTargetLeaveEvent(){const o=Q.value;let l=W.value;l&&l.setActived(!1),o.enterable?f.tooltipTimeout=setTimeout(()=>{l=W.value,l&&!l.isActived()&&d.closeTooltip()},o.leaveDelay):d.closeTooltip()},triggerHeaderCellClickEvent(o,l){const{_lastResizeTime:a}=f,u=te.value,v=pe.value,{column:w}=l,O=o.currentTarget,z=a&&a>Date.now()-300,B=xt(o,O,"vxe-cell--sort").flag,Z=xt(o,O,"vxe-cell--filter").flag;u.trigger==="cell"&&!(z||B||Z)&&y.triggerSortEvent(o,w,bt(w)),d.dispatchEvent("header-cell-click",Object.assign({triggerResizable:z,triggerSort:B,triggerFilter:Z,cell:O},l),o),(v.isCurrent||e.highlightCurrentColumn)&&d.setCurrentColumn(w)},triggerHeaderCellDblclickEvent(o,l){d.dispatchEvent("header-cell-dblclick",Object.assign({cell:o.currentTarget},l),o)},triggerCellClickEvent(o,l){const{highlightCurrentRow:a,editConfig:u}=e,{editStore:v}=i,w=A.value,O=Re.value,z=G.value,B=ae.value,Z=k.value,U=be.value,xe=De.value,{actived:Ie,focused:Te}=v,{row:Ne,column:Me}=l,{type:Ae,treeNode:Ee}=Me,We=Ae==="radio",Je=Ae==="checkbox",ct=Ae==="expand",nt=o.currentTarget,dt=We&&xt(o,nt,"vxe-cell--radio").flag,Pt=Je&&xt(o,nt,"vxe-cell--checkbox").flag,Wt=Ee&&xt(o,nt,"vxe-tree--btn-wrapper").flag,Ft=ct&&xt(o,nt,"vxe-table--expanded").flag;l=Object.assign({cell:nt,triggerRadio:dt,triggerCheckbox:Pt,triggerTreeNode:Wt,triggerExpandNode:Ft},l),!Pt&&!dt&&(!Ft&&(w.trigger==="row"||ct&&w.trigger==="cell")&&y.triggerRowExpandEvent(o,l),(z.trigger==="row"||Ee&&z.trigger==="cell")&&y.triggerTreeExpandEvent(o,l)),Wt||(Ft||((xe.isCurrent||a)&&!Pt&&!dt&&y.triggerCurrentRowEvent(o,l),!dt&&(B.trigger==="row"||We&&B.trigger==="cell")&&y.triggerRadioRowEvent(o,l),!Pt&&(Z.trigger==="row"||Je&&Z.trigger==="cell")&&y.handleToggleCheckRowEvent(o,l)),pt(u)&&(U.arrowCursorLock&&o&&O.mode==="cell"&&o.target&&/^input|textarea$/i.test(o.target.tagName)&&(Te.column=Me,Te.row=Ne),O.trigger==="manual"?Ie.args&&Ie.row===Ne&&Me!==Ie.column&&Fo(o,l):(!Ie.args||Ne!==Ie.row||Me!==Ie.column)&&(O.trigger==="click"||O.trigger==="dblclick"&&O.mode==="row"&&Ie.row===Ne)&&Fo(o,l))),d.dispatchEvent("cell-click",l,o)},triggerCellDblclickEvent(o,l){const{editConfig:a}=e,{editStore:u}=i,v=Re.value,{actived:w}=u,O=o.currentTarget;l=Object.assign({cell:O},l),pt(a)&&v.trigger==="dblclick"&&(!w.args||o.currentTarget!==w.args.cell)&&(v.mode==="row"?Co("blur").catch(z=>z).then(()=>{M.handleActived(l,o).then(()=>Co("change")).catch(z=>z)}):v.mode==="cell"&&M.handleActived(l,o).then(()=>Co("change")).catch(z=>z)),d.dispatchEvent("cell-dblclick",l,o)},handleToggleCheckRowEvent(o,l){const{selectCheckboxMaps:a}=i,u=k.value,{checkField:v}=u,{row:w}=l;let O=!1;v?O=!n.get(w,v):O=!a[ze(M,w)],o?y.triggerCheckRowEvent(o,l,O):y.handleSelectRow(l,O)},triggerCheckRowEvent(o,l,a){const u=k.value,{row:v}=l,{afterFullData:w}=f,{checkMethod:O}=u;if(u.isShiftKey&&o.shiftKey&&!e.treeConfig){const z=d.getCheckboxRecords();if(z.length){const B=z[0],Z=d.getVTRowIndex(v),U=d.getVTRowIndex(B);if(Z!==U){d.setAllCheckboxRow(!1);const xe=Z<U?w.slice(Z,U+1):w.slice(U,Z+1);Lo(xe,!0,!1),d.dispatchEvent("checkbox-range-select",Object.assign({rangeRecords:xe},l),o);return}}}(!O||O({row:v}))&&(y.handleSelectRow(l,a),d.dispatchEvent("checkbox-change",Object.assign({records:d.getCheckboxRecords(),reserves:d.getCheckboxReserveRecords(),indeterminates:d.getCheckboxIndeterminateRecords(),checked:a},l),o))},triggerCheckAllEvent(o,l){No(l),o&&d.dispatchEvent("checkbox-all",{records:d.getCheckboxRecords(),reserves:d.getCheckboxReserveRecords(),indeterminates:d.getCheckboxIndeterminateRecords(),checked:l},o)},triggerRadioRowEvent(o,l){const{selectRadioRow:a}=i,{row:u}=l,v=ae.value;let w=u,O=a!==w;O?to(w):v.strict||(O=a===w,O&&(w=null,d.clearRadioRow())),O&&d.dispatchEvent("radio-change",Object.assign({oldValue:a,newValue:w},l),o)},triggerCurrentRowEvent(o,l){const{currentRow:a}=i,{row:u}=l,v=a!==u;d.setCurrentRow(u),v&&d.dispatchEvent("current-change",Object.assign({oldValue:a,newValue:u},l),o)},triggerRowExpandEvent(o,l){const{rowExpandLazyLoadedMaps:a,expandColumn:u}=i,v=A.value,{row:w}=l,{lazy:O}=v,z=ze(M,w);if(!O||!a[z]){const B=!d.isRowExpandByRow(w),Z=d.getColumnIndex(u),U=d.getVMColumnIndex(u);d.setRowExpand(w,B),d.dispatchEvent("toggle-row-expand",{expanded:B,column:u,columnIndex:Z,$columnIndex:U,row:w,rowIndex:d.getRowIndex(w),$rowIndex:d.getVMRowIndex(w)},o)}},triggerTreeExpandEvent(o,l){const{treeExpandLazyLoadedMaps:a}=i,u=G.value,{row:v,column:w}=l,{lazy:O}=u,z=ze(M,v);if(!O||!a[z]){const B=!d.isTreeExpandByRow(v),Z=d.getColumnIndex(w),U=d.getVMColumnIndex(w);d.setTreeExpand(v,B),d.dispatchEvent("toggle-tree-expand",{expanded:B,column:w,columnIndex:Z,$columnIndex:U,row:v},o)}},triggerSortEvent(o,l,a){const{mouseConfig:u}=e,v=te.value,w=le.value,{field:O,sortable:z}=l;if(z){!a||l.order===a?d.clearSort(v.multiple?l:null):d.sort({field:O,order:a});const B={$table:M,$event:o,column:l,field:O,property:O,order:l.order,sortList:d.getSortColumns(),sortTime:l.sortTime};u&&w.area&&M.handleSortEvent&&M.handleSortEvent(o,B),d.dispatchEvent("sort-change",B,o)}},triggerScrollXEvent(){on()},triggerScrollYEvent(o){const{scrollYStore:l}=f,{adaptive:a,offsetSize:u,visibleSize:v}=l;hd&&a&&u*2+v<=40?es(o):Ds(o)},scrollToTreeRow(o){const{treeConfig:l}=e,{tableFullData:a}=f,u=[];if(l){const v=G.value,w=v.children||v.childrenField,O=n.findTree(a,z=>M.eqRow(z,o),{children:w});if(O){const z=O.nodes;z.forEach((B,Z)=>{Z<z.length-1&&!d.isTreeExpandByRow(B)&&u.push(d.setTreeExpand(B,!0))})}}return Promise.all(u).then(()=>mr(M,o))},updateScrollYStatus:ml,updateScrollXSpace(){const{isGroup:o,scrollXLoad:l,scrollbarWidth:a}=i,{visibleColumn:u,scrollXStore:v,elemStore:w,tableWidth:O}=f,z=E.value,B=R.value,Z=L.value,U=B?B.$el:null;if(U){const xe=z?z.$el:null,Ie=Z?Z.$el:null,Te=xe?xe.querySelector(".vxe-table--header"):null,Ne=U.querySelector(".vxe-table--body"),Me=Ie?Ie.querySelector(".vxe-table--footer"):null,Ae=u.slice(0,v.startIndex).reduce((Je,ct)=>Je+ct.renderWidth,0);let Ee="";l&&(Ee=`${Ae}px`),Te&&(Te.style.marginLeft=o?"":Ee),Ne.style.marginLeft=Ee,Me&&(Me.style.marginLeft=Ee),["main"].forEach(Je=>{["header","body","footer"].forEach(nt=>{const dt=w[`${Je}-${nt}-xSpace`],Pt=dt?dt.value:null;Pt&&(Pt.style.width=l?`${O+(nt==="header"?a:0)}px`:"")})}),oe(Ut)}},updateScrollYSpace(){const{scrollYLoad:o}=i,{scrollYStore:l,elemStore:a,afterFullData:u}=f,{startIndex:v,rowHeight:w}=l,O=u.length*w,z=Math.max(0,v*w),B=["main","left","right"];let Z="",U="";o&&(Z=`${z}px`,U=`${O}px`),B.forEach(xe=>{const Ie=["header","body","footer"],Te=a[`${xe}-body-table`],Ne=Te?Te.value:null;Ne&&(Ne.style.marginTop=Z),Ie.forEach(Me=>{const Ae=a[`${xe}-${Me}-ySpace`],Ee=Ae?Ae.value:null;Ee&&(Ee.style.height=U)})}),oe(Ut)},updateScrollXData(){oe(()=>{Zt(),y.updateScrollXSpace()})},updateScrollYData(){oe(()=>{y.handleTableData(),y.updateScrollYSpace()})},checkScrolling(){const o=ye.value,l=ne.value,a=R.value,u=a?a.$el:null;u&&(o&&(u.scrollLeft>0?cn(o,"scrolling--middle"):Do(o,"scrolling--middle")),l&&(u.clientWidth<u.scrollWidth-Math.ceil(u.scrollLeft)?cn(l,"scrolling--middle"):Do(l,"scrolling--middle")))},updateZindex(){e.zIndex?f.tZindex=e.zIndex:f.tZindex<pn()&&(f.tZindex=en())},handleCheckedCheckboxRow:Lo,triggerHoverEvent(o,{row:l}){y.setHoverRow(l)},setHoverRow(o){const l=ze(M,o),a=$.value;y.clearHoverRow(),a&&n.arrayEach(a.querySelectorAll(`[rowid="${l}"]`),u=>cn(u,"row--hover")),f.hoverRow=o},clearHoverRow(){const o=$.value;o&&n.arrayEach(o.querySelectorAll(".vxe-body--row.row--hover"),l=>Do(l,"row--hover")),f.hoverRow=null},getCell(o,l){const a=ze(M,o),u=R.value,v=F.value,w=ue.value;let O;return l&&(l.fixed&&(l.fixed==="left"?v&&(O=v.$el):w&&(O=w.$el)),O||(O=u.$el),O)?O.querySelector(`.vxe-body--row[rowid="${a}"] .${l.id}`):null},getCellLabel(o,l){const a=l.formatter,u=Ho(o,l);let v=u;if(a){let w;const{fullAllDataRowIdData:O}=f,z=ze(M,o),B=l.id,Z=O[z];if(Z&&(w=Z.formatData,w||(w=O[z].formatData={}),Z&&w[B]&&w[B].value===u))return w[B].label;const U={cellValue:u,row:o,rowIndex:d.getRowIndex(o),column:l,columnIndex:d.getColumnIndex(l)};if(n.isString(a)){const xe=ot.formats.get(a);v=xe&&xe.cellFormatMethod?xe.cellFormatMethod(U):""}else if(n.isArray(a)){const xe=ot.formats.get(a[0]);v=xe&&xe.cellFormatMethod?xe.cellFormatMethod(U,...a.slice(1)):""}else v=a(U);w&&(w[B]={value:u,label:v})}return v},findRowIndexOf(o,l){return l?n.findIndexOf(o,a=>M.eqRow(a,l)):-1},eqRow(o,l){return o&&l?o===l?!0:ze(M,o)===ze(M,l):!1}},Object.assign(M,d,y);const ls=o=>{const{showHeader:l,showFooter:a}=e,{tableData:u,tableColumn:v,tableGroupColumn:w,columnStore:O,footerTableData:z}=i,B=o==="left",Z=B?O.leftList:O.rightList;return r("div",{ref:B?ye:ne,class:`vxe-table--fixed-${o}-wrapper`},[l?r($r,{ref:B?j:H,fixedType:o,tableData:u,tableColumn:v,tableGroupColumn:w,fixedColumn:Z}):Ot(),r(Ar,{ref:B?F:ue,fixedType:o,tableData:u,tableColumn:v,fixedColumn:Z}),a?r(Br,{ref:B?D:Ce,footerTableData:z,tableColumn:v,fixedColumn:Z,fixedType:o}):Ot()])},$s=()=>{const o=ge.value,l={$table:M};if(s.empty)return s.empty(l);{const a=o.name?ot.renderer.get(o.name):null,u=a?a.renderEmpty:null;if(u)return $t(u(o,l))}return jt(e.emptyText)||m.i18n("vxe.table.emptyText")};function gl(){const o=$.value;o&&o.clientWidth&&o.clientHeight&&d.recalculate()}const bl=Xe(0);at(()=>e.data?e.data.length:-1,()=>{bl.value++}),at(()=>e.data,()=>{bl.value++}),at(bl,()=>{const{inited:o,initStatus:l}=f;Ao(e.data||[]).then(()=>{f.inited=!0,f.initStatus=!0,l||gn(),o||Eo(),d.recalculate()})});const b=Xe(0);at(()=>i.staticColumns.length,()=>{b.value++}),at(()=>i.staticColumns,()=>{b.value++}),at(b,()=>{Rn(i.staticColumns)});const K=Xe(0);at(()=>i.tableColumn.length,()=>{K.value++}),at(()=>i.tableColumn,()=>{K.value++}),at(K,()=>{y.analyColumnWidth()}),at(()=>i.upDataFlag,()=>{oe(()=>{d.updateData()})}),at(()=>i.reColumnFlag,()=>{oe(()=>{d.refreshColumn()})}),at(()=>e.showHeader,()=>{oe(()=>{d.recalculate(!0).then(()=>d.refreshScroll())})}),at(()=>e.showFooter,()=>{oe(()=>{d.recalculate(!0).then(()=>d.refreshScroll())})});const de=Xe(0);at(()=>e.footerData?e.footerData.length:-1,()=>{de.value++}),at(()=>e.footerData,()=>{de.value++}),at(de,()=>{d.updateFooter()}),at(()=>e.height,()=>{oe(()=>d.recalculate(!0))}),at(()=>e.maxHeight,()=>{oe(()=>d.recalculate(!0))}),at(()=>e.syncResize,o=>{o&&(gl(),oe(()=>{gl(),setTimeout(()=>gl())}))});const Le=Xe(0);at(()=>e.mergeCells?e.mergeCells.length:-1,()=>{Le.value++}),at(()=>e.mergeCells,()=>{Le.value++}),at(Le,()=>{d.clearMergeCells(),oe(()=>{e.mergeCells&&d.setMergeCells(e.mergeCells)})});const Ue=Xe(0);at(()=>e.mergeFooterItems?e.mergeFooterItems.length:-1,()=>{Ue.value++}),at(()=>e.mergeFooterItems,()=>{Ue.value++}),at(Ue,()=>{d.clearMergeFooterItems(),oe(()=>{e.mergeFooterItems&&d.setMergeFooterItems(e.mergeFooterItems)})}),ot.hooks.forEach(o=>{const{setupTable:l}=o;if(l){const a=l(M);a&&n.isObject(a)&&Object.assign(M,a)}}),y.preventEvent(null,"created",{$table:M});let je;Gr(()=>{d.recalculate().then(()=>d.refreshScroll()),y.preventEvent(null,"activated",{$table:M})}),Qa(()=>{f.isActivated=!1,y.preventEvent(null,"deactivated",{$table:M})}),po(()=>{oe(()=>{const{data:o,treeConfig:l,showOverflow:a}=e,{scrollXStore:u,scrollYStore:v}=f,w=q.value;if(Re.value,G.value,ae.value,k.value,A.value,De.value,Object.assign(v,{startIndex:0,endIndex:0,visibleSize:0,adaptive:w.adaptive!==!1}),Object.assign(u,{startIndex:0,endIndex:0,visibleSize:0}),Ao(o||[]).then(()=>{o&&o.length&&(f.inited=!0,f.initStatus=!0,gn(),Eo()),Ut()}),e.autoResize){const O=we.value,{refreshDelay:z}=O,B=$.value,Z=y.getParentElem(),U=z?n.throttle(()=>d.recalculate(!0),z,{leading:!0,trailing:!0}):null;je=Pa(U?()=>{e.autoResize&&requestAnimationFrame(U)}:()=>{e.autoResize&&d.recalculate(!0)}),B&&je.observe(B),Z&&je.observe(Z)}}),gt.on(M,"paste",ns),gt.on(M,"copy",Ps),gt.on(M,"cut",Vs),gt.on(M,"mousedown",Is),gt.on(M,"blur",Fs),gt.on(M,"mousewheel",Ls),gt.on(M,"keydown",os),gt.on(M,"resize",As),M.handleGlobalContextmenuEvent&&gt.on(M,"contextmenu",M.handleGlobalContextmenuEvent),y.preventEvent(null,"mounted",{$table:M})}),hi(()=>{je&&je.disconnect(),d.closeFilter(),M.closeMenu&&M.closeMenu(),y.preventEvent(null,"beforeUnmount",{$table:M})}),ao(()=>{gt.off(M,"paste"),gt.off(M,"copy"),gt.off(M,"cut"),gt.off(M,"mousedown"),gt.off(M,"blur"),gt.off(M,"mousewheel"),gt.off(M,"keydown"),gt.off(M,"resize"),gt.off(M,"contextmenu"),y.preventEvent(null,"unmounted",{$table:M})});const tt=()=>{const{loading:o,stripe:l,showHeader:a,height:u,treeConfig:v,mouseConfig:w,showFooter:O,highlightCell:z,highlightHoverRow:B,highlightHoverColumn:Z,editConfig:U,editRules:xe}=e,{isGroup:Ie,overflowX:Te,overflowY:Ne,scrollXLoad:Me,scrollYLoad:Ae,scrollbarHeight:Ee,tableData:We,tableColumn:Je,tableGroupColumn:ct,footerTableData:nt,initStore:dt,columnStore:Pt,filterStore:Wt,customStore:Ft}=i,{leftList:St,rightList:Et}=Pt,Ht=s.loading,io=ie.value,_o=I.value,Xn=G.value,Mn=De.value,vl=pe.value,kn=p.value,ln=et.value,Dn=le.value,In=fe.value,To=Be.value,Fn=ke.value;return r("div",{ref:$,class:["vxe-table","vxe-table--render-default",`tid_${g}`,`border--${ln}`,{[`size--${kn}`]:kn,[`valid-msg--${_o.msgMode}`]:!!xe,"vxe-editable":!!U,"old-cell-valid":xe&&m.cellVaildMode==="obsolete","cell--highlight":z,"cell--selected":w&&Dn.selected,"cell--area":w&&Dn.area,"row--highlight":Mn.isHover||B,"column--highlight":vl.isHover||Z,"is--header":a,"is--footer":O,"is--group":Ie,"is--tree-line":v&&(Xn.showLine||Xn.line),"is--fixed-left":St.length,"is--fixed-right":Et.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!v&&l,"is--loading":o,"is--empty":!o&&!We.length,"is--scroll-y":Ne,"is--scroll-x":Te,"is--virtual-x":Me,"is--virtual-y":Ae}],onKeydown:Ns},[r("div",{class:"vxe-table-slots"},s.default?s.default({}):[]),r("div",{class:"vxe-table--render-wrapper"},[r("div",{class:"vxe-table--main-wrapper"},[a?r($r,{ref:E,tableData:We,tableColumn:Je,tableGroupColumn:ct}):Ot(),r(Ar,{ref:R,tableData:We,tableColumn:Je}),O?r(Br,{ref:L,footerTableData:nt,tableColumn:Je}):Ot()]),r("div",{class:"vxe-table--fixed-wrapper"},[St&&St.length&&Te?ls("left"):Ot(),Et&&Et.length&&Te?ls("right"):Ot()])]),r("div",{ref:se,class:"vxe-table--empty-placeholder"},[r("div",{class:"vxe-table--empty-content"},$s())]),r("div",{class:"vxe-table--border-line"}),r("div",{ref:re,class:"vxe-table--resizable-bar",style:Te?{"padding-bottom":`${Ee}px`}:null}),r(ws,{class:"vxe-table--loading",modelValue:o,icon:To.icon,text:To.text},Ht?{default:()=>Ht({$table:M,$grid:J})}:{}),dt.custom?r(fo("vxe-table-custom-panel"),{ref:S,customStore:Ft}):Ot(),dt.filter?r(fo("vxe-table-filter-panel"),{ref:C,filterStore:Wt}):Ot(),dt.import&&e.importConfig?r(fo("vxe-table-import-panel"),{defaultOptions:i.importParams,storeData:i.importStore}):Ot(),dt.export&&(e.exportConfig||e.printConfig)?r(fo("vxe-table-export-panel"),{defaultOptions:i.exportParams,storeData:i.exportStore}):Ot(),Fn?r(fo("vxe-table-menu-panel"),{ref:_}):Ot(),h?r(fo("vxe-tooltip"),{ref:V,isArrow:!1,enterable:!1}):Ot(),h?r(fo("vxe-tooltip"),Object.assign({ref:W},io)):Ot(),h&&e.editRules&&_o.showMessage&&(_o.message==="default"?!u:_o.message==="tooltip")?r(fo("vxe-tooltip"),Object.assign({ref:T,class:[{"old-cell-valid":xe&&m.cellVaildMode==="obsolete"},"vxe-table--valid-error"]},_o.message==="tooltip"||We.length===1?In:{})):Ot()])};return M.renderVN=tt,_t("xecolgroup",null),_t("$xetable",M),M},render(){return this.renderVN()}}),Ss=Object.assign(Vl,{install:function(e){e.component(Vl.name,Vl)}}),gd=Ss;kt.component(Vl.name,Vl);const Os=Object.assign(zn,{install:function(e){e.component(zn.name,zn)}}),bd=Os;kt.component(zn.name,zn);const Al=Rt({name:"VxePager",props:{size:{type:String,default:()=>m.pager.size||m.size},layouts:{type:Array,default:()=>m.pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:()=>m.pager.pageSize||10},total:{type:Number,default:0},pagerCount:{type:Number,default:()=>m.pager.pagerCount||7},pageSizes:{type:Array,default:()=>m.pager.pageSizes||[10,15,20,50,100]},align:{type:String,default:()=>m.pager.align},border:{type:Boolean,default:()=>m.pager.border},background:{type:Boolean,default:()=>m.pager.background},perfect:{type:Boolean,default:()=>m.pager.perfect},autoHidden:{type:Boolean,default:()=>m.pager.autoHidden},transfer:{type:Boolean,default:()=>m.pager.transfer},className:[String,Function],iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String,iconHomePage:String,iconEndPage:String},emits:["update:pageSize","update:currentPage","page-change"],setup(e,t){const{slots:s,emit:c}=t,h=n.uniqueId(),g=Qt(e),p=mt("$xegrid",null),x=zt({inpCurrPage:e.currentPage}),i=Xe(),f={refElem:i},d={xID:h,props:e,context:t,getRefMaps:()=>f};let y={},$={};const W=(k,Q)=>Math.max(Math.ceil(k/Q),1),V=ve(()=>W(e.total,e.pageSize)),T=(k,Q)=>{c("update:currentPage",Q),k&&Q!==e.currentPage&&y.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:Q},k)},_=(k,Q)=>{c("update:currentPage",k),Q&&k!==e.currentPage&&y.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:k},Q)},C=k=>{const Q=k.target,ie=n.toInteger(Q.value),fe=V.value,Re=ie<=0?1:ie>=fe?fe:ie,te=n.toValueString(Re);Q.value=te,x.inpCurrPage=te,_(Re,k)},S=ve(()=>{const{pagerCount:k}=e,ie=V.value>k?k-2:k,fe=[];for(let Re=0;Re<ie;Re++)fe.push(Re);return fe}),E=ve(()=>Math.floor((e.pagerCount-2)/2)),R=ve(()=>e.pageSizes.map(k=>n.isNumber(k)?{value:k,label:`${m.i18n("vxe.pager.pagesize",[k])}`}:Object.assign({value:"",label:""},k))),L=k=>{const{currentPage:Q}=e;Q>1&&_(1,k)},j=k=>{const{currentPage:Q}=e,ie=V.value;Q<ie&&_(ie,k)},F=k=>{const{currentPage:Q}=e,ie=V.value;Q>1&&_(Math.min(ie,Math.max(Q-1,1)),k)},D=k=>{const{currentPage:Q}=e,ie=V.value;Q<ie&&_(Math.min(ie,Q+1),k)},H=k=>{const Q=S.value;_(Math.max(e.currentPage-Q.length,1),k)},ue=k=>{const Q=V.value,ie=S.value;_(Math.min(e.currentPage+ie.length,Q),k)},Ce=k=>{const{value:Q}=k,ie=n.toNumber(Q),fe=W(e.total,ie);let Re=e.currentPage;Re>fe&&(Re=fe,c("update:currentPage",fe)),c("update:pageSize",ie),y.dispatchEvent("page-change",{type:"size",pageSize:ie,currentPage:Re})},ye=k=>{const Q=k.target;x.inpCurrPage=Q.value},ne=k=>{ht(k,ut.ENTER)?C(k):ht(k,ut.ARROW_UP)?(k.preventDefault(),D(k)):ht(k,ut.ARROW_DOWN)&&(k.preventDefault(),F(k))},re=()=>r("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage<=1}],type:"button",title:m.i18n("vxe.pager.homePageTitle"),onClick:L},[r("i",{class:["vxe-pager--btn-icon",e.iconHomePage||m.icon.PAGER_HOME]})]),se=()=>r("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage<=1}],type:"button",title:m.i18n("vxe.pager.prevPageTitle"),onClick:F},[r("i",{class:["vxe-pager--btn-icon",e.iconPrevPage||m.icon.PAGER_PREV_PAGE]})]),J=k=>r(k||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!k,"is--disabled":e.currentPage<=1}],type:"button",title:m.i18n("vxe.pager.prevJumpTitle"),onClick:H},[k?r("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||m.icon.PAGER_JUMP_MORE]}):null,r("i",{class:["vxe-pager--jump-icon",e.iconJumpPrev||m.icon.PAGER_JUMP_PREV]})]),N=k=>{const Q=V.value;return r(k||"button",{class:["vxe-pager--jump-next",{"is--fixed":!k,"is--disabled":e.currentPage>=Q}],type:"button",title:m.i18n("vxe.pager.nextJumpTitle"),onClick:ue},[k?r("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||m.icon.PAGER_JUMP_MORE]}):null,r("i",{class:["vxe-pager--jump-icon",e.iconJumpNext||m.icon.PAGER_JUMP_NEXT]})])},I=()=>{const k=V.value;return r("button",{class:["vxe-pager--next-btn",{"is--disabled":e.currentPage>=k}],type:"button",title:m.i18n("vxe.pager.nextPageTitle"),onClick:D},[r("i",{class:["vxe-pager--btn-icon",e.iconNextPage||m.icon.PAGER_NEXT_PAGE]})])},P=()=>{const k=V.value;return r("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage>=k}],type:"button",title:m.i18n("vxe.pager.endPageTitle"),onClick:j},[r("i",{class:["vxe-pager--btn-icon",e.iconEndPage||m.icon.PAGER_END]})])},q=k=>{const{currentPage:Q,pagerCount:ie}=e,fe=[],Re=V.value,te=S.value,ee=E.value,le=Re>ie,me=le&&Q>ee+1,be=le&&Q<Re-ee;let he=1;return le&&(Q>=Re-ee?he=Math.max(Re-te.length+1,1):he=Math.max(Q-ee,1)),k&&me&&fe.push(r("button",{class:"vxe-pager--num-btn",type:"button",onClick:Ve=>T(Ve,1)},1),J("span")),te.forEach((Ve,Ge)=>{const Ye=he+Ge;Ye<=Re&&fe.push(r("button",{key:Ye,class:["vxe-pager--num-btn",{"is--active":Q===Ye}],type:"button",onClick:_e=>T(_e,Ye)},Ye))}),k&&be&&fe.push(N("button"),r("button",{class:"vxe-pager--num-btn",type:"button",onClick:Ve=>T(Ve,Re)},Re)),r("span",{class:"vxe-pager--btn-wrapper"},fe)},Y=()=>q(!0),pe=()=>{const k=R.value;return r(Os,{class:"vxe-pager--sizes",modelValue:e.pageSize,placement:"top",transfer:e.transfer,options:k,onChange:Ce})},De=k=>r("span",{class:"vxe-pager--jump"},[k?r("span",{class:"vxe-pager--goto-text"},m.i18n("vxe.pager.goto")):null,r("input",{class:"vxe-pager--goto",value:x.inpCurrPage,type:"text",autocomplete:"off",onInput:ye,onKeydown:ne,onBlur:C}),k?r("span",{class:"vxe-pager--classifier-text"},m.i18n("vxe.pager.pageClassifier")):null]),we=()=>De(!0),Pe=()=>{const k=V.value;return r("span",{class:"vxe-pager--count"},[r("span",{class:"vxe-pager--separator"}),r("span",k)])},$e=()=>r("span",{class:"vxe-pager--total"},m.i18n("vxe.pager.total",[e.total]));y={dispatchEvent(k,Q,ie){c(k,Object.assign({$pager:d,$event:ie},Q))},homePage(){return L(),oe()},endPage(){return j(),oe()},prevPage(){return F(),oe()},nextPage(){return D(),oe()},prevJump(){return H(),oe()},nextJump(){return ue(),oe()}},$={handlePrevPage:F,handleNextPage:D,handlePrevJump:H,handleNextJump:ue},Object.assign(d,y,$),at(()=>e.currentPage,k=>{x.inpCurrPage=k});const ae=()=>{const{align:k,layouts:Q,className:ie}=e,fe=[],Re=g.value,te=V.value;return s.left&&fe.push(r("span",{class:"vxe-pager--left-wrapper"},s.left({$grid:p}))),Q.forEach(ee=>{let le;switch(ee){case"Home":le=re;break;case"PrevJump":le=J;break;case"PrevPage":le=se;break;case"Number":le=q;break;case"JumpNumber":le=Y;break;case"NextPage":le=I;break;case"NextJump":le=N;break;case"End":le=P;break;case"Sizes":le=pe;break;case"FullJump":le=we;break;case"Jump":le=De;break;case"PageCount":le=Pe;break;case"Total":le=$e;break}le&&fe.push(le())}),s.right&&fe.push(r("span",{class:"vxe-pager--right-wrapper"},s.right({$grid:p}))),r("div",{ref:i,class:["vxe-pager",ie?n.isFunction(ie)?ie({$pager:d}):ie:"",{[`size--${Re}`]:Re,[`align--${k}`]:k,"is--border":e.border,"is--background":e.background,"is--perfect":e.perfect,"is--hidden":e.autoHidden&&te===1,"is--loading":e.loading}]},[r("div",{class:"vxe-pager--wrapper"},fe)])};return d.renderVN=ae,d},render(){return this.renderVN()}}),Ts=Object.assign(Al,{install:function(e){e.component(Al.name,Al)}}),vd=Ts;kt.component(Al.name,Al);const Bo=Object.assign(xo,{install(e){e.component(xo.name,xo)}}),xd=Bo;kt.component(xo.name,xo);const $l=Rt({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>m.toolbar.buttons},tools:{type:Array,default:()=>m.toolbar.tools},perfect:{type:Boolean,default:()=>m.toolbar.perfect},size:{type:String,default:()=>m.toolbar.size||m.size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,t){const{slots:s,emit:c}=t,h=n.uniqueId(),g=Qt(e),p=zt({isRefresh:!1,columns:[]}),x=Xe(),i={refElem:x},f={xID:h,props:e,context:t,reactData:p,getRefMaps:()=>i};let d={};const y=mt("$xegrid",null);let $;const W=Xe(0),V=ve(()=>Object.assign({},m.toolbar.refresh,e.refresh)),T=ve(()=>Object.assign({},m.toolbar.import,e.import)),_=ve(()=>Object.assign({},m.toolbar.export,e.export)),C=ve(()=>Object.assign({},m.toolbar.print,e.print)),S=ve(()=>Object.assign({},m.toolbar.zoom,e.zoom)),E=ve(()=>Object.assign({},m.toolbar.custom,e.custom)),R=ve(()=>{if((W.value||$)&&$){const{computeCustomOpts:ae}=$.getComputeMaps();return ae.value}return{}}),L=ve(()=>R.value.trigger),j=()=>{if($)return!0;Jt("vxe.error.barUnableLink")},F=({$event:ae})=>{$&&$.triggerCustomEvent(ae)},D=({$event:ae})=>{$&&$.customOpenEvent(ae)},H=({$event:ae})=>{const{customStore:k}=$.reactData;k.activeBtn=!1,setTimeout(()=>{!k.activeBtn&&!k.activeWrapper&&$.customColseEvent(ae)},350)},ue=ae=>{const{isRefresh:k}=p,Q=V.value;if(!k){const ie=Q.queryMethod||Q.query;if(ie){p.isRefresh=!0;try{Promise.resolve(ie({})).catch(fe=>fe).then(()=>{p.isRefresh=!1})}catch{p.isRefresh=!1}}else y&&(p.isRefresh=!0,y.triggerToolbarCommitEvent({code:Q.code||"reload"},ae).catch(fe=>fe).then(()=>{p.isRefresh=!1}))}},Ce=ae=>{y&&y.triggerZoomEvent(ae)},ye=(ae,k)=>{const{code:Q}=k;if(Q)if(y)y.triggerToolbarBtnEvent(k,ae);else{const ie=ot.commands.get(Q),fe={code:Q,button:k,$table:$,$grid:y,$event:ae};ie&&ie.commandMethod&&ie.commandMethod(fe),f.dispatchEvent("button-click",fe,ae)}},ne=(ae,k)=>{const{code:Q}=k;if(Q)if(y)y.triggerToolbarTolEvent(k,ae);else{const ie=ot.commands.get(Q),fe={code:Q,tool:k,$table:$,$grid:y,$event:ae};ie&&ie.commandMethod&&ie.commandMethod(fe),f.dispatchEvent("tool-click",fe,ae)}},re=()=>{j()&&$.openImport()},se=()=>{j()&&$.openExport()},J=()=>{j()&&$.openPrint()},N=(ae,k)=>{const{dropdowns:Q}=ae,ie=[];return Q?Q.map((fe,Re)=>fe.visible===!1?Ot():r(Bo,{key:Re,disabled:fe.disabled,loading:fe.loading,type:fe.type,icon:fe.icon,circle:fe.circle,round:fe.round,status:fe.status,content:fe.name,onClick:te=>k?ye(te,fe):ne(te,fe)})):ie},I=()=>{const{buttons:ae}=e,k=s.buttons;if(k)return $t(k({$grid:y,$table:$}));const Q=[];return ae&&ae.forEach(ie=>{const{dropdowns:fe,buttonRender:Re}=ie;if(ie.visible!==!1){const te=Re?ot.renderer.get(Re.name):null;if(Re&&te&&te.renderToolbarButton){const ee=te.toolbarButtonClassName,le={$grid:y,$table:$,button:ie};Q.push(r("span",{class:["vxe-button--item",ee?n.isFunction(ee)?ee(le):ee:""]},$t(te.renderToolbarButton(Re,le))))}else Q.push(r(Bo,{disabled:ie.disabled,loading:ie.loading,type:ie.type,icon:ie.icon,circle:ie.circle,round:ie.round,status:ie.status,content:ie.name,destroyOnClose:ie.destroyOnClose,placement:ie.placement,transfer:ie.transfer,onClick:ee=>ye(ee,ie)},fe&&fe.length?{dropdowns:()=>N(ie,!0)}:{}))}}),Q},P=()=>{const{tools:ae}=e,k=s.tools;if(k)return $t(k({$grid:y,$table:$}));const Q=[];return ae&&ae.forEach((ie,fe)=>{const{dropdowns:Re,toolRender:te}=ie;if(ie.visible!==!1){const ee=te?te.name:null,le=te?ot.renderer.get(ee):null;if(te&&le&&le.renderToolbarTool){const me=le.toolbarToolClassName,be={$grid:y,$table:$,tool:ie};Q.push(r("span",{key:ee,class:["vxe-tool--item",me?n.isFunction(me)?me(be):me:""]},$t(le.renderToolbarTool(te,be))))}else Q.push(r(Bo,{key:fe,disabled:ie.disabled,loading:ie.loading,type:ie.type,icon:ie.icon,circle:ie.circle,round:ie.round,status:ie.status,content:ie.name,destroyOnClose:ie.destroyOnClose,placement:ie.placement,transfer:ie.transfer,onClick:me=>ne(me,ie)},Re&&Re.length?{dropdowns:()=>N(ie,!1)}:{}))}}),Q},q=()=>{const ae=T.value;return r(Bo,{key:"import",circle:!0,icon:ae.icon||m.icon.TOOLBAR_TOOLS_IMPORT,title:m.i18n("vxe.toolbar.import"),onClick:re})},Y=()=>{const ae=_.value;return r(Bo,{key:"export",circle:!0,icon:ae.icon||m.icon.TOOLBAR_TOOLS_EXPORT,title:m.i18n("vxe.toolbar.export"),onClick:se})},pe=()=>{const ae=C.value;return r(Bo,{key:"print",circle:!0,icon:ae.icon||m.icon.TOOLBAR_TOOLS_PRINT,title:m.i18n("vxe.toolbar.print"),onClick:J})},De=()=>{const ae=V.value;return r(Bo,{key:"refresh",circle:!0,icon:p.isRefresh?ae.iconLoading||m.icon.TOOLBAR_TOOLS_REFRESH_LOADING:ae.icon||m.icon.TOOLBAR_TOOLS_REFRESH,title:m.i18n("vxe.toolbar.refresh"),onClick:ue})},we=()=>{const ae=S.value;return y?r(Bo,{key:"zoom",circle:!0,icon:y.isMaximized()?ae.iconOut||m.icon.TOOLBAR_TOOLS_MINIMIZE:ae.iconIn||m.icon.TOOLBAR_TOOLS_FULLSCREEN,title:m.i18n(`vxe.toolbar.zoom${y.isMaximized()?"Out":"In"}`),onClick:Ce}):Ot()},Pe=()=>{const ae=E.value,k=L.value,Q={};return k==="manual"||(k==="hover"?(Q.onMouseenter=D,Q.onMouseleave=H):Q.onClick=F),r(Bo,Object.assign({key:"custom",circle:!0,icon:ae.icon||m.icon.TOOLBAR_TOOLS_CUSTOM,title:m.i18n("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},Q))};d={dispatchEvent(ae,k,Q){c(ae,Object.assign({$toolbar:f,$event:Q},k))},syncUpdate(ae){const{collectColumn:k}=ae;$=ae.$table,p.columns=k,W.value++}},Object.assign(f,d),oe(()=>{const{refresh:ae}=e,k=V.value,Q=k.queryMethod||k.query;ae&&!y&&!Q&&Xr("vxe.error.notFunc",["queryMethod"]),E.value});const $e=()=>{const{perfect:ae,loading:k,refresh:Q,zoom:ie,custom:fe,className:Re}=e,te=g.value;return r("div",{ref:x,class:["vxe-toolbar",Re?n.isFunction(Re)?Re({$toolbar:f}):Re:"",{[`size--${te}`]:te,"is--perfect":ae,"is--loading":k}]},[r("div",{class:"vxe-buttons--wrapper"},I()),r("div",{class:"vxe-tools--wrapper"},P()),r("div",{class:"vxe-tools--operate"},[e.import?q():Ot(),e.export?Y():Ot(),e.print?pe():Ot(),Q?De():Ot(),ie&&y?we():Ot(),fe?Pe():Ot()])])};return f.renderVN=$e,f},render(){return this.renderVN()}}),Rs=Object.assign($l,{install:function(e){e.component($l.name,$l)}}),Cd=Rs;kt.component($l.name,$l);class Va{constructor(t,s){Object.assign(this,{id:n.uniqueId("item_"),title:s.title,field:s.field,span:s.span,align:s.align,titleAlign:s.titleAlign,titleWidth:s.titleWidth,titleColon:s.titleColon,titleAsterisk:s.titleAsterisk,titlePrefix:s.titlePrefix,titleSuffix:s.titleSuffix,titleOverflow:s.titleOverflow,showTitle:s.showTitle,resetValue:s.resetValue,visibleMethod:s.visibleMethod,visible:s.visible,folding:s.folding,collapseNode:s.collapseNode,className:s.className,contentClassName:s.contentClassName,contentStyle:s.contentStyle,titleClassName:s.titleClassName,titleStyle:s.titleStyle,itemRender:s.itemRender,showError:!1,errRule:null,slots:s.slots,children:[]})}update(t,s){this[t]=s}}function yd(e){return e instanceof Va}function $i(e,t){return yd(t)?t:new Va(e,t)}function Hr(e,t){return t?n.isString(t)?e.getItemByField(t):t:null}function Ed(e,t){const{reactData:s}=e,{collapseAll:c}=s,{folding:h,visible:g}=t;return g===!1||h&&c}function Bi(e,t){let{visibleMethod:s,itemRender:c,visible:h,field:g}=t;if(h===!1)return h;const p=pt(c)?ot.renderer.get(c.name):null;if(!s&&p&&p.itemVisibleMethod&&(s=p.itemVisibleMethod),!s)return!0;const{data:x}=e.props;return s({data:x,field:g,property:g,item:t,$form:e,$grid:e.xegrid})}function Aa(e,t){Object.keys(e).forEach(s=>{at(()=>e[s],c=>{t.update(s,c)})})}function $a(e,t,s,c){const{reactData:h}=e,{staticItems:g}=h,p=t.parentNode,x=c?c.formItem:null,i=x?x.children:g;p&&(i.splice(n.arrayIndexOf(p.children,t),0,s),h.staticItems=g.slice(0))}function Ba(e,t){const{reactData:s}=e,{staticItems:c}=s,h=n.findIndexOf(c,g=>g.id===t.id);h>-1&&c.splice(h,1),s.staticItems=c.slice(0)}const dl=Object.assign(rl,{install:function(e){ot.tooltip=!0,e.component(rl.name,rl)}}),wd=dl;kt.component(rl.name,rl);function jr(e){return r("span",{class:"vxe-form--item-title-prefix"},[r("i",{class:e.icon||m.icon.FORM_PREFIX})])}function zr(e){return r("span",{class:"vxe-form--item-title-suffix"},[r("i",{class:e.icon||m.icon.FORM_SUFFIX})])}function Ha(e,t){const{data:s}=e.props,{computeTooltipOpts:c}=e.getComputeMaps(),{slots:h,field:g,itemRender:p,titlePrefix:x,titleSuffix:i}=t,f=c.value,d=pt(p)?ot.renderer.get(p.name):null,y={data:s,field:g,property:g,item:t,$form:e,$grid:e.xegrid},$=h?h.title:null,W=[],V=[];x&&V.push(x.content||x.message?r(dl,Object.assign(Object.assign(Object.assign({},f),x),{content:jt(x.content||x.message)}),{default:()=>jr(x)}):jr(x)),V.push(r("span",{class:"vxe-form--item-title-label"},d&&d.renderItemTitle?$t(d.renderItemTitle(p,y)):$?e.callSlot($,y):jt(t.title))),W.push(r("div",{class:"vxe-form--item-title-content"},V));const T=[];return i&&T.push(i.content||i.message?r(dl,Object.assign(Object.assign(Object.assign({},f),i),{content:jt(i.content||i.message)}),{default:()=>zr(i)}):zr(i)),W.push(r("div",{class:"vxe-form--item-title-postfix"},T)),W}const ja=Rt({name:"VxeFormConfigItem",props:{itemConfig:Object},setup(e){const t=mt("$xeform",{}),s={itemConfig:e.itemConfig};return _t("$xeformiteminfo",s),_t("$xeformgather",null),{renderVN:()=>{const{reactData:g}=t,{data:p,rules:x,span:i,align:f,titleAlign:d,titleWidth:y,titleColon:$,titleAsterisk:W,titleOverflow:V,vertical:T}=t.props,{computeValidOpts:_}=t.getComputeMaps(),C=e.itemConfig,{collapseAll:S}=g,E=_.value,{slots:R,title:L,visible:j,folding:F,field:D,collapseNode:H,itemRender:ue,showError:Ce,errRule:ye,className:ne,titleOverflow:re,vertical:se,children:J,showTitle:N,contentClassName:I,contentStyle:P,titleClassName:q,titleStyle:Y}=C,pe=pt(ue)?ot.renderer.get(ue.name):null,De=pe?pe.itemClassName:"",we=pe?pe.itemStyle:null,Pe=pe?pe.itemContentClassName:"",$e=pe?pe.itemContentStyle:null,ae=pe?pe.itemTitleClassName:"",k=pe?pe.itemTitleStyle:null,Q=R?R.default:null,ie=R?R.title:null,fe=C.span||i,Re=C.align||f,te=n.eqNull(C.titleAlign)?d:C.titleAlign,ee=n.eqNull(C.titleWidth)?y:C.titleWidth,le=n.eqNull(C.titleColon)?$:C.titleColon,me=n.eqNull(C.titleAsterisk)?W:C.titleAsterisk,be=n.isUndefined(re)||n.isNull(re)?V:re,he=n.isUndefined(se)||n.isNull(se)?T:se,Ve=be==="ellipsis",Ge=be==="title",Ye=be===!0||be==="tooltip",_e=Ge||Ye||Ve,Fe={data:p,field:D,property:D,item:C,$form:t,$grid:t.xegrid};if(j===!1)return Ot();let ke=!1;if(x){const Se=x[D];Se&&(ke=Se.some(A=>A.required))}if(J&&J.length>0){const Se=J.map((A,G)=>r(ja,{key:G,itemConfig:A}));return Se.length?r("div",{class:["vxe-form--gather vxe-row",C.id,fe?`vxe-col--${fe} is--span`:"",ne?n.isFunction(ne)?ne(Fe):ne:""]},Se):Ot()}let ce=[];Q?ce=t.callSlot(Q,Fe):pe&&pe.renderItemContent?ce=$t(pe.renderItemContent(ue,Fe)):D&&(ce=[n.toValueString(n.get(p,D))]),H&&ce.push(r("div",{class:"vxe-form--item-trigger-node",onClick:t.toggleCollapseEvent},[r("span",{class:"vxe-form--item-trigger-text"},S?m.i18n("vxe.form.unfolding"):m.i18n("vxe.form.folding")),r("i",{class:["vxe-form--item-trigger-icon",S?m.icon.FORM_FOLDING:m.icon.FORM_UNFOLDING]})])),ye&&E.showMessage&&ce.push(r("div",{class:"vxe-form--item-valid",style:ye.maxWidth?{width:`${ye.maxWidth}px`}:null},ye.content));const Oe=Ye?{onMouseenter(Se){t.triggerTitleTipEvent(Se,Fe)},onMouseleave:t.handleTitleTipLeaveEvent}:{};return r("div",{class:["vxe-form--item",C.id,fe?`vxe-col--${fe} is--span`:"",ne?n.isFunction(ne)?ne(Fe):ne:"",De?n.isFunction(De)?De(Fe):De:"",{"is--title":L,"is--colon":le,"is--vertical":he,"is--asterisk":me,"is--required":ke,"is--hidden":F&&S,"is--active":Bi(t,C),"is--error":Ce}],style:n.isFunction(we)?we(Fe):we},[r("div",{class:"vxe-form--item-inner"},[N!==!1&&(L||ie)?r("div",Object.assign({class:["vxe-form--item-title",te?`align--${te}`:"",_e?"is--ellipsis":"",ae?n.isFunction(ae)?ae(Fe):ae:"",q?n.isFunction(q)?q(Fe):q:""],style:Object.assign({},n.isFunction(k)?k(Fe):k,n.isFunction(Y)?Y(Fe):Y,ee?{width:isNaN(ee)?ee:`${ee}px`}:null),title:Ge?jt(L):null},Oe),Ha(t,C)):null,r("div",{class:["vxe-form--item-content",Re?`align--${Re}`:"",Pe?n.isFunction(Pe)?Pe(Fe):Pe:"",I?n.isFunction(I)?I(Fe):I:""],style:Object.assign({},n.isFunction($e)?$e(Fe):$e,n.isFunction(P)?P(Fe):P)},ce)])])}}},render(){return this.renderVN()}});class Ml{constructor(t){Object.assign(this,{$options:t,required:t.required,min:t.min,max:t.min,type:t.type,pattern:t.pattern,validator:t.validator,trigger:t.trigger,maxWidth:t.maxWidth})}get content(){return jt(this.$options.content||this.$options.message)}get message(){return this.content}}const Wr=(e,t)=>{const{type:s,min:c,max:h,pattern:g}=e,p=s==="number",x=p?n.toNumber(t):n.getSize(t);return!!(p&&isNaN(t)||!n.eqNull(c)&&x<n.toNumber(c)||!n.eqNull(h)&&x>n.toNumber(h)||g&&!(n.isRegExp(g)?g:new RegExp(g)).test(t))};function Sd(e,t){return n.isArray(e)&&(t=[]),t}const Bl=Rt({name:"VxeForm",props:{collapseStatus:{type:Boolean,default:!0},loading:Boolean,data:Object,size:{type:String,default:()=>m.form.size||m.size},span:{type:[String,Number],default:()=>m.form.span},align:{type:String,default:()=>m.form.align},titleAlign:{type:String,default:()=>m.form.titleAlign},titleWidth:{type:[String,Number],default:()=>m.form.titleWidth},titleColon:{type:Boolean,default:()=>m.form.titleColon},titleAsterisk:{type:Boolean,default:()=>m.form.titleAsterisk},titleOverflow:{type:[Boolean,String],default:null},vertical:{type:Boolean,default:null},className:[String,Function],readonly:Boolean,items:Array,rules:Object,preventSubmit:{type:Boolean,default:()=>m.form.preventSubmit},validConfig:Object,tooltipConfig:Object,customLayout:{type:Boolean,default:()=>m.form.customLayout}},emits:["update:collapseStatus","collapse","toggle-collapse","submit","submit-invalid","reset"],setup(e,t){const s=ot.tooltip,{slots:c,emit:h}=t,g=n.uniqueId(),p=Qt(e),x=zt({collapseAll:e.collapseStatus,staticItems:[],formItems:[]}),i=zt({tooltipTimeout:null,tooltipStore:{item:null,visible:!1}}),f=mt("$xegrid",null),d=Xe(),y=Xe();let $={};const W=ve(()=>Object.assign({},m.form.validConfig,e.validConfig)),V=ve(()=>Object.assign({},m.tooltip,m.form.tooltipConfig,e.tooltipConfig)),T={refElem:d},_={computeSize:p,computeValidOpts:W,computeTooltipOpts:V},C={xID:g,props:e,context:t,reactData:x,xegrid:f,getRefMaps:()=>T,getComputeMaps:()=>_},S=(k,Q)=>k&&(n.isString(k)&&(k=c[k]||null),n.isFunction(k))?$t(k(Q)):[],E=k=>(k.length&&(x.staticItems=n.mapTree(k,Q=>$i(C,Q),{children:"children"})),oe()),R=()=>{const k=[];return n.eachTree(x.formItems,Q=>{k.push(Q)},{children:"children"}),k},L=k=>{const Q=n.findTree(x.formItems,ie=>ie.field===k,{children:"children"});return Q?Q.item:null},j=()=>x.collapseAll,F=()=>{const k=!j();return x.collapseAll=k,h("update:collapseStatus",k),oe()},D=k=>{F();const Q=j();$.dispatchEvent("toggle-collapse",{status:Q,collapse:Q,data:e.data},k),$.dispatchEvent("collapse",{status:Q,collapse:Q,data:e.data},k)},H=k=>{if(k){let Q=k;n.isArray(k)||(Q=[k]),Q.forEach(ie=>{if(ie){const fe=Hr(C,ie);fe&&(fe.showError=!1)}})}else R().forEach(Q=>{Q.showError=!1});return oe()},ue=()=>{const{data:k}=e,Q=R();return k&&Q.forEach(ie=>{const{field:fe,resetValue:Re,itemRender:te}=ie;if(pt(te)){const ee=ot.renderer.get(te.name);ee&&ee.itemResetMethod?ee.itemResetMethod({data:k,field:fe,property:fe,item:ie,$form:C,$grid:C.xegrid}):fe&&n.set(k,fe,Re===null?Sd(n.get(k,fe),void 0):n.clone(Re,!0))}}),H()},Ce=k=>{k.preventDefault(),ue(),$.dispatchEvent("reset",{data:e.data},k)},ye=k=>{const Q=d.value;for(let ie=0;ie<k.length;ie++){const fe=k[ie],Re=L(fe);if(Re&&pt(Re.itemRender)){const{itemRender:te}=Re,ee=ot.renderer.get(te.name);let le=null;if(ie||Jr(Q.querySelector(`.${Re.id}`)),te.autofocus&&(le=Q.querySelector(`.${Re.id} ${te.autofocus}`)),!le&&ee&&ee.autofocus&&(le=Q.querySelector(`.${Re.id} ${ee.autofocus}`)),le){le.focus();break}}}},ne=(k,Q,ie)=>{const{data:fe,rules:Re}=e,te={};return n.isArray(Q)||(Q=[Q]),Promise.all(Q.map(ee=>{const le=[],me=[];if(ee&&Re){const be=n.get(Re,ee);if(be){const he=n.isUndefined(ie)?n.get(fe,ee):ie;be.forEach(Ve=>{const{type:Ge,trigger:Ye,required:_e,validator:Fe}=Ve;if(k==="all"||!Ye||k===Ye)if(Fe){const ke={itemValue:he,rule:Ve,rules:be,data:fe,field:ee,property:ee,$form:C};let X;if(n.isString(Fe)){const ce=ot.validators.get(Fe);ce&&ce.itemValidatorMethod&&(X=ce.itemValidatorMethod(ke))}else X=Fe(ke);X&&(n.isError(X)?le.push(new Ml({type:"custom",trigger:Ye,content:X.message,rule:new Ml(Ve)})):X.catch&&me.push(X.catch(ce=>{le.push(new Ml({type:"custom",trigger:Ye,content:ce?ce.message:Ve.content||Ve.message,rule:new Ml(Ve)}))})))}else{const ke=Ge==="array",X=n.isArray(he);let ce=!0;ke||X?ce=!X||!he.length:n.isString(he)?ce=qo(he.trim()):ce=qo(he),(_e?ce||Wr(Ve,he):!ce&&Wr(Ve,he))&&le.push(new Ml(Ve))}})}}return Promise.all(me).then(()=>{le.length&&(te[ee]=le.map(be=>({$form:C,rule:be,data:fe,field:ee,property:ee})))})})).then(()=>{if(!n.isEmpty(te))return Promise.reject(te)})};let re;const se=(k,Q,ie)=>{const{data:fe,rules:Re}=e,te=W.value,ee={},le=[],me=[];return clearTimeout(re),fe&&Re?(k.forEach(be=>{const{field:he}=be;he&&!Ed(C,be)&&Bi(C,be)&&me.push(ne(Q||"all",he).then(()=>{be.errRule=null}).catch(Ve=>{const Ge=Ve[he];return ee[he]||(ee[he]=[]),ee[he].push(Ge),le.push(he),be.errRule=Ge[0].rule,Promise.reject(Ge)}))}),Promise.all(me).then(()=>{ie&&ie()}).catch(()=>new Promise(be=>{re=window.setTimeout(()=>{k.forEach(he=>{he.errRule&&(he.showError=!0)})},20),te.autoPos!==!1&&oe(()=>{ye(le)}),ie?(ie(ee),be()):be(ee)}))):(ie&&ie(),Promise.resolve())},J=k=>(H(),se(R(),"",k)),N=(k,Q)=>{let ie=[];return n.isArray(k)?ie=k:ie=[k],se(ie.map(fe=>Hr(C,fe)),"",Q)},I=k=>{k.preventDefault(),e.preventSubmit||(H(),se(R()).then(Q=>{Q?$.dispatchEvent("submit-invalid",{data:e.data,errMap:Q},k):$.dispatchEvent("submit",{data:e.data},k)}))},P=()=>{const{tooltipStore:k}=i,Q=y.value;return k.visible&&(Object.assign(k,{item:null,visible:!1}),Q&&Q.close()),oe()},q=(k,Q)=>{const{item:ie}=Q,{tooltipStore:fe}=i,Re=y.value,te=k.currentTarget.children[0],ee=(te.textContent||"").trim(),le=te.scrollWidth>te.clientWidth;clearTimeout(i.tooltipTimeout),fe.item!==ie&&P(),ee&&le&&(Object.assign(fe,{item:ie,visible:!0}),Re&&Re.open(te,ee))},Y=()=>{const k=V.value;let Q=y.value;Q&&Q.setActived(!1),k.enterable?i.tooltipTimeout=setTimeout(()=>{Q=y.value,Q&&!Q.isActived()&&P()},k.leaveDelay):P()},pe=(k,Q,ie)=>Q?ne(k?["blur"].includes(k.type)?"blur":"change":"all",Q,ie).then(()=>{H(Q)}).catch(fe=>{const Re=fe[Q],te=L(Q);Re&&te&&(te.showError=!0,te.errRule=Re[0].rule)}):oe();$={dispatchEvent(k,Q,ie){h(k,Object.assign({$form:C,$grid:f,$event:ie},Q))},reset:ue,validate:J,validateField:N,clearValidate:H,updateStatus:(k,Q)=>{const{field:ie}=k;return pe(new Event("change"),ie,Q)},toggleCollapse:F,getItems:R,getItemByField:L,closeTooltip:P},Object.assign(C,$,{callSlot:S,triggerItemEvent:pe,toggleCollapseEvent:D,triggerTitleTipEvent:q,handleTitleTipLeaveEvent:Y});const Pe=Xe(0);at(()=>x.staticItems.length,()=>{Pe.value++}),at(()=>x.staticItems,()=>{Pe.value++}),at(Pe,()=>{x.formItems=x.staticItems});const $e=Xe(0);at(()=>e.items?e.items.length:-1,()=>{$e.value++}),at(()=>e.items,()=>{$e.value++}),at($e,()=>{E(e.items||[])}),at(()=>e.collapseStatus,k=>{x.collapseAll=!!k}),po(()=>{oe(()=>{E(e.items||[])})});const ae=()=>{const{loading:k,className:Q,data:ie,customLayout:fe}=e,{formItems:Re}=x,te=p.value,ee=V.value,le=c.default;return r("form",{ref:d,class:["vxe-form",Q?n.isFunction(Q)?Q({items:Re,data:ie,$form:C}):Q:"",{[`size--${te}`]:te,"is--loading":k}],onSubmit:I,onReset:Ce},[r("div",{class:"vxe-form--wrapper vxe-row"},fe?le?le({}):[]:Re.map((me,be)=>r(ja,{key:be,itemConfig:me}))),r("div",{class:"vxe-form-slots",ref:"hideItem"},fe?[]:le?le({}):[]),r(ws,{class:"vxe-form--loading",modelValue:k}),s?r(dl,Object.assign({ref:y},ee)):Ot()])};return C.renderVN=ae,_t("$xeform",C),_t("$xeformgather",null),_t("$xeformitem",null),_t("$xeformiteminfo",null),C},render(){return this.renderVN()}}),Ms=Object.assign(Bl,{install(e){e.component(Bl.name,Bl)}}),Od=Ms;kt.component(Bl.name,Bl);const Td=Object.keys(Vi),_r=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","createData","createRow","revertData","clearData","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getData","getCheckboxRecords","getParentRow","getRowSeq","getRowById","getRowid","getTableData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","isCheckedByCheckboxRow","isIndeterminateByCheckboxRow","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","setRadioRow","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","getPendingRecords","clearPendingRow","sort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","openTooltip","focus","blur","connect"],Rd=[...Ai,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],Hl=Rt({name:"VxeGrid",props:Object.assign(Object.assign({},Vi),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>m.grid.size||m.size}}),emits:Rd,setup(e,t){const{slots:s,emit:c}=t,h=n.uniqueId(),g=qr(),p=Qt(e),x=zt({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:m.pager.pageSize||10,currentPage:1}}),i=Xe(),f=Xe(),d=Xe(),y=Xe(),$=Xe(),W=Xe(),V=Xe(),T=Xe(),_=Xe(),C=Xe(),S=X=>{const ce={};return X.forEach(Oe=>{ce[Oe]=(...Se)=>{const A=f.value;if(A&&A[Oe])return A[Oe](...Se)}}),ce},E=S(_r);_r.forEach(X=>{E[X]=(...ce)=>{const Oe=f.value;if(Oe&&Oe[X])return Oe&&Oe[X](...ce)}});const R=ve(()=>Object.assign({},m.grid.proxyConfig,e.proxyConfig)),L=ve(()=>R.value.message!==!1),j=ve(()=>Object.assign({},m.grid.pagerConfig,e.pagerConfig)),F=ve(()=>Object.assign({},m.grid.formConfig,e.formConfig)),D=ve(()=>Object.assign({},m.grid.toolbarConfig,e.toolbarConfig)),H=ve(()=>Object.assign({},m.grid.zoomConfig,e.zoomConfig)),ue=ve(()=>x.isZMax?{zIndex:x.tZindex}:null),Ce=ve(()=>{const X={},ce=e;return Td.forEach(Oe=>{X[Oe]=ce[Oe]}),X}),ye={refElem:i,refTable:f,refForm:d,refToolbar:y,refPager:$},ne={computeProxyOpts:R,computePagerOpts:j,computeFormOpts:F,computeToolbarOpts:D,computeZoomOpts:H},re={xID:h,props:e,context:t,instance:g,reactData:x,getRefMaps:()=>ye,getComputeMaps:()=>ne};let se={};const J=ve(()=>{const{seqConfig:X,pagerConfig:ce,loading:Oe,editConfig:Se,proxyConfig:A}=e,{isZMax:G,tableLoading:ge,tablePage:Be,tableData:He}=x,qe=Ce.value,Qe=R.value,Ze=j.value,et=Object.assign({},qe);return G&&(qe.maxHeight?et.maxHeight="auto":et.height="auto"),A&&pt(Qe)&&(et.loading=Oe||ge,et.data=He,ce&&Qe.seq&&pt(Ze)&&(et.seqConfig=Object.assign({},X,{startIndex:(Be.currentPage-1)*Be.pageSize}))),Se&&(et.editConfig=Object.assign({},Se)),et}),N=()=>{const X=D.value;e.toolbarConfig&&pt(X)&&oe(()=>{const ce=f.value,Oe=y.value;ce&&Oe&&ce.connect(Oe)})},I=()=>{const{tablePage:X}=x,{pagerConfig:ce}=e,Oe=j.value,{currentPage:Se,pageSize:A}=Oe;ce&&pt(Oe)&&(Se&&(X.currentPage=Se),A&&(X.pageSize=A))},P=X=>{const ce=L.value,Oe=f.value,Se=Oe.getCheckboxRecords();Se.length?(Oe.togglePendingRow(Se),E.clearCheckboxRow()):ce&&ot.modal.message({id:X,content:m.i18n("vxe.grid.selectOneRecord"),status:"warning"})},q=(X,ce)=>{const Oe=R.value,A=(Oe.response||Oe.props||{}).message;let G;return X&&A&&(G=n.isFunction(A)?A({data:X,$grid:re}):n.get(X,A)),G||m.i18n(ce)},Y=(X,ce,Oe)=>{const Se=L.value,A=E.getCheckboxRecords();if(Se){if(A.length)return ot.modal.confirm({id:`cfm_${X}`,content:m.i18n(ce),escClosable:!0}).then(G=>{if(G==="confirm")return Oe()});ot.modal.message({id:`msg_${X}`,content:m.i18n("vxe.grid.selectOneRecord"),status:"warning"})}else A.length&&Oe();return Promise.resolve()},pe=X=>{const{proxyConfig:ce}=e,{tablePage:Oe}=x,{currentPage:Se,pageSize:A}=X,G=R.value;Oe.currentPage=Se,Oe.pageSize=A,se.dispatchEvent("page-change",X),ce&&pt(G)&&se.commitProxy("query").then(ge=>{se.dispatchEvent("proxy-query",ge,X.$event)})},De=X=>{const ce=f.value,{proxyConfig:Oe}=e,{computeSortOpts:Se}=ce.getComputeMaps(),A=R.value;Se.value.remote&&(x.sortData=X.sortList,Oe&&pt(A)&&(x.tablePage.currentPage=1,se.commitProxy("query").then(ge=>{se.dispatchEvent("proxy-query",ge,X.$event)}))),se.dispatchEvent("sort-change",X)},we=X=>{const ce=f.value,{proxyConfig:Oe}=e,{computeFilterOpts:Se}=ce.getComputeMaps(),A=R.value;Se.value.remote&&(x.filterData=X.filterList,Oe&&pt(A)&&(x.tablePage.currentPage=1,se.commitProxy("query").then(ge=>{se.dispatchEvent("proxy-query",ge,X.$event)}))),se.dispatchEvent("filter-change",X)},Pe=X=>{const{proxyConfig:ce}=e,Oe=R.value;ce&&pt(Oe)&&se.commitProxy("reload").then(Se=>{se.dispatchEvent("proxy-query",Object.assign(Object.assign({},Se),{isReload:!0}),X.$event)}),se.dispatchEvent("form-submit",X)},$e=X=>{const{proxyConfig:ce}=e,Oe=R.value;ce&&pt(Oe)&&se.commitProxy("reload").then(Se=>{se.dispatchEvent("proxy-query",Object.assign(Object.assign({},Se),{isReload:!0}),X.$event)}),se.dispatchEvent("form-reset",X)},ae=X=>{se.dispatchEvent("form-submit-invalid",X)},k=X=>{oe(()=>E.recalculate(!0)),se.dispatchEvent("form-toggle-collapse",X),se.dispatchEvent("form-collapse",X)},Q=X=>{const{isZMax:ce}=x;return(X?!ce:ce)&&(x.isZMax=!ce,x.tZindex<pn()&&(x.tZindex=en())),oe().then(()=>E.recalculate(!0)).then(()=>x.isZMax)},ie=(X,ce)=>{const Oe=X[ce];if(Oe)if(n.isString(Oe)){if(s[Oe])return s[Oe]}else return Oe;return null},fe=()=>{const{formConfig:X,proxyConfig:ce}=e,{formData:Oe}=x,Se=R.value,A=F.value,G=[];if(X&&pt(A)||s.form){let ge=[];if(s.form)ge=s.form({$grid:re});else if(A.items){const Be={};if(!A.inited){A.inited=!0;const He=Se.beforeItem;Se&&He&&A.items.forEach(qe=>{He({$grid:re,item:qe})})}A.items.forEach(He=>{n.each(He.slots,qe=>{n.isFunction(qe)||s[qe]&&(Be[qe]=s[qe])})}),ge.push(r(Ms,Object.assign(Object.assign({ref:d},Object.assign({},A,{data:ce&&pt(Se)&&Se.form?Oe:A.data})),{onSubmit:Pe,onReset:$e,onSubmitInvalid:ae,onCollapse:k}),Be))}G.push(r("div",{ref:W,key:"form",class:"vxe-grid--form-wrapper"},ge))}return G},Re=()=>{const{toolbarConfig:X}=e,ce=D.value,Oe=[];if(X&&pt(ce)||s.toolbar){let Se=[];if(s.toolbar)Se=s.toolbar({$grid:re});else{const A=ce.slots;let G,ge;const Be={};A&&(G=ie(A,"buttons"),ge=ie(A,"tools"),G&&(Be.buttons=G),ge&&(Be.tools=ge)),Se.push(r(Rs,Object.assign({ref:y},ce),Be))}Oe.push(r("div",{ref:V,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},Se))}return Oe},te=()=>s.top?[r("div",{ref:T,key:"top",class:"vxe-grid--top-wrapper"},s.top({$grid:re}))]:[],ee=["Form","Toolbar","Top","Table","Bottom","Pager"],le=()=>{const{layouts:X}=e,ce=[];return(X&&X.length?X:m.grid.layouts||ee).forEach(Se=>{switch(Se){case"Form":ce.push(fe());break;case"Toolbar":ce.push(Re());break;case"Top":ce.push(te());break;case"Table":ce.push(be());break;case"Bottom":ce.push(he());break;case"Pager":ce.push(Ve());break}}),ce},me={};Ai.forEach(X=>{const ce=n.camelCase(`on-${X}`);me[ce]=(...Oe)=>c(X,...Oe)});const be=()=>{const{proxyConfig:X}=e,ce=J.value,Oe=R.value,Se=Object.assign({},me),A=s.empty,G=s.loading;X&&pt(Oe)&&(Oe.sort&&(Se.onSortChange=De),Oe.filter&&(Se.onFilterChange=we));const ge={};return A&&(ge.empty=()=>A({})),G&&(ge.loading=()=>G({})),[r(Ss,Object.assign(Object.assign({ref:f,key:"table"},ce),Se),ge)]},he=()=>s.bottom?[r("div",{ref:_,key:"bottom",class:"vxe-grid--bottom-wrapper"},s.bottom({$grid:re}))]:[],Ve=()=>{const{proxyConfig:X,pagerConfig:ce}=e,Oe=R.value,Se=j.value,A=[];if(ce&&pt(Se)||s.pager){let G=[];if(s.pager)G=s.pager({$grid:re});else{const ge=Se.slots,Be={};let He,qe;ge&&(He=ie(ge,"left"),qe=ie(ge,"right"),He&&(Be.left=He),qe&&(Be.right=qe)),G.push(r(Ts,Object.assign(Object.assign(Object.assign({ref:$},Se),X&&pt(Oe)?x.tablePage:{}),{onPageChange:pe}),Be))}A.push(r("div",{ref:C,key:"pager",class:"vxe-grid--pager-wrapper"},G))}return A},Ge=()=>{const{proxyConfig:X,formConfig:ce}=e,{proxyInited:Oe}=x,Se=R.value,A=F.value;if(X&&pt(Se)){if(ce&&pt(A)&&Se.form&&A.items){const G={};A.items.forEach(ge=>{const{field:Be,itemRender:He}=ge;if(Be){let qe=null;if(He){const{defaultValue:Qe}=He;n.isFunction(Qe)?qe=Qe({item:ge}):n.isUndefined(Qe)||(qe=Qe)}G[Be]=qe}}),x.formData=G}Oe||(x.proxyInited=!0,Se.autoLoad!==!1&&oe().then(()=>se.commitProxy("_init")).then(G=>{se.dispatchEvent("proxy-query",Object.assign(Object.assign({},G),{isInited:!0}),new Event("init"))}))}};se={dispatchEvent(X,ce,Oe){c(X,Object.assign({$grid:re,$event:Oe},ce))},commitProxy(X,...ce){const{toolbarConfig:Oe,pagerConfig:Se,editRules:A,validConfig:G}=e,{tablePage:ge,formData:Be}=x,He=L.value,qe=R.value,Qe=j.value,Ze=D.value,{beforeQuery:et,afterQuery:Ke,beforeDelete:lt,afterDelete:yt,beforeSave:M,afterSave:wt,ajax:bt={}}=qe,ft=qe.response||qe.props||{},st=f.value;let Tt=null,vt=null;if(n.isString(X)){const{buttons:Ct}=Ze,Mt=Oe&&pt(Ze)&&Ct?n.findTree(Ct,Lt=>Lt.code===X,{children:"dropdowns"}):null;Tt=Mt?Mt.item:null,vt=X}else Tt=X,vt=Tt.code;const Dt=Tt?Tt.params:null;switch(vt){case"insert":return st.insert({});case"insert_edit":return st.insert({}).then(({row:Ct})=>st.setEditRow(Ct));case"insert_actived":return st.insert({}).then(({row:Ct})=>st.setEditRow(Ct));case"mark_cancel":P(vt);break;case"remove":return Y(vt,"vxe.grid.removeSelectRecord",()=>st.removeCheckboxRow());case"import":st.importData(Dt);break;case"open_import":st.openImport(Dt);break;case"export":st.exportData(Dt);break;case"open_export":st.openExport(Dt);break;case"reset_custom":return st.resetColumn(!0);case"_init":case"reload":case"query":{const Ct=bt.query;if(Ct){const Mt=vt==="_init",Lt=vt==="reload";let Bt=[],Kt=[],qt={};if(Se&&((Mt||Lt)&&(ge.currentPage=1),pt(Qe)&&(qt=Object.assign({},ge))),Mt){const{computeSortOpts:Nt}=st.getComputeMaps();let At=Nt.value.defaultSort;At&&(n.isArray(At)||(At=[At]),Bt=At.map(Xt=>({field:Xt.field,property:Xt.field,order:Xt.order}))),Kt=st.getCheckedFilters()}else Lt?st.clearAll():(Bt=st.getSortColumns(),Kt=st.getCheckedFilters());const Gt={code:vt,button:Tt,isInited:Mt,isReload:Lt,$grid:re,page:qt,sort:Bt.length?Bt[0]:{},sorts:Bt,filters:Kt,form:Be,options:Ct};x.sortData=Bt,x.filterData=Kt,x.tableLoading=!0;const eo=[Gt].concat(ce);return Promise.resolve((et||Ct)(...eo)).then(Nt=>{if(x.tableLoading=!1,Nt)if(Se&&pt(Qe)){const Vt=ft.total,At=(n.isFunction(Vt)?Vt({data:Nt,$grid:re}):n.get(Nt,Vt||"page.total"))||0;ge.total=n.toNumber(At);const Xt=ft.result;x.tableData=(n.isFunction(Xt)?Xt({data:Nt,$grid:re}):n.get(Nt,Xt||"result"))||[];const lo=Math.max(Math.ceil(At/ge.pageSize),1);ge.currentPage>lo&&(ge.currentPage=lo)}else{const Vt=ft.list;x.tableData=(Vt?n.isFunction(Vt)?Vt({data:Nt,$grid:re}):n.get(Nt,Vt):Nt)||[]}else x.tableData=[];return Ke&&Ke(...eo),{status:!0}}).catch(()=>(x.tableLoading=!1,{status:!1}))}break}case"delete":{const Ct=bt.delete;if(Ct){const Mt=E.getCheckboxRecords(),Lt=Mt.filter(Gt=>!st.isInsertByRow(Gt)),qt=[{$grid:re,code:vt,button:Tt,body:{removeRecords:Lt},form:Be,options:Ct}].concat(ce);if(Mt.length)return Y(vt,"vxe.grid.deleteSelectRecord",()=>Lt.length?(x.tableLoading=!0,Promise.resolve((lt||Ct)(...qt)).then(Gt=>(x.tableLoading=!1,st.setPendingRow(Lt,!1),He&&ot.modal.message({content:q(Gt,"vxe.grid.delSuccess"),status:"success"}),yt?yt(...qt):se.commitProxy("query"),{status:!0})).catch(Gt=>(x.tableLoading=!1,He&&ot.modal.message({id:vt,content:q(Gt,"vxe.grid.operError"),status:"error"}),{status:!1}))):st.remove(Mt));He&&ot.modal.message({id:vt,content:m.i18n("vxe.grid.selectOneRecord"),status:"warning"})}break}case"save":{const Ct=bt.save;if(Ct){const Mt=st.getRecordset(),{insertRecords:Lt,removeRecords:Bt,updateRecords:Kt,pendingRecords:qt}=Mt,eo=[{$grid:re,code:vt,button:Tt,body:Mt,form:Be,options:Ct}].concat(ce);Lt.length&&(Mt.pendingRecords=qt.filter(Vt=>st.findRowIndexOf(Lt,Vt)===-1)),qt.length&&(Mt.insertRecords=Lt.filter(Vt=>st.findRowIndexOf(qt,Vt)===-1));let Nt=Promise.resolve();return A&&(Nt=st[G&&G.msgMode==="full"?"fullValidate":"validate"](Mt.insertRecords.concat(Kt))),Nt.then(Vt=>{if(!Vt){if(Mt.insertRecords.length||Bt.length||Kt.length||Mt.pendingRecords.length)return x.tableLoading=!0,Promise.resolve((M||Ct)(...eo)).then(At=>(x.tableLoading=!1,st.clearPendingRow(),He&&ot.modal.message({content:q(At,"vxe.grid.saveSuccess"),status:"success"}),wt?wt(...eo):se.commitProxy("query"),{status:!0})).catch(At=>(x.tableLoading=!1,He&&ot.modal.message({id:vt,content:q(At,"vxe.grid.operError"),status:"error"}),{status:!1}));He&&ot.modal.message({id:vt,content:m.i18n("vxe.grid.dataUnchanged"),status:"info"})}})}break}default:{const Ct=ot.commands.get(vt);Ct&&Ct.commandMethod&&Ct.commandMethod({code:vt,button:Tt,$grid:re,$table:st},...ce)}}return oe()},zoom(){return x.isZMax?se.revert():se.maximize()},isMaximized(){return x.isZMax},maximize(){return Q(!0)},revert(){return Q()},getFormItems(X){const ce=F.value,{formConfig:Oe}=e,{items:Se}=ce,A=[];return n.eachTree(Oe&&pt(ce)&&Se?Se:[],G=>{A.push(G)},{children:"children"}),n.isUndefined(X)?A:A[X]},getProxyInfo(){const X=f.value;if(e.proxyConfig){const{sortData:ce}=x;return{data:x.tableData,filter:x.filterData,form:x.formData,sort:ce.length?ce[0]:{},sorts:ce,pager:x.tablePage,pendingRecords:X?X.getPendingRecords():[]}}return null}};const Ye={extendTableMethods:S,callSlot(X,ce){return X&&(n.isString(X)&&(X=s[X]||null),n.isFunction(X))?$t(X(ce)):[]},getExcludeHeight(){const{height:X}=e,{isZMax:ce}=x,Oe=i.value,Se=W.value,A=V.value,G=T.value,ge=_.value,Be=C.value;return(ce||X!=="auto"?0:di(Oe.parentNode))+di(Oe)+wl(Se)+wl(A)+wl(G)+wl(ge)+wl(Be)},getParentHeight(){const X=i.value;return X?(x.isZMax?wn().visibleHeight:n.toNumber(getComputedStyle(X.parentNode).height))-Ye.getExcludeHeight():0},triggerToolbarCommitEvent(X,ce){const{code:Oe}=X;return se.commitProxy(X,ce).then(Se=>{Oe&&Se&&Se.status&&["query","reload","delete","save"].includes(Oe)&&se.dispatchEvent(Oe==="delete"||Oe==="save"?`proxy-${Oe}`:"proxy-query",Object.assign(Object.assign({},Se),{isReload:Oe==="reload"}),ce)})},triggerToolbarBtnEvent(X,ce){Ye.triggerToolbarCommitEvent(X,ce),se.dispatchEvent("toolbar-button-click",{code:X.code,button:X},ce)},triggerToolbarTolEvent(X,ce){Ye.triggerToolbarCommitEvent(X,ce),se.dispatchEvent("toolbar-tool-click",{code:X.code,tool:X,$event:ce})},triggerZoomEvent(X){se.zoom(),se.dispatchEvent("zoom",{type:x.isZMax?"max":"revert"},X)}};Object.assign(re,E,se,Ye);const _e=Xe(0);at(()=>e.columns?e.columns.length:-1,()=>{_e.value++}),at(()=>e.columns,()=>{_e.value++}),at(_e,()=>{oe(()=>re.loadColumn(e.columns||[]))}),at(()=>e.toolbarConfig,()=>{N()}),at(()=>e.pagerConfig,()=>{I()}),at(()=>e.proxyConfig,()=>{Ge()});const Fe=X=>{const ce=H.value;ht(X,ut.ESCAPE)&&x.isZMax&&ce.escRestore!==!1&&Ye.triggerZoomEvent(X)};ot.hooks.forEach(X=>{const{setupGrid:ce}=X;if(ce){const Oe=ce(re);Oe&&n.isObject(Oe)&&Object.assign(re,Oe)}}),I(),po(()=>{oe(()=>{const{data:X,columns:ce,proxyConfig:Oe}=e,Se=R.value,A=F.value;pt(Oe)&&(X||Se.form&&A.data)&&Jt("vxe.error.errConflicts",["grid.data","grid.proxy-config"]),ce&&ce.length&&re.loadColumn(ce),N()}),gt.on(re,"keydown",Fe)}),ao(()=>{gt.off(re,"keydown")}),oe(()=>{Ge()});const ke=()=>{const X=p.value,ce=ue.value;return r("div",{ref:i,class:["vxe-grid",{[`size--${X}`]:X,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":x.isZMax,"is--loading":e.loading||x.tableLoading}],style:ce},le())};return re.renderVN=ke,_t("$xegrid",re),re},render(){return this.renderVN()}}),Hi=Object.assign(Hl,{install(e){e.component(Hl.name,Hl)}}),Md=Hi;kt.component(Hl.name,Hl);const ji=Object.assign(ko,{install(e){e.component(ko.name,ko)}}),kd=ji;kt.component(ko.name,ko);const jl=Rt({name:"VxeCheckboxGroup",props:{modelValue:Array,options:Array,optionProps:Object,disabled:Boolean,max:{type:[String,Number],default:null},size:{type:String,default:()=>m.checkboxGroup.size||m.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:s,emit:c}=t,h=mt("$xeform",null),g=mt("$xeformiteminfo",null),p=n.uniqueId(),x=ve(()=>{const{modelValue:C,max:S}=e;return S?(C?C.length:0)>=n.toNumber(S):!1}),i=ve(()=>e.optionProps||{}),f=ve(()=>i.value.label||"label"),d=ve(()=>i.value.value||"value"),y=ve(()=>i.value.disabled||"disabled"),$={computeIsMaximize:x},W={xID:p,props:e,context:t,getComputeMaps:()=>$};Qt(e),Object.assign(W,{dispatchEvent(C,S,E){c(C,Object.assign({$checkboxGroup:W,$event:E},S))}},{handleChecked(C,S){const{checked:E,label:R}=C,L=e.modelValue||[],j=L.indexOf(R);E?j===-1&&L.push(R):L.splice(j,1),c("update:modelValue",L),W.dispatchEvent("change",Object.assign({checklist:L},C),S),h&&g&&h.triggerItemEvent(S,g.itemConfig.field,L)}});const _=()=>{const{options:C}=e,S=s.default,E=d.value,R=f.value,L=y.value;return r("div",{class:"vxe-checkbox-group"},S?S({}):C?C.map(j=>r(ko,{label:j[E],content:j[R],disabled:j[L]})):[])};return W.renderVN=_,_t("$xecheckboxgroup",W),_}}),zi=Object.assign(jl,{install(e){e.component(jl.name,jl)}}),Dd=zi;kt.component(jl.name,jl);const Wi=Object.assign(Wn,{install:function(e){e.component(Wn.name,Wn)}}),Id=Wi;kt.component(Wn.name,Wn);const _i=Object.assign(_n,{install:function(e){e.component(_n.name,_n)}}),Fd=_i;kt.component(_n.name,_n);const qi=Object.assign(il,{install:function(e){e.component(il.name,il)}}),Ld=qi;kt.component(il.name,il);const Gi=Object.assign(un,{install(e){e.component(un.name,un)}}),Nd=Gi;kt.component(un.name,un);let rn;const zl=Rt({name:"VxeTextarea",props:{modelValue:[String,Number],className:String,immediate:{type:Boolean,default:!0},name:String,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:()=>n.eqNull(m.textarea.placeholder)?m.i18n("vxe.base.pleaseInput"):m.textarea.placeholder},maxlength:[String,Number],rows:{type:[String,Number],default:2},cols:{type:[String,Number],default:null},showWordCount:Boolean,countMethod:Function,autosize:[Boolean,Object],form:String,resize:{type:String,default:()=>m.textarea.resize},size:{type:String,default:()=>m.textarea.size||m.size}},emits:["update:modelValue","input","keydown","keyup","click","change","focus","blur"],setup(e,t){const{emit:s}=t,c=mt("$xeform",null),h=mt("$xeformiteminfo",null),g=n.uniqueId(),p=Qt(e),x=zt({inputValue:e.modelValue}),i=Xe(),f=Xe(),d={refElem:i,refTextarea:f},y={xID:g,props:e,context:t,reactData:x,getRefMaps:()=>d};let $={};const W=ve(()=>n.getSize(x.inputValue)),V=ve(()=>{const D=W.value;return e.maxlength&&D>n.toNumber(e.maxlength)}),T=ve(()=>Object.assign({minRows:1,maxRows:10},m.textarea.autosize,e.autosize)),_=()=>{const{size:D,autosize:H}=e,{inputValue:ue}=x;if(H){rn||(rn=document.createElement("div")),rn.parentNode||document.body.appendChild(rn);const Ce=f.value,ye=getComputedStyle(Ce);rn.className=["vxe-textarea--autosize",D?`size--${D}`:""].join(" "),rn.style.width=`${Ce.clientWidth}px`,rn.style.padding=ye.padding,rn.innerText=(""+(ue||"　")).replace(/\n$/,`
　`)}},C=()=>{e.autosize&&oe(()=>{const D=T.value,{minRows:H,maxRows:ue}=D,Ce=f.value,ye=rn.clientHeight,ne=getComputedStyle(Ce),re=n.toNumber(ne.lineHeight),se=n.toNumber(ne.paddingTop),J=n.toNumber(ne.paddingBottom),N=n.toNumber(ne.borderTopWidth),I=n.toNumber(ne.borderBottomWidth),P=se+J+N+I,q=(ye-P)/re,Y=q&&/[0-9]/.test(""+q)?q:Math.floor(q)+1;let pe=Y;Y<H?pe=H:Y>ue&&(pe=ue),Ce.style.height=`${pe*re+P}px`})},S=D=>{const H=x.inputValue;y.dispatchEvent(D.type,{value:H},D)},E=(D,H)=>{x.inputValue=D,s("update:modelValue",D),n.toValueString(e.modelValue)!==D&&($.dispatchEvent("change",{value:D},H),c&&h&&c.triggerItemEvent(H,h.itemConfig.field,D))},R=D=>{const{immediate:H}=e,Ce=D.target.value;x.inputValue=Ce,H&&E(Ce,D),y.dispatchEvent("input",{value:Ce},D),C()},L=D=>{const{immediate:H}=e;H?S(D):E(x.inputValue,D)},j=D=>{const{immediate:H}=e,{inputValue:ue}=x;H||E(ue,D),y.dispatchEvent("blur",{value:ue},D)};$={dispatchEvent(D,H,ue){s(D,Object.assign({$textarea:y,$event:ue},H))},focus(){return f.value.focus(),oe()},blur(){return f.value.blur(),oe()}},Object.assign(y,$),at(()=>e.modelValue,D=>{x.inputValue=D,_()}),oe(()=>{const{autosize:D}=e;D&&(_(),C())});const F=()=>{const{className:D,resize:H,placeholder:ue,disabled:Ce,maxlength:ye,autosize:ne,showWordCount:re,countMethod:se,rows:J,cols:N}=e,{inputValue:I}=x,P=p.value,q=V.value,Y=W.value;return r("div",{ref:i,class:["vxe-textarea",D,{[`size--${P}`]:P,"is--autosize":ne,"is--count":re,"is--disabled":Ce,"def--rows":!n.eqNull(J),"def--cols":!n.eqNull(N)}]},[r("textarea",{ref:f,class:"vxe-textarea--inner",value:I,name:e.name,placeholder:ue?jt(ue):null,maxlength:ye,readonly:e.readonly,disabled:Ce,rows:J,cols:N,style:H?{resize:H}:null,onInput:R,onChange:L,onKeydown:S,onKeyup:S,onClick:S,onFocus:S,onBlur:j}),re?r("span",{class:["vxe-textarea--count",{"is--error":q}]},se?`${se({value:I})}`:`${Y}${ye?`/${ye}`:""}`):null])};return y.renderVN=F,y},render(){return this.renderVN()}}),Yi=Object.assign(zl,{install:function(e){e.component(zl.name,zl)}}),Pd=Yi;kt.component(zl.name,zl);const Wl=Rt({name:"VxeButtonGroup",props:{options:Array,mode:String,status:String,round:Boolean,circle:Boolean,className:[String,Function],disabled:Boolean,size:{type:String,default:()=>m.buttonGroup.size||m.size}},emits:["click"],setup(e,t){const{slots:s,emit:c}=t,h=n.uniqueId(),g={},p={xID:h,props:e,context:t,getComputeMaps:()=>g};Qt(e);const x={dispatchEvent(d,y,$){c(d,Object.assign({$buttonGroup:p,$event:$},y))}};Object.assign(p,x,{handleClick(d,y){const{options:$}=e,{name:W}=d,V=$?$.find(T=>T.name===W):null;x.dispatchEvent("click",Object.assign(Object.assign({},d),{option:V}),y)}});const f=()=>{const{className:d,options:y}=e,$=s.default;return r("div",{class:["vxe-button-group",d?n.isFunction(d)?d({$buttonGroup:p}):d:""]},$?$({}):y?y.map((W,V)=>r(xo,Object.assign({key:V},W))):[])};return p.renderVN=f,_t("$xebuttongroup",p),f}}),Xi=Object.assign(Wl,{install(e){e.component(Wl.name,Wl)}}),Vd=Xi;kt.component(Wl.name,Wl);function za(e){return wc(),new Promise(t=>{if(e&&e.id&&Bn.some(s=>s.props.id===e.id))t("exist");else{const s=e.onHide,c=Object.assign(e,{key:n.uniqueId(),modelValue:!0,onHide(h){const g=ms.modals;s&&s(h),ms.modals=g.filter(p=>p.key!==c.key),t(h.type)}});ms.modals.push(c)}})}function Wa(e){return n.find(Bn,t=>t.props.id===e)}function Ad(e){const t=e?[Wa(e)]:Bn,s=[];return t.forEach(c=>{c&&s.push(c.close())}),Promise.all(s)}function Ui(e,t,s,c){let h;return n.isObject(t)?h=t:h={content:n.toValueString(t),title:s},za(Object.assign(Object.assign(Object.assign({},e),c),h))}function $d(e,t,s){return Ui({type:"alert",showFooter:!0},e,t,s)}function Bd(e,t,s){return Ui({type:"confirm",status:"question",showFooter:!0},e,t,s)}function Hd(e,t){return Ui({type:"message",mask:!1,lockView:!1,showHeader:!1},e,"",t)}const _a={get:Wa,close:Ad,open:za,alert:$d,confirm:Bd,message:Hd},jd=_a,Ki=Object.assign(Sn,{install:function(e){e.component(Sn.name,Sn),ot.modal=_a}}),zd=Ki;kt.component(Sn.name,Sn);const qa={title:String,field:String,span:[String,Number],align:String,titleAlign:{type:String,default:null},titleWidth:{type:[String,Number],default:null},titleColon:{type:Boolean,default:null},titleAsterisk:{type:Boolean,default:null},showTitle:{type:Boolean,default:!0},vertical:{type:Boolean,default:null},className:[String,Function],contentClassName:[String,Function],contentStyle:[Object,Function],titleClassName:[String,Function],titleStyle:[Object,Function],titleOverflow:{type:[Boolean,String],default:null},titlePrefix:Object,titleSuffix:Object,resetValue:{default:null},visibleMethod:Function,visible:{type:Boolean,default:null},folding:Boolean,collapseNode:Boolean,itemRender:Object},_l=Rt({name:"VxeFormItem",props:qa,setup(e,{slots:t}){const s=Xe(),c=mt("$xeform",{}),h=mt("$xeformgather",null),g=zt($i(c,e)),p={formItem:g},x={itemConfig:g};g.slots=t,_t("$xeformiteminfo",x),_t("$xeformitem",p),_t("$xeformgather",null),Aa(e,g),po(()=>{$a(c,s.value,g,h)}),ao(()=>{Ba(c,g)});const i=(y,$)=>{const{props:W,reactData:V}=y,{data:T,rules:_,titleAlign:C,titleWidth:S,titleColon:E,titleAsterisk:R,titleOverflow:L,vertical:j}=W,{collapseAll:F}=V,{computeValidOpts:D}=y.getComputeMaps(),H=D.value,{slots:ue,title:Ce,visible:ye,folding:ne,field:re,collapseNode:se,itemRender:J,showError:N,errRule:I,className:P,titleOverflow:q,vertical:Y,showTitle:pe,contentClassName:De,contentStyle:we,titleClassName:Pe,titleStyle:$e}=$,ae=pt(J)?ot.renderer.get(J.name):null,k=ae?ae.itemClassName:"",Q=ae?ae.itemStyle:null,ie=ae?ae.itemContentClassName:"",fe=ae?ae.itemContentStyle:null,Re=ae?ae.itemTitleClassName:"",te=ae?ae.itemTitleStyle:null,ee=ue?ue.default:null,le=ue?ue.title:null,me=$.span||W.span,be=$.align||W.align,he=n.eqNull($.titleAlign)?C:$.titleAlign,Ve=n.eqNull($.titleWidth)?S:$.titleWidth,Ge=n.eqNull($.titleColon)?E:$.titleColon,Ye=n.eqNull($.titleAsterisk)?R:$.titleAsterisk,_e=n.isUndefined(q)||n.isNull(q)?L:q,Fe=n.isUndefined(Y)||n.isNull(Y)?j:Y,ke=_e==="ellipsis",X=_e==="title",ce=_e===!0||_e==="tooltip",Oe=X||ce||ke,Se={data:T,field:re,property:re,item:$,$form:y,$grid:y.xegrid};let A=!1;if(ye===!1)return Ot();if(_){const Be=_[re];Be&&(A=Be.some(He=>He.required))}let G=[];ee?G=y.callSlot(ee,Se):ae&&ae.renderItemContent?G=$t(ae.renderItemContent(J,Se)):re&&(G=[`${n.get(T,re)}`]),se&&G.push(r("div",{class:"vxe-form--item-trigger-node",onClick:y.toggleCollapseEvent},[r("span",{class:"vxe-form--item-trigger-text"},F?m.i18n("vxe.form.unfolding"):m.i18n("vxe.form.folding")),r("i",{class:["vxe-form--item-trigger-icon",F?m.icon.FORM_FOLDING:m.icon.FORM_UNFOLDING]})])),I&&H.showMessage&&G.push(r("div",{class:"vxe-form--item-valid",style:I.maxWidth?{width:`${I.maxWidth}px`}:null},I.message));const ge=ce?{onMouseenter(Be){y.triggerTitleTipEvent(Be,Se)},onMouseleave:y.handleTitleTipLeaveEvent}:{};return r("div",{ref:s,class:["vxe-form--item",$.id,me?`vxe-col--${me} is--span`:"",P?n.isFunction(P)?P(Se):P:"",k?n.isFunction(k)?k(Se):k:"",{"is--title":Ce,"is--colon":Ge,"is--vertical":Fe,"is--asterisk":Ye,"is--required":A,"is--hidden":ne&&F,"is--active":Bi(y,$),"is--error":N}],style:n.isFunction(Q)?Q(Se):Q},[r("div",{class:"vxe-form--item-inner"},[pe!==!1&&(Ce||le)?r("div",Object.assign({class:["vxe-form--item-title",he?`align--${he}`:"",Oe?"is--ellipsis":"",Re?n.isFunction(Re)?Re(Se):Re:"",Pe?n.isFunction(Pe)?Pe(Se):Pe:""],style:Object.assign({},n.isFunction(te)?te(Se):te,n.isFunction($e)?$e(Se):$e,Ve?{width:isNaN(Ve)?Ve:`${Ve}px`}:null),title:X?jt(Ce):null},ge),Ha(y,$)):null,r("div",{class:["vxe-form--item-content",be?`align--${be}`:"",ie?n.isFunction(ie)?ie(Se):ie:"",De?n.isFunction(De)?De(Se):De:""],style:Object.assign({},n.isFunction(fe)?fe(Se):fe,n.isFunction(we)?we(Se):we)},G)])])};return{renderVN:()=>{const y=c?c.props:null;return y&&y.customLayout?i(c,g):r("div",{ref:s})}}},render(){return this.renderVN()}}),Zi=Object.assign(_l,{install(e){e.component(_l.name,_l)}}),Wd=Zi;kt.component(_l.name,_l);const ql=Rt({name:"VxeFormGather",props:qa,setup(e,{slots:t}){const s=Xe(),c=mt("$xeform",{}),h=mt("$xeformgather",null),g=t.default,p=zt($i(c,e)),x={formItem:p},i={itemConfig:p};return p.children=[],_t("$xeformiteminfo",i),_t("$xeformgather",x),_t("$xeformitem",null),Aa(e,p),po(()=>{$a(c,s.value,p,h)}),ao(()=>{Ba(c,p)}),{renderVN:()=>r("div",{ref:s},g?g():[])}},render(){return this.renderVN()}}),Ji=Object.assign(ql,{install(e){e.component(ql.name,ql)}}),_d=Ji;kt.component(ql.name,ql);class Ga{constructor(t,s){Object.assign(this,{id:n.uniqueId("option_"),value:s.value,label:s.label,visible:s.visible,className:s.className,disabled:s.disabled})}update(t,s){this[t]=s}}function qd(e){return e instanceof Ga}function Ya(e,t){return qd(t)?t:new Ga(e,t)}function Xa(e,t){Object.keys(e).forEach(s=>{at(()=>e[s],c=>{t.update(s,c)})})}function Ua(e,t,s,c){const{reactData:h}=e,{staticOptions:g}=h,p=t.parentNode,x=c?c.option:null,i=x?x.options:g;p&&i&&(i.splice(n.arrayIndexOf(p.children,t),0,s),h.staticOptions=g.slice(0))}function Ka(e,t){const{reactData:s}=e,{staticOptions:c}=s,h=n.findTree(c,g=>g.id===t.id,{children:"options"});h&&h.items.splice(h.index,1),s.staticOptions=c.slice(0)}const Gl=Rt({name:"VxeOptgroup",props:{label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup(e,{slots:t}){const s=Xe(),c=mt("$xeselect",{}),h=Ya(c,e),g={option:h};return h.options=[],_t("xeoptgroup",g),Xa(e,h),po(()=>{Ua(c,s.value,h)}),ao(()=>{Ka(c,h)}),()=>r("div",{ref:s},t.default?t.default():[])}}),Qi=Object.assign(Gl,{install:function(e){e.component(Gl.name,Gl)}}),Gd=Qi;kt.component(Gl.name,Gl);const Yl=Rt({name:"VxeOption",props:{value:null,label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup(e,{slots:t}){const s=Xe(),c=mt("$xeselect",{}),h=mt("xeoptgroup",null),g=Ya(c,e);return g.slots=t,Xa(e,g),po(()=>{Ua(c,s.value,g,h)}),ao(()=>{Ka(c,g)}),()=>r("div",{ref:s})}}),er=Object.assign(Yl,{install:function(e){e.component(Yl.name,Yl)}}),Yd=er;kt.component(Yl.name,Yl);const Xl=Rt({name:"VxeSwitch",props:{modelValue:[String,Number,Boolean],disabled:Boolean,size:{type:String,default:()=>m.switch.size||m.size},openLabel:String,closeLabel:String,openValue:{type:[String,Number,Boolean],default:!0},closeValue:{type:[String,Number,Boolean],default:!1},openIcon:String,closeIcon:String},emits:["update:modelValue","change","focus","blur"],setup(e,t){const{emit:s}=t,c=mt("$xeform",null),h=mt("$xeformiteminfo",null),g=n.uniqueId(),p=Qt(e),x=zt({isActivated:!1,hasAnimat:!1,offsetLeft:0}),i={xID:g,props:e,context:t,reactData:x},f=Xe();let d={};const y=ve(()=>jt(e.openLabel)),$=ve(()=>jt(e.closeLabel)),W=ve(()=>e.modelValue===e.openValue);let V;const T=E=>{if(!e.disabled){const R=W.value;clearTimeout(V);const L=R?e.closeValue:e.openValue;x.hasAnimat=!0,s("update:modelValue",L),d.dispatchEvent("change",{value:L},E),c&&h&&c.triggerItemEvent(E,h.itemConfig.field,L),V=setTimeout(()=>{x.hasAnimat=!1},400)}},_=E=>{x.isActivated=!0,d.dispatchEvent("focus",{value:e.modelValue},E)},C=E=>{x.isActivated=!1,d.dispatchEvent("blur",{value:e.modelValue},E)};d={dispatchEvent(E,R,L){s(E,Object.assign({$switch:i,$event:L},R))},focus(){const E=f.value;return x.isActivated=!0,E.focus(),oe()},blur(){return f.value.blur(),x.isActivated=!1,oe()}},Object.assign(i,d);const S=()=>{const{disabled:E,openIcon:R,closeIcon:L}=e,j=W.value,F=p.value,D=y.value,H=$.value;return r("div",{class:["vxe-switch",j?"is--on":"is--off",{[`size--${F}`]:F,"is--disabled":E,"is--animat":x.hasAnimat}]},[r("button",{ref:f,class:"vxe-switch--button",type:"button",disabled:E,onClick:T,onFocus:_,onBlur:C},[r("span",{class:"vxe-switch--label vxe-switch--label-on"},[R?r("i",{class:["vxe-switch--label-icon",R]}):Ot(),D]),r("span",{class:"vxe-switch--label vxe-switch--label-off"},[L?r("i",{class:["vxe-switch--label-icon",L]}):Ot(),H]),r("span",{class:"vxe-switch--icon"})])])};return i.renderVN=S,i},render(){return this.renderVN()}}),tr=Object.assign(Xl,{install:function(e){e.component(Xl.name,Xl)}}),Xd=tr;kt.component(Xl.name,Xl);const Ul=Rt({name:"VxeList",props:{data:Array,height:[Number,String],maxHeight:[Number,String],loading:Boolean,className:[String,Function],size:{type:String,default:()=>m.list.size||m.size},autoResize:{type:Boolean,default:()=>m.list.autoResize},syncResize:[Boolean,String,Number],scrollY:Object},emits:["scroll"],setup(e,t){const{slots:s,emit:c}=t,h=n.uniqueId(),g=Qt(e),p=zt({scrollYLoad:!1,bodyHeight:0,rowHeight:0,topSpaceHeight:0,items:[]}),x=Xe(),i=Xe(),f=Xe(),d={fullData:[],lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0}},y={refElem:x},$={xID:h,props:e,context:t,reactData:p,internalData:d,getRefMaps:()=>y};let W={};const V=ve(()=>Object.assign({},m.list.scrollY,e.scrollY)),T=ve(()=>{const{height:ne,maxHeight:re}=e,se={};return ne?se.height=`${isNaN(ne)?ne:`${ne}px`}`:re&&(se.height="auto",se.maxHeight=`${isNaN(re)?re:`${re}px`}`),se}),_=()=>{const{scrollYLoad:ne}=p,{scrollYStore:re,fullData:se}=d;p.bodyHeight=ne?se.length*re.rowHeight:0,p.topSpaceHeight=ne?Math.max(re.startIndex*re.rowHeight,0):0},C=()=>{const{scrollYLoad:ne}=p,{fullData:re,scrollYStore:se}=d;return p.items=ne?re.slice(se.startIndex,se.endIndex):re.slice(0),oe()},S=()=>{C(),_()},E=()=>oe().then(()=>{const{scrollYLoad:ne}=p,{scrollYStore:re}=d,se=f.value,J=V.value;let N=0,I;if(se&&(J.sItem&&(I=se.querySelector(J.sItem)),I||(I=se.children[0])),I&&(N=I.offsetHeight),N=Math.max(20,N),re.rowHeight=N,ne){const P=i.value,q=Math.max(8,Math.ceil(P.clientHeight/N)),Y=J.oSize?n.toNumber(J.oSize):Io.edge?10:0;re.offsetSize=Y,re.visibleSize=q,re.endIndex=Math.max(re.startIndex,q+Y,re.endIndex),S()}else _();p.rowHeight=N}),R=()=>{const ne=i.value;return ne&&(ne.scrollTop=0),oe()},L=(ne,re)=>{const se=i.value;return n.isNumber(ne)&&(se.scrollLeft=ne),n.isNumber(re)&&(se.scrollTop=re),p.scrollYLoad?new Promise(J=>{setTimeout(()=>{oe(()=>{J()})},50)}):oe()},j=()=>{const{lastScrollLeft:ne,lastScrollTop:re}=d;return R().then(()=>{if(ne||re)return d.lastScrollLeft=0,d.lastScrollTop=0,L(ne,re)})},F=()=>{const ne=x.value;return ne.clientWidth&&ne.clientHeight?E():Promise.resolve()},D=ne=>{const{scrollYStore:re}=d,{startIndex:se,endIndex:J,visibleSize:N,offsetSize:I,rowHeight:P}=re,Y=ne.target.scrollTop,pe=Math.floor(Y/P),De=Math.max(0,pe-1-I),we=pe+N+I;(pe<=se||pe>=J-N-1)&&(se!==De||J!==we)&&(re.startIndex=De,re.endIndex=we,S())},H=ne=>{const re=ne.target,se=re.scrollTop,J=re.scrollLeft,N=J!==d.lastScrollLeft,I=se!==d.lastScrollTop;d.lastScrollTop=se,d.lastScrollLeft=J,p.scrollYLoad&&D(ne),W.dispatchEvent("scroll",{scrollLeft:J,scrollTop:se,isX:N,isY:I},ne)};W={dispatchEvent(ne,re,se){c(ne,Object.assign({$list:$,$event:se},re))},loadData(ne){const{scrollYStore:re}=d,se=V.value,J=ne||[];return Object.assign(re,{startIndex:0,endIndex:1,visibleSize:0}),d.fullData=J,p.scrollYLoad=!!se.enabled&&se.gt>-1&&(se.gt===0||se.gt<=J.length),C(),E().then(()=>{j()})},reloadData(ne){return R(),W.loadData(ne)},recalculate:F,scrollTo:L,refreshScroll:j,clearScroll:R},Object.assign($,W);const ue=Xe(0);at(()=>e.data?e.data.length:-1,()=>{ue.value++}),at(()=>e.data,()=>{ue.value++}),at(ue,()=>{W.loadData(e.data||[])}),at(()=>e.syncResize,ne=>{ne&&(F(),oe(()=>setTimeout(()=>F())))}),Gr(()=>{F().then(()=>j())});let Ce;oe(()=>{if(gt.on($,"resize",()=>{F()}),e.autoResize){const ne=x.value;Ce=Pa(()=>F()),Ce.observe(ne)}W.loadData(e.data||[])}),ao(()=>{Ce&&Ce.disconnect(),gt.off($,"resize")});const ye=()=>{const{className:ne,loading:re}=e,{bodyHeight:se,topSpaceHeight:J,items:N}=p,I=g.value,P=T.value;return r("div",{ref:x,class:["vxe-list",ne?n.isFunction(ne)?ne({$list:$}):ne:"",{[`size--${I}`]:I,"is--loading":re}]},[r("div",{ref:i,class:"vxe-list--virtual-wrapper",style:P,onScroll:H},[r("div",{class:"vxe-list--y-space",style:{height:se?`${se}px`:""}}),r("div",{ref:f,class:"vxe-list--body",style:{marginTop:J?`${J}px`:""}},s.default?s.default({items:N,$list:$}):[])]),r(ws,{class:"vxe-list--loading",modelValue:re})])};return $.renderVN=ye,$},render(){return this.renderVN()}}),or=Object.assign(Ul,{install(e){e.component(Ul.name,Ul)}}),Ud=or;kt.component(Ul.name,Ul);const Kl=Rt({name:"VxePulldown",props:{modelValue:Boolean,disabled:Boolean,placement:String,size:{type:String,default:()=>m.size},className:[String,Function],popupClassName:[String,Function],destroyOnClose:Boolean,transfer:Boolean},emits:["update:modelValue","hide-panel"],setup(e,t){const{slots:s,emit:c}=t,h=n.uniqueId(),g=Qt(e),p=zt({inited:!1,panelIndex:0,panelStyle:null,panelPlacement:null,visiblePanel:!1,animatVisible:!1,isActivated:!1}),x=Xe(),i=Xe(),f=Xe(),d={refElem:x},y={xID:h,props:e,context:t,reactData:p,getRefMaps:()=>d};let $={};const W=()=>{p.panelIndex<pn()&&(p.panelIndex=en())},V=()=>p.visiblePanel,T=()=>oe().then(()=>{const{transfer:D,placement:H}=e,{panelIndex:ue,visiblePanel:Ce}=p;if(Ce){const ye=i.value,ne=f.value;if(ne&&ye){const re=ye.offsetHeight,se=ye.offsetWidth,J=ne.offsetHeight,N=ne.offsetWidth,I=5,P={zIndex:ue},{boundingTop:q,boundingLeft:Y,visibleHeight:pe,visibleWidth:De}=Zo(ye);let we="bottom";if(D){let Pe=Y,$e=q+re;H==="top"?(we="top",$e=q-J):H||($e+J+I>pe&&(we="top",$e=q-J),$e<I&&(we="bottom",$e=q+re)),Pe+N+I>De&&(Pe-=Pe+N+I-De),Pe<I&&(Pe=I),Object.assign(P,{left:`${Pe}px`,top:`${$e}px`,minWidth:`${se}px`})}else H==="top"?(we="top",P.bottom=`${re}px`):H||q+re+J>pe&&q-re-J>I&&(we="top",P.bottom=`${re}px`);p.panelStyle=P,p.panelPlacement=we}}return oe()});let _;const C=()=>(p.inited||(p.inited=!0),new Promise(D=>{e.disabled?oe(()=>{D()}):(clearTimeout(_),p.isActivated=!0,p.animatVisible=!0,setTimeout(()=>{p.visiblePanel=!0,c("update:modelValue",!0),T(),setTimeout(()=>{D(T())},40)},10),W())})),S=()=>(p.visiblePanel=!1,c("update:modelValue",!1),new Promise(D=>{p.animatVisible?_=window.setTimeout(()=>{p.animatVisible=!1,oe(()=>{D()})},350):oe(()=>{D()})})),E=()=>p.visiblePanel?S():C(),R=D=>{const{disabled:H}=e,{visiblePanel:ue}=p,Ce=f.value;H||ue&&(xt(D,Ce).flag?T():(S(),$.dispatchEvent("hide-panel",{},D)))},L=D=>{const{disabled:H}=e,{visiblePanel:ue}=p,Ce=x.value,ye=f.value;H||(p.isActivated=xt(D,Ce).flag||xt(D,ye).flag,ue&&!p.isActivated&&(S(),$.dispatchEvent("hide-panel",{},D)))},j=D=>{p.visiblePanel&&(p.isActivated=!1,S(),$.dispatchEvent("hide-panel",{},D))};$={dispatchEvent(D,H,ue){c(D,Object.assign({$pulldown:y,$event:ue},H))},isPanelVisible:V,togglePanel:E,showPanel:C,hidePanel:S},Object.assign(y,$),at(()=>e.modelValue,D=>{D?C():S()}),oe(()=>{gt.on(y,"mousewheel",R),gt.on(y,"mousedown",L),gt.on(y,"blur",j)}),ao(()=>{gt.off(y,"mousewheel"),gt.off(y,"mousedown"),gt.off(y,"blur")});const F=()=>{const{className:D,popupClassName:H,destroyOnClose:ue,transfer:Ce,disabled:ye}=e,{inited:ne,isActivated:re,animatVisible:se,visiblePanel:J,panelStyle:N,panelPlacement:I}=p,P=g.value,q=s.default,Y=s.header,pe=s.footer,De=s.dropdown;return r("div",{ref:x,class:["vxe-pulldown",D?n.isFunction(D)?D({$pulldown:y}):D:"",{[`size--${P}`]:P,"is--visivle":J,"is--disabled":ye,"is--active":re}]},[r("div",{ref:i,class:"vxe-pulldown--content"},q?q({$pulldown:y}):[]),r(ul,{to:"body",disabled:Ce?!ne:!0},[r("div",{ref:f,class:["vxe-table--ignore-clear vxe-pulldown--panel",H?n.isFunction(H)?H({$pulldown:y}):H:"",{[`size--${P}`]:P,"is--transfer":Ce,"animat--leave":se,"animat--enter":J}],placement:I,style:N},De?[r("div",{class:"vxe-pulldown--panel-wrapper"},!ne||ue&&!J&&!se?[]:[Y?r("div",{class:"vxe-pulldown--panel-header"},Y({$pulldown:y})):Ot(),r("div",{class:"vxe-pulldown--panel-body"},De({$pulldown:y})),pe?r("div",{class:"vxe-pulldown--panel-footer"},pe({$pulldown:y})):Ot()])]:[])])])};return y.renderVN=F,y},render(){return this.renderVN()}}),nr=Object.assign(Kl,{install:function(e){e.component(Kl.name,Kl)}}),Kd=nr;kt.component(Kl.name,Kl);const Zd={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择"},loading:{text:"加载中..."},error:{groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"#",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",maxFixedCol:"最大冻结列的数量不能超过 {0} 个"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动目标：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整列的排序",colTitle:"标题",colVisible:"是否显示",colFixed:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖",insert:"新增"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开层级",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{zoomIn:"最大化",zoomOut:"还原",close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"周",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"锁定列",fixedGroup:"锁定组",cancelFixed:"取消锁定",fixedLeft:"锁定左侧",fixedRight:"锁定右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}},Jd=[Ti,Ri,Mi,Di,Ii,Fi,Li,Jl,Ni,Pi,Hi,Rs,Ts,ji,zi,Wi,_i,qi,Gi,Yi,Bo,Xi,Ki,dl,Ms,Zi,Ji,Os,Qi,er,tr,or,nr,Ss];Si({i18n:(e,t)=>n.toFormatString(n.get(Zd,e),t)});function Qd(e,t){n.isPlainObject(t)&&(Si(t),t.theme&&wi(t)),Jd.forEach(s=>s.install(e))}const lu=Object.freeze(Object.defineProperty({__proto__:null,Button:xd,ButtonGroup:Vd,Checkbox:kd,CheckboxGroup:Dd,Colgroup:cd,Column:ad,Custom:nd,Edit:Dc,Export:Xc,Filter:Sc,Form:Od,FormGather:_d,FormItem:Wd,Grid:Md,Icon:ld,Input:Nd,Keyboard:Zc,List:Ud,Menu:Rc,Modal:zd,Optgroup:Gd,Option:Yd,Pager:vd,Pulldown:Kd,Radio:Id,RadioButton:Ld,RadioGroup:Fd,Select:bd,Switch:Xd,Table:gd,Textarea:Pd,Toolbar:Cd,Tooltip:wd,VXETable:ot,Validator:ed,VxeButton:Bo,VxeButtonGroup:Xi,VxeCheckbox:ji,VxeCheckboxGroup:zi,VxeColgroup:Pi,VxeColumn:Ni,VxeForm:Ms,VxeFormGather:Ji,VxeFormItem:Zi,VxeGrid:Hi,VxeIcon:Jl,VxeInput:Gi,VxeList:or,VxeModal:Ki,VxeOptgroup:Qi,VxeOption:er,VxePager:Ts,VxePulldown:nr,VxeRadio:Wi,VxeRadioButton:qi,VxeRadioGroup:_i,VxeSelect:Os,VxeSwitch:tr,VxeTable:Ss,VxeTableCustomModule:Li,VxeTableEditModule:Mi,VxeTableExportModule:Di,VxeTableFilterModule:Ti,VxeTableKeyboardModule:Ii,VxeTableMenuModule:Ri,VxeTableValidatorModule:Fi,VxeTextarea:Yi,VxeToolbar:Rs,VxeTooltip:dl,_t:Ea,commands:ha,config:Si,formats:Ur,globalConfs:wa,globalStore:Oi,hooks:xa,install:Qd,interceptor:Dl,menus:ga,modal:jd,print:Fa,readFile:xs,renderer:$n,saveFile:Cs,setConfig:Zl,setup:Oa,t:ya,use:Ca,v:Sa,validators:va},Symbol.toStringTag,{value:"Module"}));export{lu as V};
